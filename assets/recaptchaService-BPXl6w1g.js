class i{constructor(){this.siteKey=null,this.isReady=!1,this.siteKey=null,this.isEnabled()&&typeof window<"u"&&this.waitForRecaptcha()}isEnabled(){return this.siteKey!==null&&this.siteKey.length>0}async waitForRecaptcha(){return new Promise(e=>{const r=()=>{var t;(t=window.grecaptcha)!=null&&t.enterprise?window.grecaptcha.enterprise.ready(()=>{this.isReady=!0,e()}):setTimeout(r,100)};r()})}async executeRecaptcha(e){var r;if(!this.isEnabled())return console.warn("reCAPTCHA non configurato - operazione consentita senza verifica"),null;try{if(this.isReady||await this.waitForRecaptcha(),(r=window.grecaptcha)!=null&&r.enterprise&&this.siteKey){const t=await window.grecaptcha.enterprise.execute(this.siteKey,{action:e});return console.log(`âœ… reCAPTCHA token ottenuto per azione: ${e}`),t}return console.warn("reCAPTCHA non disponibile"),null}catch(t){return console.error("Errore durante l'esecuzione di reCAPTCHA:",t),null}}async canProceed(e){return this.isEnabled()&&await this.executeRecaptcha(e),!0}async getTokenForApi(e){return await this.executeRecaptcha(e)}}const a=new i;export{a as r};
//# sourceMappingURL=recaptchaService-BPXl6w1g.js.map
