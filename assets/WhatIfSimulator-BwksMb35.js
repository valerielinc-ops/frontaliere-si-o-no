import{u as B,a as U,j as e,S as L,a5 as V,a6 as Y,T as H,I as Z,B as K,o as P,H as G,Z as q,A as y}from"./index-DIpd8jQu.js";import{r as b}from"./vendor-charts-B1jiPnU9.js";import{T as R}from"./trending-down-C3MpiLDm.js";import{A as z}from"./arrow-left-right-D-Dbw-jn.js";import{D as J}from"./dollar-sign-877Ve5EX.js";import"./vendor-pdf-BpXxwvYp.js";const Q=a=>[{id:"child",icon:e.jsx(K,{size:24}),title:a("whatif.scenario.child"),description:a("whatif.scenario.child.desc"),color:"pink",fields:[{key:"children",label:a("whatif.field.children"),type:"slider",min:0,max:5,step:1},{key:"familyMembers",label:a("whatif.field.familyMembers"),type:"slider",min:1,max:6,step:1}]},{id:"salary",icon:e.jsx(J,{size:24}),title:a("whatif.scenario.salary"),description:a("whatif.scenario.salary.desc"),color:"emerald",fields:[{key:"annualIncomeCHF",label:a("whatif.field.salary"),type:"slider",min:4e4,max:25e4,step:5e3}]},{id:"residence",icon:e.jsx(P,{size:24}),title:a("whatif.scenario.residence"),description:a("whatif.scenario.residence.desc"),color:"blue",fields:[{key:"frontierWorkerType",label:a("whatif.field.frontierType"),type:"select",options:[{value:"NEW",label:a("whatif.field.frontierNew")},{value:"OLD",label:a("whatif.field.frontierOld")}]},{key:"distanceZone",label:a("whatif.field.distanceZone"),type:"select",options:[{value:"WITHIN_20KM",label:a("whatif.field.within20km")},{value:"OVER_20KM",label:a("whatif.field.over20km")}]}]},{id:"marital",icon:e.jsx(G,{size:24}),title:a("whatif.scenario.marital"),description:a("whatif.scenario.marital.desc"),color:"rose",fields:[{key:"maritalStatus",label:a("whatif.field.maritalStatus"),type:"select",options:[{value:"SINGLE",label:a("input.single")},{value:"MARRIED",label:a("input.married")},{value:"DIVORCED",label:a("input.divorced")},{value:"WIDOWED",label:a("input.widowed")}]},{key:"spouseWorks",label:a("whatif.field.spouseWorks"),type:"toggle"}]},{id:"age",icon:e.jsx(q,{size:24}),title:a("whatif.scenario.age"),description:a("whatif.scenario.age.desc"),color:"amber",fields:[{key:"age",label:a("input.age"),type:"slider",min:18,max:65,step:1}]}],D={pink:{bg:"bg-pink-500",text:"text-pink-600",border:"border-pink-200 dark:border-pink-800",light:"bg-pink-50 dark:bg-pink-950/30"},emerald:{bg:"bg-emerald-500",text:"text-emerald-600",border:"border-emerald-200 dark:border-emerald-800",light:"bg-emerald-50 dark:bg-emerald-950/30"},blue:{bg:"bg-blue-500",text:"text-blue-600",border:"border-blue-200 dark:border-blue-800",light:"bg-blue-50 dark:bg-blue-950/30"},rose:{bg:"bg-rose-500",text:"text-rose-600",border:"border-rose-200 dark:border-rose-800",light:"bg-rose-50 dark:bg-rose-950/30"},amber:{bg:"bg-amber-500",text:"text-amber-600",border:"border-amber-200 dark:border-amber-800",light:"bg-amber-50 dark:bg-amber-950/30"}},re=({baseInputs:a,baseResult:g})=>{const{t}=B(),[p,f]=b.useState({}),[u,F]=b.useState("child"),v=b.useMemo(()=>({...a,...p}),[a,p]),d=b.useMemo(()=>U(v),[v]),j=(s,i)=>{f(k=>({...k,[s]:i})),y.trackUIInteraction("simulatore","what_if","campo_parametro","cambio",`${s}:${i}`)},E=()=>{f({}),y.trackUIInteraction("simulatore","what_if","bottone_reset","click",u)},A=s=>{F(s),f({}),y.trackUIInteraction("simulatore","what_if","selettore_scenario","cambio",s)},O=g.itResident.netIncomeMonthly,W=g.chResident.netIncomeMonthly,w=d.itResident.netIncomeMonthly,N=d.chResident.netIncomeMonthly,l=w-O,r=N-W,_=g.savingsEUR,n=d.savingsEUR,m=n-_,h=n>=0?"IT":"CH",o=Object.keys(p).length>0,I=Q(t),x=I.find(s=>s.id===u),S=D[x.color];return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"bg-gradient-to-br from-violet-600 via-fuchsia-500 to-pink-500 rounded-3xl p-8 text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-yellow-300/15 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:e.jsx(L,{size:32,className:"text-yellow-300"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold",children:t("whatif.title")}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 text-[10px] font-bold uppercase tracking-wider bg-yellow-400/25 text-yellow-200 border border-yellow-300/40 rounded-full",children:["âœ¨ ",t("whatif.experimentalBadge")]})]}),e.jsx("p",{className:"text-white/70 mt-1 text-sm",children:t("whatif.subtitle")})]})]}),e.jsx("div",{className:"mt-4 bg-white/10 rounded-xl p-3 backdrop-blur-sm text-sm text-white/60",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{size:14,className:"text-yellow-300"}),e.jsx("span",{children:t("whatif.terminalHint")})]})})]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:I.map(s=>{const i=D[s.color];return e.jsxs("button",{onClick:()=>A(s.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl font-bold text-sm whitespace-nowrap transition-all ${u===s.id?`${i.bg} text-white shadow-lg scale-105`:"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:shadow-md"}`,children:[s.icon,e.jsx("span",{className:"hidden sm:inline",children:s.title})]},s.id)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`rounded-2xl border-2 ${S.border} p-6 ${S.light}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[x.icon,x.title]}),o&&e.jsxs("button",{onClick:E,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-bold text-slate-500 hover:text-slate-700 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 transition-all",children:[e.jsx(Y,{size:12}),t("whatif.reset")]})]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mb-6",children:x.description}),e.jsx("div",{className:"space-y-6",children:x.fields.map(s=>{var M,C,$;const i=v[s.key],k=a[s.key],T=i!==k;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:s.label}),T&&e.jsx("span",{className:"text-xs font-bold text-violet-600 dark:text-violet-400 bg-violet-100 dark:bg-violet-900/30 px-2 py-0.5 rounded-full",children:t("whatif.modified")})]}),s.type==="slider"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:s.min,max:s.max,step:s.step,value:i,onChange:c=>j(s.key,Number(c.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-full appearance-none cursor-pointer accent-violet-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[e.jsx("span",{children:(M=s.min)==null?void 0:M.toLocaleString("it-IT")}),e.jsxs("span",{className:`font-bold text-base ${T?"text-violet-600":"text-slate-800 dark:text-slate-200"}`,children:[i.toLocaleString("it-IT"),s.key==="annualIncomeCHF"&&" CHF"]}),e.jsx("span",{children:(C=s.max)==null?void 0:C.toLocaleString("it-IT")})]})]}),s.type==="select"&&e.jsx("select",{value:i,onChange:c=>j(s.key,c.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-800 dark:text-slate-200 font-semibold focus:outline-none focus:ring-2 focus:ring-violet-500",children:($=s.options)==null?void 0:$.map(c=>e.jsx("option",{value:c.value,children:c.label},c.value))}),s.type==="toggle"&&e.jsx("button",{onClick:()=>j(s.key,!i),className:`relative w-14 h-7 rounded-full transition-colors ${i?"bg-violet-600":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("div",{className:`absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full shadow transition-transform ${i?"translate-x-7":""}`})})]},String(s.key))})})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:`grid grid-cols-1 sm:grid-cols-3 gap-4 ${o?"":"opacity-40"}`,children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-5 shadow-sm",children:[e.jsxs("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-500 uppercase mb-1",children:["ðŸ‡®ðŸ‡¹ ",t("whatif.netIT")]}),e.jsxs("div",{className:"text-2xl font-extrabold text-slate-800 dark:text-slate-100",children:["â‚¬ ",Math.round(w).toLocaleString("it-IT")]}),o&&e.jsxs("div",{className:`flex items-center gap-1 mt-1 text-sm font-bold ${l>=0?"text-emerald-600":"text-red-600"}`,children:[l>=0?e.jsx(H,{size:14}):e.jsx(R,{size:14}),l>=0?"+":"",Math.round(l).toLocaleString("it-IT")," â‚¬"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-5 shadow-sm",children:[e.jsxs("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-500 uppercase mb-1",children:["ðŸ‡¨ðŸ‡­ ",t("whatif.netCH")]}),e.jsxs("div",{className:"text-2xl font-extrabold text-slate-800 dark:text-slate-100",children:["CHF ",Math.round(N).toLocaleString("it-IT")]}),o&&e.jsxs("div",{className:`flex items-center gap-1 mt-1 text-sm font-bold ${r>=0?"text-emerald-600":"text-red-600"}`,children:[r>=0?e.jsx(H,{size:14}):e.jsx(R,{size:14}),r>=0?"+":"",Math.round(r).toLocaleString("it-IT")," CHF"]})]}),e.jsxs("div",{className:`rounded-2xl border-2 p-5 shadow-sm ${h==="IT"?"bg-emerald-50 dark:bg-emerald-950/30 border-emerald-200 dark:border-emerald-800":"bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800"}`,children:[e.jsxs("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-500 uppercase mb-1 flex items-center gap-1",children:[e.jsx(z,{size:12}),t("whatif.bestOption")]}),e.jsx("div",{className:`text-lg font-extrabold ${h==="IT"?"text-emerald-600":"text-blue-600"}`,children:h==="IT"?"ðŸ‡®ðŸ‡¹ "+t("whatif.liveInItaly"):"ðŸ‡¨ðŸ‡­ "+t("whatif.liveInSwiss")}),e.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[t("whatif.diffPerYear"),": ",e.jsxs("span",{className:`font-bold ${n>=0?"text-emerald-600":"text-blue-600"}`,children:["â‚¬ ",Math.abs(Math.round(n)).toLocaleString("it-IT")]})]})]})]}),o&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm animate-fade-in",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(Z,{size:20,className:"text-violet-600"}),t("whatif.impactDetail")]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm font-bold text-slate-600 dark:text-slate-500",children:["ðŸ‡®ðŸ‡¹ ",t("whatif.residenceItaly")]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[e.jsx("div",{className:"text-xs text-slate-500",children:t("whatif.grossAnnual")}),e.jsxs("div",{className:"font-bold text-slate-800 dark:text-slate-100",children:["â‚¬ ",Math.round(d.itResident.grossIncome*d.exchangeRate).toLocaleString("it-IT")]})]}),e.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[e.jsx("div",{className:"text-xs text-slate-500",children:t("whatif.totalTaxes")}),e.jsxs("div",{className:"font-bold text-red-600",children:["â‚¬ ",Math.round(d.itResident.taxes*d.exchangeRate).toLocaleString("it-IT")]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:[e.jsx("div",{className:"text-xs text-slate-500",children:t("whatif.netMonthly")}),e.jsxs("div",{className:"font-bold text-emerald-700 dark:text-emerald-400",children:["â‚¬ ",Math.round(w).toLocaleString("it-IT")]}),l!==0&&e.jsxs("div",{className:`text-[10px] font-bold ${l>=0?"text-emerald-600":"text-red-600"}`,children:[l>=0?"â†‘":"â†“"," ",l>=0?"+":"",Math.round(l)," â‚¬"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm font-bold text-slate-600 dark:text-slate-500",children:["ðŸ‡¨ðŸ‡­ ",t("whatif.residenceSwiss")]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[e.jsx("div",{className:"text-xs text-slate-500",children:t("whatif.grossAnnual")}),e.jsxs("div",{className:"font-bold text-slate-800 dark:text-slate-100",children:["CHF ",Math.round(d.chResident.grossIncome).toLocaleString("it-IT")]})]}),e.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-lg",children:[e.jsx("div",{className:"text-xs text-slate-500",children:t("whatif.totalTaxes")}),e.jsxs("div",{className:"font-bold text-red-600",children:["CHF ",Math.round(d.chResident.taxes).toLocaleString("it-IT")]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-xs text-slate-500",children:t("whatif.netMonthly")}),e.jsxs("div",{className:"font-bold text-blue-700 dark:text-blue-400",children:["CHF ",Math.round(N).toLocaleString("it-IT")]}),r!==0&&e.jsxs("div",{className:`text-[10px] font-bold ${r>=0?"text-emerald-600":"text-red-600"}`,children:[r>=0?"â†‘":"â†“"," ",r>=0?"+":"",Math.round(r)," CHF"]})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:e.jsxs("div",{className:`p-4 rounded-xl ${h==="IT"?"bg-emerald-50 dark:bg-emerald-900/20":"bg-blue-50 dark:bg-blue-900/20"}`,children:[e.jsxs("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:["ðŸ“Š ",t("whatif.scenarioSummary")]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/70 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase",children:t("whatif.yourNetChange")}),e.jsxs("div",{className:`text-xl font-extrabold ${l>=0?"text-emerald-600":"text-red-600"}`,children:[l>=0?"+":"",Math.round(l).toLocaleString("it-IT")," â‚¬/",t("common.months")]}),e.jsxs("div",{className:"text-[10px] text-slate-500",children:["= ",l>=0?"+":"",Math.round(l*12).toLocaleString("it-IT")," â‚¬/",t("whatif.perYear")]}),e.jsxs("div",{className:"text-[10px] text-slate-500 mt-0.5",children:["(",t("whatif.asItalyFrontier"),")"]})]}),e.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/70 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase",children:t("whatif.chComparison")}),e.jsxs("div",{className:`text-xl font-extrabold ${r>=0?"text-emerald-600":"text-red-600"}`,children:[r>=0?"+":"",Math.round(r).toLocaleString("it-IT")," CHF/",t("common.months")]}),e.jsxs("div",{className:"text-[10px] text-slate-500",children:["= ",r>=0?"+":"",Math.round(r*12).toLocaleString("it-IT")," CHF/",t("whatif.perYear")]}),e.jsxs("div",{className:"text-[10px] text-slate-500 mt-0.5",children:["(",t("whatif.asSwissResident"),")"]})]})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 rounded-lg p-3 border border-slate-200/50 dark:border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(z,{size:14,className:"text-violet-600"}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-500",children:[t("whatif.comparisonLabel"),":"]})]}),e.jsx("div",{className:`text-lg font-extrabold mt-1 ${n>=0?"text-emerald-600":"text-blue-600"}`,children:n>=0?`ðŸ‡®ðŸ‡¹ ${t("whatif.italyBetterBy")} â‚¬ ${Math.abs(Math.round(n)).toLocaleString("it-IT")}/${t("whatif.perYear")}`:`ðŸ‡¨ðŸ‡­ ${t("whatif.swissBetterBy")} â‚¬ ${Math.abs(Math.round(n)).toLocaleString("it-IT")}/${t("whatif.perYear")}`}),o&&m!==0&&e.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[t("whatif.vsCurrentScenario"),": ",e.jsxs("span",{className:`font-bold ${m>=0?"text-emerald-600":"text-red-600"}`,children:[m>=0?"+":"",Math.round(m).toLocaleString("it-IT")," â‚¬"]})]})]})]})})]})]}),!o&&e.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-pink-50 dark:from-violet-950/30 dark:to-pink-950/30 rounded-2xl border-2 border-dashed border-violet-300/60 dark:border-violet-600/40 p-8 text-center",children:[e.jsx("div",{className:"relative inline-block",children:e.jsx(L,{size:48,className:"text-violet-400 mx-auto mb-4"})}),e.jsx("p",{className:"text-lg font-bold text-slate-700 dark:text-slate-300",children:t("whatif.modifyParams")}),e.jsx("p",{className:"text-sm text-violet-500/70 dark:text-violet-400/60 mt-1",children:t("whatif.resultsRealtime")}),e.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-500 mt-3 italic",children:t("whatif.nerdDisclaimer")})]})]})]})]})};export{re as default};
//# sourceMappingURL=WhatIfSimulator-BwksMb35.js.map
