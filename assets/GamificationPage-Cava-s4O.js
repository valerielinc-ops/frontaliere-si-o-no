import{c as L,u as A,a7 as u,a8 as E,a9 as g,aa as x,j as e,b as f,ab as I,n as v,Z as j,S as M,a0 as P}from"./index-DIpd8jQu.js";import{r as c}from"./vendor-charts-B1jiPnU9.js";import{L as T}from"./lock-BeaZOuSu.js";import{S as X}from"./star-ReMl-CGN.js";import"./vendor-pdf-BpXxwvYp.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],U=L("target",D),V=()=>{const{t:r}=A(),[i,k]=c.useState(u),[o,N]=c.useState("all");c.useEffect(()=>{const t=setInterval(()=>{k(u())},2e3);return()=>clearInterval(t)},[]);const d=c.useMemo(()=>E(i.xp),[i.xp]),m=Object.keys(i.unlockedAchievements).length,b=x.length,w=Math.round(m/b*100),y=g[Math.min(d.level,g.length-1)]||`Level ${d.level}`,S=Math.min(100,d.currentXp/d.nextLevelXp*100),h=c.useMemo(()=>o==="all"?x:x.filter(t=>t.category===o),[o]),C={all:e.jsx(X,{size:16}),explorer:e.jsx(U,{size:16}),calculator:e.jsx(j,{size:16}),expert:e.jsx(P,{size:16}),social:e.jsx(M,{size:16})},$={all:"from-amber-500 to-orange-500",explorer:"from-blue-500 to-indigo-500",calculator:"from-emerald-500 to-teal-500",expert:"from-purple-500 to-violet-500",social:"from-pink-500 to-rose-500"},z=c.useMemo(()=>[...h].sort((t,s)=>{const a=i.unlockedAchievements[t.id],l=i.unlockedAchievements[s.id];return a&&!l?-1:!a&&l?1:a&&l?l-a:0}),[h,i.unlockedAchievements]);return e.jsxs("div",{className:"space-y-6 pb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-500 via-orange-500 to-red-500 rounded-2xl p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center shadow-lg",children:e.jsx(f,{size:32,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-extrabold",children:r("gamification.pageTitle")||"I tuoi Progressi"}),e.jsx("p",{className:"text-amber-100 text-sm mt-1",children:r("gamification.pageSubtitle")||"Sblocca achievement esplorando tutte le funzionalità"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/15 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-amber-200 font-bold mb-1",children:r("gamification.level")||"Livello"}),e.jsx("div",{className:"text-3xl font-black",children:d.level}),e.jsx("div",{className:"text-xs text-amber-100 font-semibold",children:y})]}),e.jsxs("div",{className:"bg-white/15 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-amber-200 font-bold mb-1",children:"XP"}),e.jsx("div",{className:"text-3xl font-black",children:i.xp}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-1.5 mt-2",children:e.jsx("div",{className:"bg-white rounded-full h-1.5 transition-all duration-500",style:{width:`${S}%`}})}),e.jsxs("div",{className:"text-[9px] text-amber-200 mt-1",children:[d.currentXp,"/",d.nextLevelXp," → Livello ",d.level+1]})]}),e.jsxs("div",{className:"bg-white/15 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-amber-200 font-bold mb-1",children:r("gamification.dayStreak")||"Streak"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{size:24,className:"text-orange-200"}),e.jsx("span",{className:"text-3xl font-black",children:i.streak})]}),e.jsx("div",{className:"text-xs text-amber-100",children:r("gamification.daysInARow")||"giorni consecutivi"})]}),e.jsxs("div",{className:"bg-white/15 backdrop-blur-sm rounded-xl p-4",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-amber-200 font-bold mb-1",children:r("gamification.progress")||"Progressi"}),e.jsxs("div",{className:"text-3xl font-black",children:[m,e.jsxs("span",{className:"text-lg text-amber-200",children:["/",b]})]}),e.jsxs("div",{className:"text-xs text-amber-100",children:[w,"% ",r("gamification.completed")||"completato"]})]})]})]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:["all","explorer","calculator","expert","social"].map(t=>{const s=t==="all"?b:x.filter(l=>l.category===t).length,a=t==="all"?m:x.filter(l=>l.category===t&&i.unlockedAchievements[l.id]).length;return e.jsxs("button",{onClick:()=>N(t),className:`flex items-center gap-2 px-4 py-2.5 text-sm font-bold whitespace-nowrap rounded-xl transition-all ${o===t?`bg-gradient-to-r ${$[t]} text-white shadow-md`:"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:[C[t],e.jsx("span",{children:r(`gamification.category.${t}`)}),e.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full ${o===t?"bg-white/30":"bg-slate-200 dark:bg-slate-700"}`,children:[a,"/",s]})]},t)})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(t=>{const s=!!i.unlockedAchievements[t.id],a=i.actionCounts[t.id]||0,l=Math.min(a/t.requiredCount,1),n=i.unlockedAchievements[t.id],p=n?new Date(n).toLocaleDateString():null;return e.jsxs("div",{className:`relative flex items-start gap-4 p-4 rounded-2xl transition-all ${s?"bg-white dark:bg-slate-800 border-2 border-amber-300 dark:border-amber-700 shadow-md":"bg-white/60 dark:bg-slate-800/60 border border-slate-200 dark:border-slate-700 opacity-70"}`,children:[e.jsx("div",{className:`text-3xl flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center ${s?"bg-amber-50 dark:bg-amber-900/20":"bg-slate-100 dark:bg-slate-700 grayscale"}`,children:s?t.icon:e.jsx(T,{size:20,className:"text-slate-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:`text-sm font-bold ${s?"text-amber-700 dark:text-amber-400":"text-slate-500 dark:text-slate-500"}`,children:r(`gamification.achievement.${t.id}`)}),s&&e.jsx(v,{size:14,className:"text-emerald-500 flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-0.5",children:r(`gamification.achievementDesc.${t.id}`)}),!s&&t.requiredCount>1&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-600 rounded-full h-1.5",children:e.jsx("div",{className:"bg-amber-500 rounded-full h-1.5 transition-all",style:{width:`${l*100}%`}})}),e.jsxs("span",{className:"text-[10px] text-slate-500 font-bold",children:[a,"/",t.requiredCount]})]}),s&&p&&e.jsxs("div",{className:"text-[10px] text-slate-500 mt-1.5 flex items-center gap-1",children:[e.jsx(v,{size:10}),r("gamification.unlockedOn")||"Sbloccato il"," ",p]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1.5",children:[e.jsx(j,{size:10,className:s?"text-amber-500":"text-slate-500"}),e.jsx("span",{className:`text-[10px] font-bold ${s?"text-amber-600 dark:text-amber-400":"text-slate-500"}`,children:"+50 XP"})]})]})]},t.id)})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(f,{size:20,className:"text-amber-500"}),r("gamification.levelGuide")||"Livelli"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:g.slice(1).map((t,s)=>{const a=s+1,l=a===d.level,n=a<=d.level;return e.jsxs("div",{className:`p-3 rounded-xl text-center transition-all ${l?"bg-gradient-to-br from-amber-100 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/30 border-2 border-amber-400 dark:border-amber-700 shadow-sm":n?"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800":"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 opacity-50"}`,children:[e.jsx("div",{className:`text-lg font-black ${l?"text-amber-600":n?"text-emerald-600":"text-slate-500"}`,children:a}),e.jsx("div",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-300 mt-0.5",children:t})]},a)})})]})]})};export{V as default};
//# sourceMappingURL=GamificationPage-Cava-s4O.js.map
