{"version":3,"file":"ResultsView-DK0oeX7R.js","sources":["../../node_modules/lucide-react/dist/esm/icons/armchair.js","../../node_modules/lucide-react/dist/esm/icons/arrow-up-right.js","../../node_modules/lucide-react/dist/esm/icons/chart-line.js","../../node_modules/lucide-react/dist/esm/icons/chart-pie.js","../../node_modules/lucide-react/dist/esm/icons/scroll-text.js","../../node_modules/lucide-react/dist/esm/icons/shield-check.js","../../node_modules/lucide-react/dist/esm/icons/shopping-bag.js","../../node_modules/lucide-react/dist/esm/icons/wallet.js","../../components/ComparisonChart.tsx","../../components/ResultsView.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3\", key: \"irtipd\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z\",\n      key: \"1qyhux\"\n    }\n  ],\n  [\"path\", { d: \"M5 18v2\", key: \"ppbyun\" }],\n  [\"path\", { d: \"M19 18v2\", key: \"gy7782\" }]\n];\nconst Armchair = createLucideIcon(\"armchair\", __iconNode);\n\nexport { __iconNode, Armchair as default };\n//# sourceMappingURL=armchair.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M7 7h10v10\", key: \"1tivn9\" }],\n  [\"path\", { d: \"M7 17 17 7\", key: \"1vkiza\" }]\n];\nconst ArrowUpRight = createLucideIcon(\"arrow-up-right\", __iconNode);\n\nexport { __iconNode, ArrowUpRight as default };\n//# sourceMappingURL=arrow-up-right.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 3v16a2 2 0 0 0 2 2h16\", key: \"c24i48\" }],\n  [\"path\", { d: \"m19 9-5 5-4-4-3 3\", key: \"2osh9i\" }]\n];\nconst ChartLine = createLucideIcon(\"chart-line\", __iconNode);\n\nexport { __iconNode, ChartLine as default };\n//# sourceMappingURL=chart-line.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z\",\n      key: \"pzmjnu\"\n    }\n  ],\n  [\"path\", { d: \"M21.21 15.89A10 10 0 1 1 8 2.83\", key: \"k2fpak\" }]\n];\nconst ChartPie = createLucideIcon(\"chart-pie\", __iconNode);\n\nexport { __iconNode, ChartPie as default };\n//# sourceMappingURL=chart-pie.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 12h-5\", key: \"r7krc0\" }],\n  [\"path\", { d: \"M15 8h-5\", key: \"1khuty\" }],\n  [\"path\", { d: \"M19 17V5a2 2 0 0 0-2-2H4\", key: \"zz82l3\" }],\n  [\n    \"path\",\n    {\n      d: \"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3\",\n      key: \"1ph1d7\"\n    }\n  ]\n];\nconst ScrollText = createLucideIcon(\"scroll-text\", __iconNode);\n\nexport { __iconNode, ScrollText as default };\n//# sourceMappingURL=scroll-text.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n];\nconst ShieldCheck = createLucideIcon(\"shield-check\", __iconNode);\n\nexport { __iconNode, ShieldCheck as default };\n//# sourceMappingURL=shield-check.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 10a4 4 0 0 1-8 0\", key: \"1ltviw\" }],\n  [\"path\", { d: \"M3.103 6.034h17.794\", key: \"awc11p\" }],\n  [\n    \"path\",\n    {\n      d: \"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z\",\n      key: \"o988cm\"\n    }\n  ]\n];\nconst ShoppingBag = createLucideIcon(\"shopping-bag\", __iconNode);\n\nexport { __iconNode, ShoppingBag as default };\n//# sourceMappingURL=shopping-bag.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1\",\n      key: \"18etb6\"\n    }\n  ],\n  [\"path\", { d: \"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4\", key: \"xoc0q4\" }]\n];\nconst Wallet = createLucideIcon(\"wallet\", __iconNode);\n\nexport { __iconNode, Wallet as default };\n//# sourceMappingURL=wallet.js.map\n","import React, { useState, useMemo } from 'react';\nimport { \n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Cell, \n  PieChart, Pie, AreaChart, Area, Legend, LineChart, Line\n} from 'recharts';\nimport { SimulationResult, TaxResult, SimulationInputs } from '../types';\nimport { BarChart3, PieChart as PieIcon, TrendingUp, Wallet, Percent, ArrowUpRight, Info, LineChart as LineIcon, Layers } from 'lucide-react';\nimport { calculateSimulation } from '../services/calculationService';\nimport { Analytics } from '../services/analytics';\nimport { useTranslation } from '../services/i18n';\n\ninterface Props {\n  result: SimulationResult;\n  inputs: SimulationInputs;\n  isDarkMode?: boolean;\n  isFocusMode?: boolean;\n}\n\n// Custom Tooltip for Charts\nconst CustomTooltip = ({ active, payload, label, isDarkMode, currency = \"CHF\" }: any) => {\n  if (active && payload && payload.length) {\n    return (\n      <div className={`p-4 border rounded-2xl shadow-xl min-w-[180px] z-50 pointer-events-none backdrop-blur-md ${isDarkMode ? 'bg-slate-900/95 border-slate-700 shadow-slate-950/50' : 'bg-white/95 border-slate-100 shadow-slate-200/50'}`}>\n        {label && <p className={`font-bold mb-3 text-xs uppercase tracking-wider border-b pb-2 ${isDarkMode ? 'text-slate-500 border-slate-700' : 'text-slate-500 border-slate-100'}`}>{label}</p>}\n        <div className=\"space-y-2\">\n          {payload.map((entry: any, index: number) => (\n            <div key={index} className=\"flex items-center justify-between gap-4 text-xs\">\n              <div className=\"flex items-center gap-2\">\n                 <div className=\"w-2.5 h-2.5 rounded-full shadow-sm\" style={{ backgroundColor: entry.color || entry.fill || entry.stroke }} />\n                 <span className={`font-bold ${isDarkMode ? 'text-slate-300' : 'text-slate-600'}`}>{entry.name}</span>\n              </div>\n              <span className={`font-mono font-bold ${isDarkMode ? 'text-slate-100' : 'text-slate-800'}`}>\n                {currency} {entry.value.toLocaleString('it-IT', {maximumFractionDigits: 0})}\n              </span>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n  return null;\n};\n\n// Fixed Legend Component\nconst FixedLegend = ({ payload, isDarkMode }: any) => {\n  return (\n    <div className=\"flex flex-wrap justify-center gap-x-6 gap-y-2 pt-4 px-2\">\n      {payload.map((entry: any, index: number) => (\n        <div key={`item-${index}`} className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded-full\" style={{ backgroundColor: entry.color || entry.fill || entry.stroke }} />\n          <span className={`text-[10px] font-bold uppercase tracking-wide ${isDarkMode ? 'text-slate-500' : 'text-slate-600'}`}>\n            {entry.value}\n          </span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// KPI Card Component\nconst KpiCard = ({ title, value, subtext, icon: Icon, colorClass }: any) => (\n  <div className=\"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-4 border border-slate-100 dark:border-slate-700 flex items-start justify-between group hover:border-slate-300 dark:hover:border-slate-600 transition-colors\">\n     <div>\n       <p className=\"text-[10px] font-bold uppercase text-slate-500 tracking-wider mb-1\">{title}</p>\n       <p className={`text-xl font-mono font-bold ${colorClass}`}>{value}</p>\n       {subtext && <p className=\"text-[10px] text-slate-500 mt-1\">{subtext}</p>}\n     </div>\n     <div className={`p-2 rounded-xl bg-white dark:bg-slate-800 shadow-sm ${colorClass.replace('text-', 'text-opacity-80 text-')}`}>\n       <Icon size={18} />\n     </div>\n  </div>\n);\n\nexport const ComparisonChart: React.FC<Props> = ({ result, inputs, isDarkMode, isFocusMode }) => {\n  const { t } = useTranslation();\n  const [activeTab, setActiveTab] = useState<'overview' | 'breakdown' | 'projection' | 'breakeven'>('overview');\n  const [analysisMode, setAnalysisMode] = useState<'NET' | 'TAX'>('NET');\n\n  const handleTabChange = (tabId: 'overview' | 'breakdown' | 'projection' | 'breakeven') => {\n      setActiveTab(tabId);\n      Analytics.trackChartInteraction(tabId, 'change_tab');\n  };\n\n  const { chResident, itResident, savingsCHF } = result;\n  \n  // Data for Bar Chart (Overview)\n  const netLabel = t('chart.net');\n  const taxLabel = t('chart.taxes');\n  const socialLabel = t('chart.social');\n  const barData = [\n    { name: t('chart.switzerland'), [netLabel]: chResident.netIncomeAnnual, [taxLabel]: chResident.taxes, [socialLabel]: chResident.socialContributions + chResident.healthInsurance },\n    { name: t('chart.frontier_worker'), [netLabel]: itResident.netIncomeAnnual, [taxLabel]: itResident.taxes, [socialLabel]: itResident.socialContributions },\n  ];\n\n  // --- Data for Detailed Composition Chart ---\n  const getDetailedPieData = (res: TaxResult) => {\n      return res.breakdown\n        .filter(item => !item.label.includes('grossIncome') && !item.label.includes('Allowance') && !item.label.includes('netAnnual'))\n        .map(item => {\n           let color = '#cbd5e1'; \n           const l = item.label.toLowerCase();\n           if(l.includes('social') || l.includes('avs')) color = '#8b5cf6'; \n           if(l.includes('pension') || l.includes('lpp')) color = '#a78bfa'; \n           if(l.includes('tax') || l.includes('source') || l.includes('irpef')) color = '#64748b'; \n           if(l.includes('health') || l.includes('ssn')) color = '#f43f5e'; \n           if(l.includes('expense')) color = '#f59e0b'; \n           \n           return {\n               name: t(item.label.split('|')[0]),\n               value: Math.abs(item.amount), \n               color: color\n           };\n        })\n        .concat([{ name: t('chart.net_residual'), value: res.netIncomeAnnual, color: '#10b981' }]);\n  };\n\n  const pieDataCH = getDetailedPieData(chResident);\n  const pieDataIT = getDetailedPieData(itResident);\n\n  // Data for Projection (Area Chart)\n  const projectionYears = 5;\n  const projectionData = Array.from({ length: projectionYears + 1 }, (_, i) => {\n    return {\n      year: `${t('chart.year')} ${i}`,\n      [t('chart.accumulated_difference')]: Math.abs(savingsCHF) * i,\n      beneficiary: savingsCHF > 0 ? t('chart.frontier_worker') : t('chart.resident')\n    };\n  });\n\n  // Data for Break-even Analysis (Line Chart)\n  const breakEvenData = useMemo(() => {\n    const data = [];\n    for (let income = 50000; income <= 300000; income += 10000) {\n      // 1. CH Resident\n      const simCH = calculateSimulation({ ...inputs, annualIncomeCHF: income });\n      \n      // 2. New Frontier < 20km\n      const simNewLess20 = calculateSimulation({ ...inputs, annualIncomeCHF: income, frontierWorkerType: 'NEW', distanceZone: 'WITHIN_20KM' });\n      \n      // 3. New Frontier > 20km\n      const simNewMore20 = calculateSimulation({ ...inputs, annualIncomeCHF: income, frontierWorkerType: 'NEW', distanceZone: 'OVER_20KM' });\n\n      // 4. Old Frontier (Reference)\n      const simOld = calculateSimulation({ ...inputs, annualIncomeCHF: income, frontierWorkerType: 'OLD' });\n\n      // Calculate Taxes (Total Deductions: Social + Tax + Health for CH; Social + Tax for IT)\n      // Note: \"Tasse\" in this context usually means the burden.\n      // For CH: Tax + Social + Health\n      // For IT: Tax (CH+IT) + Social (CH)\n      const getBurden = (res: TaxResult) => res.grossIncome + res.familyAllowance - res.netIncomeAnnual - res.customExpensesTotal; // Pure fiscal/social burden\n\n      if (analysisMode === 'NET') {\n          data.push({\n            ral: `CHF ${(income/1000).toFixed(0)}k`,\n            originalIncome: income,\n            [t('chart.resident_ch')]: Math.round(simCH.chResident.netIncomeAnnual),\n            [t('chart.new_less_20km')]: Math.round(simNewLess20.itResident.netIncomeAnnual),\n            [t('chart.new_more_20km')]: Math.round(simNewMore20.itResident.netIncomeAnnual),\n            [t('chart.old_frontier')]: Math.round(simOld.itResident.netIncomeAnnual),\n          });\n      } else {\n          data.push({\n            ral: `CHF ${(income/1000).toFixed(0)}k`,\n            originalIncome: income,\n            [t('chart.resident_ch')]: Math.round(getBurden(simCH.chResident)),\n            [t('chart.new_less_20km')]: Math.round(getBurden(simNewLess20.itResident)),\n            [t('chart.new_more_20km')]: Math.round(getBurden(simNewMore20.itResident)),\n            [t('chart.old_frontier')]: Math.round(getBurden(simOld.itResident)),\n          });\n      }\n    }\n    return data;\n  }, [inputs, analysisMode]);\n\n  // KPI Calculations\n  const effectiveTaxRateCH = ((chResident.taxes / chResident.grossIncome) * 100).toFixed(1);\n  const effectiveTaxRateIT = ((itResident.taxes / itResident.grossIncome) * 100).toFixed(1);\n  const diffPercent = ((Math.abs(savingsCHF) / Math.min(chResident.netIncomeAnnual, itResident.netIncomeAnnual)) * 100).toFixed(1);\n\n  return (\n    <div className=\"space-y-6\">\n      \n      {/* KPI Section */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4\">\n         <KpiCard \n            title={t('chart.effective_rate_ch')} \n            value={`${effectiveTaxRateCH}%`} \n            subtext={t('chart.tax_incidence')}\n            icon={Percent} \n            colorClass=\"text-blue-600 dark:text-blue-400\"\n         />\n         <KpiCard \n            title={t('chart.effective_rate_it')} \n            value={`${effectiveTaxRateIT}%`} \n            subtext={t('chart.tax_incidence')}\n            icon={Percent} \n            colorClass=\"text-red-600 dark:text-red-400\"\n         />\n         <KpiCard \n            title={t('chart.net_difference')} \n            value={`${diffPercent}%`} \n            subtext={t('chart.purchasing_power_delta')}\n            icon={ArrowUpRight} \n            colorClass=\"text-emerald-600 dark:text-emerald-400\"\n         />\n         <KpiCard \n            title={t('chart.accumulation_5y')} \n            value={`${(Math.abs(savingsCHF) * 5 / 1000).toFixed(1)}k`} \n            subtext={t('chart.potential_savings')}\n            icon={Wallet} \n            colorClass=\"text-indigo-600 dark:text-indigo-400\"\n         />\n      </div>\n\n      {/* Main Chart Container */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-3xl p-1 shadow-sm border border-slate-100 dark:border-slate-700\">\n         <div className=\"grid grid-cols-4 gap-1 p-1 bg-slate-50 dark:bg-slate-900/50 rounded-2xl\">\n            {[\n              { id: 'overview', label: t('chart.tab_comparison'), icon: BarChart3 },\n              { id: 'breakdown', label: t('chart.tab_details'), icon: PieIcon },\n              { id: 'projection', label: t('chart.tab_projection'), icon: TrendingUp },\n              { id: 'breakeven', label: t('chart.tab_salary_analysis'), icon: LineIcon },\n            ].map(tab => (\n              <button\n                key={tab.id}\n                onClick={() => handleTabChange(tab.id as any)}\n                className={`flex flex-col sm:flex-row items-center justify-center gap-1.5 py-3 px-1 rounded-xl text-[9px] sm:text-xs font-bold uppercase tracking-wide transition-all ${\n                  activeTab === tab.id \n                  ? 'bg-white dark:bg-slate-800 text-indigo-600 dark:text-indigo-400 shadow-sm scale-[0.98]' \n                  : 'text-slate-500 hover:text-slate-600 dark:hover:text-slate-300'\n                }`}\n              >\n                <tab.icon size={16} className={activeTab === tab.id ? 'stroke-[2.5px]' : ''} />\n                <span className=\"truncate\">{tab.label}</span>\n              </button>\n            ))}\n         </div>\n\n         {/* Chart Area */}\n         <div className=\"p-4 sm:p-6 min-h-[320px] bg-white dark:bg-slate-800 rounded-b-3xl relative\">\n            {activeTab === 'projection' && (\n                <div className=\"mb-6 bg-indigo-50/50 dark:bg-indigo-900/20 p-4 rounded-xl border border-indigo-100 dark:border-indigo-800/50 flex gap-3 animate-fade-in\">\n                    <Info size={18} className=\"text-indigo-500 shrink-0 mt-0.5\" />\n                    <div className=\"text-xs text-indigo-900 dark:text-indigo-300 leading-relaxed\">\n                        <strong className=\"block mb-1 font-bold\">{t('chart.projection_title')}</strong>\n                        {t('chart.projection_description')}\n                    </div>\n                </div>\n            )}\n            \n            {activeTab === 'breakeven' && (\n                <div className=\"mb-4 animate-fade-in\">\n                    <div className=\"flex justify-between items-center mb-4\">\n                       <h3 className=\"text-sm font-bold text-slate-700 dark:text-slate-200\">\n                          {analysisMode === 'NET' ? t('chart.net_income_comparison') : t('chart.tax_burden_comparison')}\n                       </h3>\n                       \n                       {/* Toggle for Net/Tax Analysis */}\n                       <div className=\"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-lg\">\n                          <button \n                            onClick={() => setAnalysisMode('NET')}\n                            className={`px-3 py-1.5 rounded-md text-[10px] font-bold uppercase transition-all ${analysisMode === 'NET' ? 'bg-white dark:bg-slate-700 text-emerald-600 shadow-sm' : 'text-slate-500 hover:text-slate-600'}`}\n                          >\n                            {t('chart.net')}\n                          </button>\n                          <button \n                            onClick={() => setAnalysisMode('TAX')}\n                            className={`px-3 py-1.5 rounded-md text-[10px] font-bold uppercase transition-all ${analysisMode === 'TAX' ? 'bg-white dark:bg-slate-700 text-red-500 shadow-sm' : 'text-slate-500 hover:text-slate-600'}`}\n                          >\n                            {t('chart.taxes_charges')}\n                          </button>\n                       </div>\n                    </div>\n                    <div className=\"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-xl border border-slate-100 dark:border-slate-800 text-xs text-slate-500 dark:text-slate-500 mb-4\">\n                       {t('chart.salary_simulation_desc')}\n                       {analysisMode === 'NET' ? ` ${t('chart.shows_net_residual')}` : ` ${t('chart.shows_total_taxes')}`}\n                    </div>\n                </div>\n            )}\n\n            <ResponsiveContainer width=\"100%\" height={320}>\n               {activeTab === 'overview' ? (\n                  <BarChart data={barData} barGap={0} margin={{ top: 20, right: 30, left: 0, bottom: 5 }}>\n                     <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke={isDarkMode ? \"#334155\" : \"#f1f5f9\"} />\n                     <XAxis dataKey=\"name\" axisLine={false} tickLine={false} tick={{fill: isDarkMode ? '#94a3b8' : '#64748b', fontSize: 12, fontWeight: 700}} dy={10} />\n                     <YAxis hide />\n                     <Tooltip content={<CustomTooltip isDarkMode={isDarkMode} />} cursor={{fill: isDarkMode ? '#1e293b' : '#f8fafc'}} />\n                     <Legend content={<FixedLegend isDarkMode={isDarkMode} />} />\n                     <Bar dataKey={socialLabel} stackId=\"a\" fill=\"#8b5cf6\" radius={[0,0,4,4]} />\n                     <Bar dataKey={taxLabel} stackId=\"a\" fill=\"#64748b\" />\n                     <Bar dataKey={netLabel} stackId=\"a\" fill=\"#10b981\" radius={[4,4,0,0]} />\n                  </BarChart>\n               ) : activeTab === 'breakdown' ? (\n                  <div className=\"w-full h-full flex flex-col md:flex-row gap-4\">\n                      <div className=\"flex-1 flex flex-col items-center relative\">\n                          <h4 className=\"text-xs font-bold uppercase text-slate-500 mb-2\">{t('chart.resident_ch')}</h4>\n                          <div className=\"w-full h-full relative\">\n                            <ResponsiveContainer>\n                                <PieChart>\n                                  <Pie data={pieDataCH} cx=\"50%\" cy=\"50%\" innerRadius={50} outerRadius={70} paddingAngle={2} dataKey=\"value\">\n                                    {pieDataCH.map((entry, index) => <Cell key={`cell-${index}`} fill={entry.color} strokeWidth={0} />)}\n                                  </Pie>\n                                  <Tooltip content={<CustomTooltip isDarkMode={isDarkMode} />} />\n                                  <Legend content={<FixedLegend isDarkMode={isDarkMode} />} />\n                                </PieChart>\n                            </ResponsiveContainer>\n                            <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none mb-8\">\n                               <span className=\"text-xs font-bold text-slate-500\">CH</span>\n                            </div>\n                          </div>\n                      </div>\n                      <div className=\"flex-1 flex flex-col items-center relative border-t md:border-t-0 md:border-l border-dashed border-slate-100 dark:border-slate-700 pt-4 md:pt-0\">\n                          <h4 className=\"text-xs font-bold uppercase text-slate-500 mb-2\">{t('chart.frontier_worker')}</h4>\n                           <div className=\"w-full h-full relative\">\n                              <ResponsiveContainer>\n                                  <PieChart>\n                                    <Pie data={pieDataIT} cx=\"50%\" cy=\"50%\" innerRadius={50} outerRadius={70} paddingAngle={2} dataKey=\"value\">\n                                      {pieDataIT.map((entry, index) => <Cell key={`cell-${index}`} fill={entry.color} strokeWidth={0} />)}\n                                    </Pie>\n                                    <Tooltip content={<CustomTooltip isDarkMode={isDarkMode} />} />\n                                    <Legend content={<FixedLegend isDarkMode={isDarkMode} />} />\n                                  </PieChart>\n                              </ResponsiveContainer>\n                              <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none mb-8\">\n                                 <span className=\"text-xs font-bold text-slate-500\">IT</span>\n                              </div>\n                           </div>\n                      </div>\n                  </div>\n               ) : activeTab === 'projection' ? (\n                  <AreaChart data={projectionData} margin={{ top: 20, right: 30, left: 0, bottom: 5 }}>\n                     <defs>\n                        <linearGradient id=\"colorSavings\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                          <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.3}/>\n                          <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0}/>\n                        </linearGradient>\n                     </defs>\n                     <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke={isDarkMode ? \"#334155\" : \"#f1f5f9\"} />\n                     <XAxis dataKey=\"year\" axisLine={false} tickLine={false} tick={{fill: isDarkMode ? '#94a3b8' : '#64748b', fontSize: 12, fontWeight: 700}} />\n                     <YAxis hide />\n                     <Tooltip content={<CustomTooltip isDarkMode={isDarkMode} />} />\n                     <Area \n                        type=\"monotone\" \n                        dataKey={t('chart.accumulated_difference')} \n                        stroke=\"#10b981\" \n                        strokeWidth={3} \n                        fillOpacity={1} \n                        fill=\"url(#colorSavings)\" \n                        activeDot={{ r: 6, strokeWidth: 0 }}\n                     />\n                     <Legend content={<FixedLegend isDarkMode={isDarkMode} />} />\n                  </AreaChart>\n               ) : (\n                  // ADVANCED BREAK-EVEN CHART (Multi-Line)\n                  <LineChart data={breakEvenData} margin={{ top: 20, right: 30, left: 0, bottom: 5 }}>\n                     <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke={isDarkMode ? \"#334155\" : \"#f1f5f9\"} />\n                     <XAxis dataKey=\"ral\" axisLine={false} tickLine={false} tick={{fill: isDarkMode ? '#94a3b8' : '#64748b', fontSize: 10, fontWeight: 700}} />\n                     <YAxis hide domain={['auto', 'auto']} />\n                     <Tooltip content={<CustomTooltip isDarkMode={isDarkMode} />} />\n                     \n                     <Line type=\"monotone\" dataKey={t('chart.resident_ch')} stroke=\"#3b82f6\" strokeWidth={3} dot={false} activeDot={{ r: 6 }} />\n                     <Line type=\"monotone\" dataKey={t('chart.new_less_20km')} stroke=\"#6366f1\" strokeWidth={3} dot={false} activeDot={{ r: 6 }} />\n                     <Line type=\"monotone\" dataKey={t('chart.new_more_20km')} stroke=\"#f97316\" strokeWidth={3} strokeDasharray=\"5 5\" dot={false} activeDot={{ r: 6 }} />\n                     <Line type=\"monotone\" dataKey={t('chart.old_frontier')} stroke=\"#10b981\" strokeWidth={2} strokeDasharray=\"3 3\" dot={false} activeDot={{ r: 4 }} opacity={0.6} />\n                     \n                     <Legend content={<FixedLegend isDarkMode={isDarkMode} />} />\n                  </LineChart>\n               )}\n            </ResponsiveContainer>\n         </div>\n      </div>\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport { ScrollText, Trophy, Armchair, Info, PartyPopper, Calculator, ChevronRight, Home, Briefcase, Heart, AlertCircle, ShoppingBag, ShieldCheck, User, Coins, Baby, TrainFront } from 'lucide-react';\nimport { jsPDF } from 'jspdf';\nimport autoTable from 'jspdf-autotable';\nimport { SimulationResult, TaxResult, TaxBreakdownItem, SimulationInputs } from '../types';\nimport { ComparisonChart } from './ComparisonChart';\nimport { Analytics } from '../services/analytics';\nimport { useTranslation } from '../services/i18n';\n\ninterface Props {\n  result: SimulationResult;\n  inputs: SimulationInputs;\n  isDarkMode?: boolean;\n  isFocusMode?: boolean;\n}\n\nconst formatCurrency = (value: number) => {\n  return Math.abs(Math.round(value)).toLocaleString('it-IT');\n};\n\nconst CurrencyValue: React.FC<{ value: number; currency: string; className?: string; smallCurrency?: boolean }> = ({ value, currency, className = \"\", smallCurrency }) => (\n  <span className={`font-mono font-bold tracking-tight whitespace-nowrap ${className}`}>\n    {!smallCurrency && (currency === 'EUR' ? '€ ' : 'CHF ')}\n    {formatCurrency(value)}\n    {smallCurrency && <span className=\"text-[0.7em] ml-1 font-sans font-normal text-slate-500 dark:text-slate-500\">{currency}</span>}\n  </span>\n);\n\nconst getBreakdownColor = (label: string): string => {\n  const l = label.toLowerCase();\n  if (l.includes('netannual') || l.includes('net_annual') || l === 'calc.netannualincome') return 'bg-emerald-500'; \n  if (l.includes('social') || l.includes('pension') || l.includes('contribut')) return 'bg-violet-500'; \n  if (l.includes('health')) return 'bg-amber-500'; \n  if (l.includes('tax') || l.includes('source') || l.includes('irpef') || l.includes('ssn')) return 'bg-slate-500'; \n  if (l.includes('expense')) return 'bg-orange-400';\n  if (l.includes('income') || l.includes('allowance')) return 'bg-blue-500'; \n  return 'bg-slate-200 dark:bg-slate-700';\n};\n\nconst BreakdownTable: React.FC<{ data: TaxBreakdownItem[]; currency: string; showEUR?: boolean }> = ({ data, currency, showEUR }) => {\n  const { t } = useTranslation();\n  const translateKey = (key: string): string => {\n    if (!key) return '';\n    // Handle pipe-delimited params: \"calc.netIncomeDescCH|12.5|C\" => translate key + append params\n    const parts = key.split('|');\n    const baseKey = parts[0];\n    const translated = t(baseKey);\n    // If translation found (different from key), format with params\n    if (translated !== baseKey && parts.length > 1) {\n      if (baseKey === 'calc.healthInsuranceDesc') {\n        // params: [monthlyPerPerson, familyMembers]\n        return `${translated} (CHF ${parts[1]}/mese × ${parts[2]} ${t('calc.familyMembers')})`;\n      }\n      return `${translated}. ${parts.slice(1).map((p, i) => i === 0 ? `${t('calc.estimatedRate')}: ${p}%` : `${t('calc.table')}: ${p}`).join('. ')}.`;\n    }\n    return translated;\n  };\n  return (\n  <div className=\"w-full text-sm\">\n    {data.map((item, idx) => {\n      const isTotal = idx === 0;\n      const isNet = item.label === 'calc.netAnnualIncome';\n      const isNegative = item.amount < 0;\n      const dotColor = getBreakdownColor(item.label);\n      \n      return (\n        <div key={idx} className={`flex items-center justify-between py-3 border-b border-dashed border-slate-100 dark:border-slate-800 last:border-0 hover:bg-slate-50/80 dark:hover:bg-slate-800/80 px-3 rounded-lg transition-colors group cursor-default relative ${isNet ? 'bg-emerald-50/50 dark:bg-emerald-900/10 mt-2 rounded-xl border-none' : ''}`}>\n          {/* Label Section */}\n          <div className=\"flex-1 pr-3 flex items-center gap-2 min-w-0\">\n            {!isTotal && !isNet && <div className={`w-2 h-2 rounded-full flex-shrink-0 ${dotColor}`}></div>}\n            <div className=\"flex items-center gap-1.5 min-w-0\">\n              <div className={`truncate transition-colors ${isTotal || isNet ? 'font-bold text-base text-slate-900 dark:text-slate-100' : 'font-medium text-slate-600 dark:text-slate-500 group-hover:text-slate-900 dark:group-hover:text-slate-200'}`}>\n                {translateKey(item.label)}\n              </div>\n              \n              {!isTotal && item.description && (\n                <div className=\"group/tooltip relative inline-flex items-center flex-shrink-0\">\n                  <Info size={12} className=\"text-slate-300 dark:text-slate-600 cursor-help group-hover/tooltip:text-indigo-500 transition-colors\" />\n                  <div className=\"absolute bottom-full left-0 mb-2 hidden group-hover/tooltip:block w-56 p-3 bg-slate-900 dark:bg-slate-800 text-white text-[11px] font-medium rounded-xl shadow-2xl z-50 animate-fade-in border border-slate-700\">\n                    {translateKey(item.description)}\n                    <div className=\"absolute top-full left-2 -translate-x-1/2 border-8 border-transparent border-t-slate-900 dark:border-t-slate-800\"></div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {/* Value Section */}\n          <div className=\"text-right flex items-center justify-end gap-3 flex-shrink-0\">\n             {item.percentage !== 0 && !isNet && (\n                <div className=\"w-10 sm:w-12 text-[9px] sm:text-[10px] font-bold text-slate-600 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 group-hover:bg-slate-200/70 rounded px-1 py-0.5 text-center flex-shrink-0 transition-colors hidden sm:block\">\n                  {Math.abs(item.percentage).toFixed(1)}%\n                </div>\n             )}\n             <div className=\"flex flex-col items-end w-[110px]\">\n                <div className={`text-right font-mono font-bold whitespace-nowrap ${isNet ? 'text-lg text-emerald-700 dark:text-emerald-400' : (isNegative ? 'text-red-700 dark:text-red-400' : 'text-slate-800 dark:text-slate-100')}`}>\n                    {isNegative ? '-' : ''} <CurrencyValue value={item.amount} currency={currency} />\n                </div>\n                {showEUR && (\n                    <div className=\"text-[10px] font-mono text-slate-500 dark:text-slate-500 font-medium whitespace-nowrap h-4\">\n                       {item.amountEUR !== undefined && item.amountEUR !== 0 ? `≈ € ${formatCurrency(Math.abs(item.amountEUR))}` : ''}\n                    </div>\n                )}\n             </div>\n          </div>\n        </div>\n      );\n    })}\n  </div>\n  );\n};\n\nexport const ResultsView: React.FC<Props> = ({ result, inputs, isDarkMode, isFocusMode }) => {\n  const { t } = useTranslation();\n  const { chResident, itResident, savingsCHF, savingsEUR, exchangeRate, monthsBasis } = result;\n  const isBetterFrontaliere = savingsCHF > 0;\n\n  // --- Profile Tag Generator ---\n  const getProfileTags = () => {\n    const tags = [];\n\n    // Tag 1: Gender & Age\n    const genderLabel = inputs.sex === 'M' ? t('input.male') : t('input.female');\n    tags.push({ label: `${genderLabel}, ${inputs.age} ${t('common.years')}`, icon: User, color: 'text-blue-700 dark:text-blue-400', bg: 'bg-blue-50 dark:bg-blue-900/20' });\n\n    // Tag 2: Marital Status & Spouse\n    let statusLabel = '';\n    if (inputs.maritalStatus === 'SINGLE') statusLabel = t('input.single');\n    else if (inputs.maritalStatus === 'MARRIED') statusLabel = inputs.spouseWorks ? `${t('input.married')} (${t('input.spouseWorks')})` : t('input.married');\n    else if (inputs.maritalStatus === 'DIVORCED') statusLabel = t('input.divorced');\n    else statusLabel = t('input.widowed');\n    tags.push({ label: statusLabel, icon: Heart, color: 'text-rose-700 dark:text-rose-400', bg: 'bg-rose-50 dark:bg-rose-900/20' });\n\n    // Tag 3: Children\n    if (inputs.children > 0) {\n      tags.push({ label: t('input.childrenCount', { count: inputs.children }), icon: Baby, color: 'text-pink-700 dark:text-pink-400', bg: 'bg-pink-50 dark:bg-pink-900/20' });\n    } else {\n        tags.push({ label: t('input.noChildren'), icon: Baby, color: 'text-slate-500', bg: 'bg-slate-100 dark:bg-slate-800' });\n    }\n\n    // Tag 4: Work Type\n    const workLabel = inputs.frontierWorkerType === 'NEW' \n        ? `${t('input.newFrontShort')} (${inputs.distanceZone === 'WITHIN_20KM' ? '<20km' : '>20km'})` \n        : t('input.oldFrontShort');\n    tags.push({ label: workLabel, icon: TrainFront, color: 'text-emerald-700 dark:text-emerald-400', bg: 'bg-emerald-50 dark:bg-emerald-900/20' });\n\n    // Tag 5: Income\n    tags.push({ label: `RAL: CHF ${formatCurrency(inputs.annualIncomeCHF)}`, icon: Coins, color: 'text-amber-700 dark:text-amber-400', bg: 'bg-amber-50 dark:bg-amber-900/20' });\n\n    return tags;\n  };\n  \n  const profileTags = getProfileTags();\n\n  const exportPDF = () => {\n    // Analytics tracking\n    Analytics.trackDownload('pdf', 'Report Comparison');\n    \n    try {\n      const doc = new jsPDF();\n      \n      // -- Header --\n      doc.setFillColor(30, 41, 59); // Slate 800\n      doc.rect(0, 0, 210, 40, 'F');\n      \n      doc.setTextColor(255, 255, 255);\n      doc.setFontSize(22);\n      doc.setFont('helvetica', 'bold');\n      doc.text(t('results.pdf.title'), 14, 18);\n      \n      doc.setFontSize(10);\n      doc.setFont('helvetica', 'normal');\n      doc.setTextColor(148, 163, 184); // Slate 400\n      doc.text(t('results.pdf.subtitle'), 14, 24);\n\n      doc.setFontSize(10);\n      doc.setTextColor(255, 255, 255);\n      doc.text(`${t('results.pdf.generatedOn')} ${new Date().toLocaleDateString()}`, 150, 18);\n\n      // -- Summary Box --\n      doc.setFillColor(241, 245, 249); // Slate 100\n      doc.setDrawColor(226, 232, 240); // Slate 200\n      doc.roundedRect(14, 45, 182, 18, 2, 2, 'FD');\n      \n      doc.setFontSize(9);\n      doc.setTextColor(71, 85, 105); // Slate 600\n      doc.setFont('helvetica', 'bold');\n      doc.text(`${t('results.pdf.profile')}:`, 18, 56);\n      doc.setFont('helvetica', 'normal');\n      // Create a simplified text string for PDF\n      const pdfSummary = profileTags.map(tag => tag.label).join(' • ');\n      doc.text(pdfSummary, 40, 56);\n\n      // -- Comparison Table Data Prep --\n      const bodyData = [\n          [t('results.pdf.grossIncome'), `CHF ${formatCurrency(chResident.grossIncome)}`, `CHF ${formatCurrency(itResident.grossIncome)}`],\n          [t('results.pdf.familyAllowance'), `+ CHF ${formatCurrency(chResident.familyAllowance)}`, `+ CHF ${formatCurrency(itResident.familyAllowance)}`],\n          [t('results.pdf.socialDeductions'), `- CHF ${formatCurrency(Math.abs(chResident.socialContributions))}`, `- CHF ${formatCurrency(Math.abs(itResident.socialContributions))}`],\n          [t('results.pdf.totalTaxes'), `- CHF ${formatCurrency(Math.abs(chResident.taxes))}`, `- CHF ${formatCurrency(Math.abs(itResident.taxes))}`],\n          [t('results.pdf.healthInsurance'), `- CHF ${formatCurrency(Math.abs(chResident.healthInsurance))}`, `(${t('results.pdf.notDeducted')})`],\n          [t('results.pdf.personalExpenses'), `- CHF ${formatCurrency(Math.abs(chResident.customExpensesTotal))}`, `- CHF ${formatCurrency(Math.abs(itResident.customExpensesTotal))}`],\n          [t('results.pdf.netAnnualIncome'), `CHF ${formatCurrency(chResident.netIncomeAnnual)}`, `CHF ${formatCurrency(itResident.netIncomeAnnual)}`]\n      ];\n\n      // Add Pre-Tax Row for Italy if exists\n      if (itResident.swissNetIncomeMonthlyCHF) {\n          // Insert before Net Income (last index)\n          bodyData.splice(6, 0, [t('results.pdf.swissNetPreTax'), '-', `CHF ${formatCurrency(itResident.swissNetIncomeMonthlyCHF * inputs.monthsBasis)}`]);\n      }\n\n      // -- Main Table --\n      autoTable(doc, {\n          startY: 70,\n          head: [[t('results.pdf.headerItem'), t('results.pdf.headerSwiss'), t('results.pdf.headerFrontier')]],\n          body: bodyData,\n          theme: 'grid',\n          headStyles: { \n              fillColor: [59, 130, 246], // Blue 500\n              fontSize: 10,\n              fontStyle: 'bold',\n              halign: 'center'\n          },\n          columnStyles: {\n              0: { cellWidth: 70, fontStyle: 'bold', textColor: [51, 65, 85] },\n              1: { halign: 'right', textColor: [30, 58, 138] }, // Dark Blue\n              2: { halign: 'right', textColor: [185, 28, 28] }  // Dark Red\n          },\n          styles: {\n              fontSize: 10,\n              cellPadding: 6,\n              lineColor: [226, 232, 240],\n              lineWidth: 0.1\n          },\n          didParseCell: function(data) {\n              // Style the Net Income Row\n              if (data.row.index === bodyData.length - 1) {\n                  data.cell.styles.fontStyle = 'bold';\n                  data.cell.styles.fillColor = [236, 253, 245]; // Emerald 50\n                  data.cell.styles.textColor = [5, 150, 105];   // Emerald 600\n                  data.cell.styles.fontSize = 12;\n              }\n              // Style Pre-Tax Row\n              if (data.row.cells[0].raw === t('results.pdf.swissNetPreTax')) {\n                   data.cell.styles.fillColor = [248, 250, 252];\n                   data.cell.styles.fontStyle = 'italic';\n              }\n          }\n      });\n\n      // -- Footer Notes --\n      const finalY = (doc as any).lastAutoTable.finalY + 15;\n      \n      doc.setFontSize(12);\n      doc.setTextColor(30, 41, 59);\n      doc.setFont('helvetica', 'bold');\n      \n      // Winner Badge logic equivalent\n      const winnerText = isBetterFrontaliere ? t('results.pdf.frontierWins') : t('results.pdf.residenceWins');\n      const winnerColor = isBetterFrontaliere ? [22, 163, 74] : [37, 99, 235]; // Green or Blue\n      \n      doc.setTextColor(winnerColor[0], winnerColor[1], winnerColor[2]);\n      doc.text(winnerText, 14, finalY);\n      \n      doc.setFontSize(10);\n      doc.setTextColor(71, 85, 105);\n      doc.setFont('helvetica', 'normal');\n      doc.text(`${t('results.pdf.estimatedDifference')}: CHF ${formatCurrency(savingsCHF)} / ${t('results.pdf.year')}`, 14, finalY + 6);\n\n      // Specific Notes Block\n      let noteY = finalY + 20;\n      doc.setFontSize(9);\n      doc.setFont('helvetica', 'bold');\n      doc.text(`${t('results.pdf.taxDetails')}:`, 14, noteY);\n      \n      doc.setFont('helvetica', 'normal');\n      noteY += 6;\n      const notes = [\n          `${t('results.pdf.exchangeApplied')}: 1 CHF = ${inputs.customExchangeRate} EUR`,\n          `${t('results.pdf.italyRegime')}: ${t(itResident.details.regime)}`,\n          ...itResident.details.notes.map(n => t(n.split('|')[0]))\n      ];\n      \n      notes.forEach(note => {\n          doc.text(`• ${note}`, 14, noteY);\n          noteY += 5;\n      });\n\n      // Legal Disclaimer\n      doc.setFontSize(8);\n      doc.setTextColor(148, 163, 184);\n      doc.text(t('results.pdf.disclaimer'), 105, 285, { align: 'center' });\n\n      doc.save(t('results.pdf.filename'));\n    } catch (error) {\n      console.error(\"PDF Export failed:\", error);\n      Analytics.trackError('PDF Export Failed');\n    }\n  };\n\n  return (\n    <div className=\"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl rounded-3xl shadow-xl shadow-slate-200/50 border border-white/60 dark:border-slate-800 overflow-hidden flex flex-col h-full animate-fade-in-up transition-colors duration-300\">\n      <div className=\"p-5 bg-white/50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 flex justify-between items-start sm:items-center sticky top-0 z-10 backdrop-blur-md gap-4 flex-col sm:flex-row\">\n        <div className=\"flex-1 w-full\">\n           <div className=\"flex justify-between items-center mb-2\">\n             <h2 className=\"text-lg font-bold text-slate-800 dark:text-slate-100\">{t('results.comparativeAnalysis')}</h2>\n             <button onClick={exportPDF} className=\"p-2 text-slate-500 hover:text-blue-600 transition-all flex-shrink-0 sm:hidden\" title={t('results.downloadPDF')}>\n               <ScrollText size={20} />\n             </button>\n           </div>\n           \n           {/* MODERN PROFILE TAGS */}\n           <div className=\"flex flex-wrap gap-2\">\n              {profileTags.map((tag, idx) => (\n                <div key={idx} className={`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] sm:text-xs font-bold uppercase tracking-wide border border-transparent ${tag.bg} ${tag.color}`}>\n                  <tag.icon size={12} strokeWidth={2.5} />\n                  <span className=\"truncate max-w-[150px] sm:max-w-none\">{tag.label}</span>\n                </div>\n              ))}\n           </div>\n        </div>\n        <button onClick={exportPDF} className=\"hidden sm:block p-2.5 text-slate-500 hover:text-blue-600 transition-all flex-shrink-0\" title={t('results.downloadPDF')}>\n          <ScrollText size={20} />\n        </button>\n      </div>\n\n      <div className=\"p-4 sm:p-6 flex-grow overflow-y-auto custom-scrollbar bg-slate-50/30 dark:bg-slate-950/30\">\n        {/* Banner with Fun Animation */}\n        <div className={`p-4 sm:p-6 rounded-3xl text-white shadow-lg mb-8 relative overflow-hidden transition-all duration-500 group ${\n            isBetterFrontaliere \n            ? 'bg-gradient-to-r from-emerald-500 via-teal-500 to-emerald-600' \n            : 'bg-gradient-to-r from-blue-600 via-indigo-600 to-blue-700'\n        }`}>\n           {/* Confetti / Particle Background Effect */}\n           <div className=\"absolute inset-0 opacity-10 pointer-events-none overflow-hidden\">\n              <div className=\"absolute top-[-10%] left-[10%] w-4 h-4 bg-white rounded-full animate-bounce [animation-duration:3s]\"></div>\n              <div className=\"absolute top-[-5%] left-[30%] w-3 h-3 bg-yellow-300 rounded-full animate-bounce [animation-duration:2.5s] [animation-delay:0.5s]\"></div>\n              <div className=\"absolute top-[-15%] left-[60%] w-5 h-5 bg-white rounded-full animate-bounce [animation-duration:3.2s] [animation-delay:1s]\"></div>\n              <div className=\"absolute top-[-8%] left-[80%] w-2 h-2 bg-yellow-300 rounded-full animate-bounce [animation-duration:2.8s] [animation-delay:0.2s]\"></div>\n              <div className=\"absolute top-[20%] right-[-5%] w-6 h-6 bg-white/30 rounded-full animate-ping [animation-duration:4s]\"></div>\n           </div>\n           \n           <div className=\"flex items-center gap-4 sm:gap-6 relative z-10\">\n              <div className=\"bg-white/20 p-3 sm:p-4 rounded-2xl backdrop-blur-md shrink-0 transition-transform group-hover:scale-110 duration-300\">\n                {isBetterFrontaliere ? <Trophy size={28} className=\"text-yellow-300\" /> : <Armchair size={28} className=\"text-indigo-200\" />}\n              </div>\n              <div className=\"min-w-0\">\n                <div className=\"flex items-center gap-2 mb-1\">\n                   {/* Improved Wording */}\n                   <h3 className=\"text-xl sm:text-2xl font-bold tracking-tight truncate\">\n                     {isBetterFrontaliere ? t('results.frontierBetter') : t('results.swissBetter')}\n                   </h3>\n                   {isBetterFrontaliere && <PartyPopper size={24} className=\"animate-bounce text-yellow-300\" />}\n                </div>\n                <div className=\"text-white/90 font-medium flex flex-wrap items-center gap-x-2 gap-y-1 text-sm\">\n                  <span>{t('results.netAdvantage')}</span>\n                  <span className=\"font-bold font-mono text-base sm:text-lg bg-white/20 px-2 py-0.5 rounded-lg border border-white/10 animate-pulse\">\n                      CHF {formatCurrency(savingsCHF)}\n                  </span>\n                </div>\n              </div>\n           </div>\n        </div>\n        \n        {/* Comparison Grid: Changed from md:grid-cols-2 to xl:grid-cols-2 to allow full width on iPad/Tablets */}\n        <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-6 mb-8\">\n          {/* SWITZERLAND COLUMN */}\n          <div className=\"bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 relative group transition-all hover:shadow-md\">\n            <div className=\"absolute top-0 left-0 w-1 h-full bg-blue-500\"></div>\n            <div className=\"flex justify-between items-start mb-6\">\n               <div>\n                 <div className=\"text-[10px] font-bold text-blue-700 dark:text-blue-400 uppercase tracking-widest mb-1 bg-blue-50 dark:bg-blue-900/20 px-2 py-0.5 rounded-full inline-block\">{t('results.liveInTicino')}</div>\n                 <div className=\"text-xl font-bold text-slate-800 dark:text-slate-100\">{t('results.switzerland')}</div>\n               </div>\n               <img src=\"https://flagcdn.com/w80/ch.png\" className=\"w-8 rounded opacity-90\" alt=\"CH\" width={32} height={21} />\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"bg-blue-50/50 dark:bg-blue-900/20 p-4 rounded-2xl border border-blue-100 dark:border-blue-800/50\">\n                <div className=\"text-[10px] text-blue-700 dark:text-blue-400 font-bold uppercase mb-1\">{t('results.netMonthlyResidual')}</div>\n                <div className=\"text-2xl font-bold text-blue-700 dark:text-blue-300\">\n                  <CurrencyValue value={chResident.netIncomeMonthly} currency=\"CHF\" />\n                </div>\n              </div>\n              {!isFocusMode && (\n                <>\n                  <BreakdownTable data={chResident.breakdown} currency=\"CHF\" />\n                  {chResident.details.notes.length > 0 && (\n                    <div className=\"mt-4 p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-800\">\n                        <p className=\"text-[10px] font-bold uppercase text-slate-500 mb-1\">{t('results.notes')}</p>\n                        <ul className=\"text-xs text-slate-500 dark:text-slate-500 list-disc list-inside\">\n                            {chResident.details.notes.map((note, i) => <li key={i}>{t(note.split('|')[0])}</li>)}\n                        </ul>\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n\n          {/* ITALY COLUMN */}\n          <div className=\"bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 relative group transition-all hover:shadow-md\">\n            <div className=\"absolute top-0 left-0 w-1 h-full bg-red-500\"></div>\n            <div className=\"flex justify-between items-start mb-6\">\n               <div>\n                 <div className=\"text-[10px] font-bold text-red-700 dark:text-red-400 uppercase tracking-widest mb-1 bg-red-50 dark:bg-red-900/20 px-2 py-0.5 rounded-full inline-block\">{t('results.liveInItaly')}</div>\n                 <div className=\"text-xl font-bold text-slate-800 dark:text-slate-100\">{t('results.italy')}</div>\n               </div>\n               <img src=\"https://flagcdn.com/w80/it.png\" className=\"w-8 rounded opacity-90\" alt=\"IT\" width={32} height={21} />\n            </div>\n\n            <div className=\"space-y-4\">\n              <div className=\"bg-red-50/50 dark:bg-red-900/20 p-4 rounded-2xl border border-red-100 dark:border-red-800/50\">\n                <div className=\"text-[10px] text-red-700 dark:text-red-400 font-bold uppercase mb-1\">{t('results.netMonthlyResidual')}</div>\n                <div className=\"text-2xl font-bold text-red-700 dark:text-red-300\">\n                  <CurrencyValue value={itResident.netIncomeMonthly} currency=\"CHF\" />\n                </div>\n              </div>\n\n              {!isFocusMode && (\n                <>\n                  <BreakdownTable data={itResident.breakdown} currency=\"CHF\" showEUR />\n\n                  {/* MOVED BLOCK: Swiss Net Salary (Pre-Italian Tax) */}\n                  {itResident.swissNetIncomeMonthlyCHF && (\n                    <div className=\"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-2xl border border-slate-200 dark:border-slate-800 mt-2 relative overflow-hidden\">\n                       <div className=\"text-[10px] text-slate-500 dark:text-slate-500 font-bold uppercase mb-1 relative z-10\">\n                          {t('results.swissPayslipNet')}\n                       </div>\n                       <div className=\"text-xl font-bold text-slate-700 dark:text-slate-200 relative z-10\">\n                          <CurrencyValue value={itResident.swissNetIncomeMonthlyCHF} currency=\"CHF\" />\n                       </div>\n                       <ul className=\"mt-3 space-y-1.5 relative z-10\">\n                          {itResident.details.regime === \"calc.regime.newFrontier\" ? (\n                              <>\n                                <li className=\"text-[10px] text-slate-500 dark:text-slate-500 font-medium flex items-center gap-1.5\"><div className=\"w-1.5 h-1.5 rounded-full bg-indigo-500\"></div> {t('results.concurrentTax')}</li>\n                                {itResident.details.franchigiaEUR ? (\n                                  <li className=\"text-[10px] text-slate-500 dark:text-slate-500 font-medium flex items-center gap-1.5\"><div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500\"></div> {t('results.franchiseApplied', { amount: formatCurrency(itResident.details.franchigiaEUR) })}</li>\n                                ) : null}\n                              </>\n                          ) : (\n                              <li className=\"text-[10px] text-slate-500 dark:text-slate-500 font-medium flex items-center gap-1.5\"><div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500\"></div> {t('results.exclusiveSwissTax')}</li>\n                          )}\n                       </ul>\n                    </div>\n                  )}\n\n                  {itResident.details.notes.length > 0 && (\n                    <div className=\"mt-4 p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-800\">\n                        <p className=\"text-[10px] font-bold uppercase text-slate-500 mb-1\">{t('results.notes')}</p>\n                        <ul className=\"text-xs text-slate-500 dark:text-slate-500 list-disc list-inside\">\n                            {itResident.details.notes.map((note, i) => <li key={i}>{t(note.split('|')[0])}</li>)}\n                        </ul>\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {!isFocusMode && (\n        <>\n        {/* WHY CHOOSE ONE OR THE OTHER? */}\n        <div className=\"mb-8\">\n           <h3 className=\"text-xs font-bold text-slate-500 dark:text-slate-500 uppercase tracking-widest mb-6 flex items-center gap-2\">\n              <Heart size={14} className=\"text-rose-500\" /> {t('results.whyConvenient')}\n           </h3>\n           \n           <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Pros Svizzera */}\n              <div className=\"bg-gradient-to-br from-blue-50 to-white dark:from-blue-900/10 dark:to-slate-900 p-6 rounded-3xl border border-blue-100 dark:border-blue-800 shadow-sm\">\n                 <h4 className=\"flex items-center gap-2 text-blue-700 dark:text-blue-400 font-bold mb-4\">\n                    <ShieldCheck size={18} className=\"text-blue-500\" /> {t('results.chooseSwissIf')}\n                 </h4>\n                 <ul className=\"space-y-3 text-xs text-slate-600 dark:text-slate-500 font-medium\">\n                    <li className=\"flex gap-3\"><ChevronRight size={14} className=\"text-blue-500 shrink-0\" /> <span><b>{t('results.ch.quality.title')}</b> {t('results.ch.quality')}</span></li>\n                    <li className=\"flex gap-3\"><ChevronRight size={14} className=\"text-blue-500 shrink-0\" /> <span><b>{t('results.ch.career.title')}</b> {t('results.ch.career')}</span></li>\n                    <li className=\"flex gap-3\"><ChevronRight size={14} className=\"text-blue-500 shrink-0\" /> <span><b>{t('results.ch.time.title')}</b> {t('results.ch.time')}</span></li>\n                    <li className=\"flex gap-3\"><ChevronRight size={14} className=\"text-blue-500 shrink-0\" /> <span><b>{t('results.ch.purchasing.title')}</b> {t('results.ch.purchasing')}</span></li>\n                 </ul>\n              </div>\n\n              {/* Pros Italia */}\n              <div className=\"bg-gradient-to-br from-emerald-50 to-white dark:from-emerald-900/10 dark:to-slate-900 p-6 rounded-3xl border border-emerald-100 dark:border-emerald-800 shadow-sm\">\n                 <h4 className=\"flex items-center gap-2 text-emerald-700 dark:text-emerald-400 font-bold mb-4\">\n                    <ShoppingBag size={18} className=\"text-emerald-500\" /> {t('results.chooseItalyIf')}\n                 </h4>\n                 <ul className=\"space-y-3 text-xs text-slate-600 dark:text-slate-500 font-medium\">\n                    <li className=\"flex gap-3\"><ChevronRight size={14} className=\"text-emerald-500 shrink-0\" /> <span><b>{t('results.it.cost.title')}</b> {t('results.it.cost')}</span></li>\n                    <li className=\"flex gap-3\"><ChevronRight size={14} className=\"text-emerald-500 shrink-0\" /> <span><b>{t('results.it.property.title')}</b> {t('results.it.property')}</span></li>\n                    <li className=\"flex gap-3\"><ChevronRight size={14} className=\"text-emerald-500 shrink-0\" /> <span><b>{t('results.it.social.title')}</b> {t('results.it.social')}</span></li>\n                    <li className=\"flex gap-3\"><ChevronRight size={14} className=\"text-emerald-500 shrink-0\" /> <span><b>{t('results.it.tax.title')}</b> {t('results.it.tax')}</span></li>\n                 </ul>\n              </div>\n           </div>\n           \n           {/* Critical Warning */}\n           <div className=\"mt-6 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-2xl flex gap-3\">\n              <AlertCircle size={20} className=\"text-amber-500 shrink-0\" />\n              <div className=\"text-[10px] text-amber-700 dark:text-amber-400 leading-relaxed font-medium\">\n                 <b>{t('results.notaBene')}</b> {t('results.disclaimer.housing')}\n              </div>\n           </div>\n        </div>\n        </>\n        )}\n\n        <div className=\"mb-8\">\n           <h3 className=\"text-xs font-bold text-slate-500 dark:text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2\">\n              <Calculator size={14} className=\"text-indigo-500\" /> {t('results.monthlyReservesChart')}\n           </h3>\n           <ComparisonChart result={result} inputs={inputs} isDarkMode={isDarkMode} isFocusMode={isFocusMode} />\n        </div>\n      </div>\n    </div>\n  );\n};"],"names":["__iconNode","Armchair","createLucideIcon","ArrowUpRight","ChartLine","ChartPie","ScrollText","ShieldCheck","ShoppingBag","Wallet","CustomTooltip","active","payload","label","isDarkMode","currency","jsx","entry","index","jsxs","FixedLegend","KpiCard","title","value","subtext","Icon","colorClass","ComparisonChart","result","inputs","isFocusMode","useTranslation","activeTab","setActiveTab","useState","analysisMode","setAnalysisMode","handleTabChange","tabId","Analytics","chResident","itResident","savingsCHF","netLabel","taxLabel","socialLabel","barData","getDetailedPieData","res","item","color","l","pieDataCH","pieDataIT","projectionData","_","breakEvenData","useMemo","data","income","simCH","calculateSimulation","simNewLess20","simNewMore20","simOld","getBurden","effectiveTaxRateCH","effectiveTaxRateIT","diffPercent","Percent","BarChart3","PieIcon","TrendingUp","LineIcon","tab","Info","ResponsiveContainer","BarChart","CartesianGrid","XAxis","YAxis","Tooltip","Legend","Bar","PieChart","Pie","Cell","AreaChart","Area","LineChart","Line","formatCurrency","CurrencyValue","className","smallCurrency","getBreakdownColor","BreakdownTable","showEUR","t","translateKey","key","parts","baseKey","translated","p","i","idx","isTotal","isNet","isNegative","dotColor","ResultsView","savingsEUR","exchangeRate","monthsBasis","isBetterFrontaliere","profileTags","tags","genderLabel","User","statusLabel","Heart","Baby","workLabel","TrainFront","Coins","exportPDF","doc","jsPDF","pdfSummary","tag","bodyData","autoTable","finalY","winnerText","winnerColor","noteY","n","note","error","Trophy","PartyPopper","Fragment","ChevronRight","AlertCircle","Calculator"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}