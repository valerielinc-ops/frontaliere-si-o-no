import{u as M,j as e,H as O,R as U,r as T,a as L,E as S,o as z,z as D,h as $}from"./index-ChZyJ9Ke.js";import{r as d}from"./vendor-charts-aQyCzDkf.js";import{u as A}from"./exchangeRateService-b--3bgFi.js";import{A as B}from"./arrow-left-right-CbB1e8CR.js";import{C as G}from"./clock-CBodIMnm.js";import{C as P}from"./chevron-up-gVijmbi5.js";import"./vendor-pdf-og5EeDf1.js";const u={como:{id:"como",country:"IT",avgRent:750,groceries:400,healthInsurance:0,transport:200,utilities:150,currency:"EUR"},varese:{id:"varese",country:"IT",avgRent:650,groceries:380,healthInsurance:0,transport:250,utilities:140,currency:"EUR"},sondrio:{id:"sondrio",country:"IT",avgRent:420,groceries:350,healthInsurance:0,transport:300,utilities:130,currency:"EUR"},verbania:{id:"verbania",country:"IT",avgRent:500,groceries:370,healthInsurance:0,transport:280,utilities:135,currency:"EUR"},lugano:{id:"lugano",country:"CH",avgRent:1600,groceries:700,healthInsurance:350,transport:100,utilities:200,currency:"CHF"},bellinzona:{id:"bellinzona",country:"CH",avgRent:1300,groceries:650,healthInsurance:340,transport:80,utilities:180,currency:"CHF"},mendrisio:{id:"mendrisio",country:"CH",avgRent:1400,groceries:670,healthInsurance:345,transport:90,utilities:185,currency:"CHF"},locarno:{id:"locarno",country:"CH",avgRent:1350,groceries:660,healthInsurance:342,transport:85,utilities:182,currency:"CHF"}},q=[{label:"residency.onetime.deposit",amount:4800,currency:"CHF"},{label:"residency.onetime.moving",amount:3e3,currency:"EUR"},{label:"residency.onetime.permitB",amount:150,currency:"CHF"},{label:"residency.onetime.adminFees",amount:500,currency:"CHF"},{label:"residency.onetime.furniture",amount:2e3,currency:"EUR"}],J=[{label:"residency.onetime.deposit",amount:2250,currency:"EUR"},{label:"residency.onetime.moving",amount:2500,currency:"EUR"},{label:"residency.onetime.agency",amount:500,currency:"EUR"},{label:"residency.onetime.adminFees",amount:300,currency:"EUR"}],ee=()=>{const{t:s}=M(),{rate:i,loading:I}=A(),[o,p]=d.useState("como"),[c,j]=d.useState("lugano"),[F,R]=d.useState(6500),[b,E]=d.useState(!1),r=u[o],a=u[c],w=i>0?1/i:1.06,_=()=>{p(c),j(o)},n=d.useMemo(()=>{const t=(m,h)=>h==="CHF"?m*i:m,x=t(r.avgRent+r.groceries+r.healthInsurance+r.transport+r.utilities,r.currency),N=t(a.avgRent+a.groceries+a.healthInsurance+a.transport+a.utilities,a.currency),g=N-x,l=r.country==="IT"&&a.country==="CH"?"IT_TO_CH":r.country==="CH"&&a.country==="IT"?"CH_TO_IT":r.country==="IT"?"IT_TO_IT":"CH_TO_CH",C=l==="IT_TO_CH"?q:l==="CH_TO_IT"?J:l==="IT_TO_IT"?[{label:"residency.onetime.deposit",amount:2250,currency:"EUR"},{label:"residency.onetime.moving",amount:1500,currency:"EUR"}]:[{label:"residency.onetime.deposit",amount:4200,currency:"CHF"},{label:"residency.onetime.moving",amount:2e3,currency:"CHF"}],k=C.reduce((m,h)=>m+t(h.amount,h.currency),0);let y="";l==="IT_TO_CH"?y="residency.tax.itToCh":l==="CH_TO_IT"&&(y="residency.tax.chToIt");let H=null;return g<0&&(H=Math.ceil(k/Math.abs(g))),{fromMonthly:x,toMonthly:N,monthlyDiff:g,totalOneTime:k,oneTimeCosts:C,breakEvenMonths:H,direction:l,taxNote:y}},[o,c,i,w,r,a]),f=Object.entries(u).filter(([,t])=>t.country==="IT"),v=Object.entries(u).filter(([,t])=>t.country==="CH");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-violet-50 dark:from-indigo-950/30 dark:to-violet-950/30 rounded-2xl p-6 border border-indigo-200 dark:border-indigo-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/50 rounded-xl",children:e.jsx(O,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-indigo-900 dark:text-indigo-100",children:s("residency.title")})]}),e.jsx("p",{className:"text-indigo-700 dark:text-indigo-300 text-sm",children:s("residency.subtitle")})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr,auto,1fr] gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:s("residency.from")}),e.jsxs("select",{value:o,onChange:t=>p(t.target.value),className:"w-full px-3 py-2.5 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm font-bold",children:[e.jsx("optgroup",{label:"ðŸ‡®ðŸ‡¹ Italia",children:f.map(([t])=>e.jsx("option",{value:t,children:s(`residency.loc.${t}`)},t))}),e.jsx("optgroup",{label:"ðŸ‡¨ðŸ‡­ Svizzera",children:v.map(([t])=>e.jsx("option",{value:t,children:s(`residency.loc.${t}`)},t))})]})]}),e.jsx("button",{onClick:_,className:"p-2.5 rounded-xl bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-colors self-end",children:e.jsx(B,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:s("residency.to")}),e.jsxs("select",{value:c,onChange:t=>j(t.target.value),className:"w-full px-3 py-2.5 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm font-bold",children:[e.jsx("optgroup",{label:"ðŸ‡®ðŸ‡¹ Italia",children:f.map(([t])=>e.jsx("option",{value:t,children:s(`residency.loc.${t}`)},t))}),e.jsx("optgroup",{label:"ðŸ‡¨ðŸ‡­ Svizzera",children:v.map(([t])=>e.jsx("option",{value:t,children:s(`residency.loc.${t}`)},t))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:s("residency.grossMonthly")}),e.jsx("input",{type:"number",value:F,onChange:t=>R(+t.target.value),className:"w-full px-3 py-2.5 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:s("residency.exchangeRate")}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700",children:[e.jsxs("span",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:["1 CHF = ",i.toFixed(4)," EUR"]}),I&&e.jsx(U,{size:12,className:"animate-spin text-slate-500"})]}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-0.5",children:s("exchange.liveRate")||"Tasso live"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(T,{className:"w-4 h-4 text-slate-500"}),e.jsxs("h3",{className:"font-bold text-sm text-slate-500",children:[s(`residency.loc.${o}`)," (",s("residency.current"),")"]})]}),e.jsxs("p",{className:"text-2xl font-black text-slate-800 dark:text-slate-200",children:["â‚¬",Math.round(n.fromMonthly).toLocaleString("it-IT")]}),e.jsx("p",{className:"text-xs text-slate-500",children:s("residency.perMonth")}),e.jsxs("div",{className:"mt-3 space-y-1 text-xs text-slate-500",children:[e.jsxs("p",{children:["ðŸ  ",s("residency.rent"),": ",r.currency==="CHF"?"CHF":"â‚¬",r.avgRent]}),e.jsxs("p",{children:["ðŸ›’ ",s("residency.groceries"),": ",r.currency==="CHF"?"CHF":"â‚¬",r.groceries]}),e.jsxs("p",{children:["ðŸš— ",s("residency.transport"),": ",r.currency==="CHF"?"CHF":"â‚¬",r.transport]}),e.jsxs("p",{children:["ðŸ’¡ ",s("residency.utilities"),": ",r.currency==="CHF"?"CHF":"â‚¬",r.utilities]}),r.healthInsurance>0&&e.jsxs("p",{children:["ðŸ¥ LAMal: CHF",r.healthInsurance]})]})]}),e.jsxs("div",{className:`rounded-xl p-5 border-2 flex flex-col items-center justify-center ${n.monthlyDiff>0?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800":"bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800"}`,children:[e.jsx(L,{className:`w-6 h-6 mb-2 ${n.monthlyDiff>0?"text-red-500 rotate-0":"text-emerald-500 rotate-180"}`}),e.jsxs("p",{className:`text-3xl font-black ${n.monthlyDiff>0?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[n.monthlyDiff>0?"+":"","â‚¬",Math.round(n.monthlyDiff).toLocaleString("it-IT")]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s("residency.monthlyDiff")}),n.breakEvenMonths&&e.jsxs("div",{className:"mt-3 flex items-center gap-1 text-xs text-emerald-600 dark:text-emerald-400",children:[e.jsx(G,{className:"w-3 h-3"}),e.jsx("span",{children:s("residency.breakEven",{months:n.breakEvenMonths.toString()})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(T,{className:"w-4 h-4 text-indigo-400"}),e.jsxs("h3",{className:"font-bold text-sm text-indigo-500",children:[s(`residency.loc.${c}`)," (",s("residency.new"),")"]})]}),e.jsxs("p",{className:"text-2xl font-black text-slate-800 dark:text-slate-200",children:["â‚¬",Math.round(n.toMonthly).toLocaleString("it-IT")]}),e.jsx("p",{className:"text-xs text-slate-500",children:s("residency.perMonth")}),e.jsxs("div",{className:"mt-3 space-y-1 text-xs text-slate-500",children:[e.jsxs("p",{children:["ðŸ  ",s("residency.rent"),": ",a.currency==="CHF"?"CHF":"â‚¬",a.avgRent]}),e.jsxs("p",{children:["ðŸ›’ ",s("residency.groceries"),": ",a.currency==="CHF"?"CHF":"â‚¬",a.groceries]}),e.jsxs("p",{children:["ðŸš— ",s("residency.transport"),": ",a.currency==="CHF"?"CHF":"â‚¬",a.transport]}),e.jsxs("p",{children:["ðŸ’¡ ",s("residency.utilities"),": ",a.currency==="CHF"?"CHF":"â‚¬",a.utilities]}),a.healthInsurance>0&&e.jsxs("p",{children:["ðŸ¥ LAMal: CHF",a.healthInsurance]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700",children:[e.jsxs("button",{onClick:()=>E(!b),className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5 text-amber-500"}),e.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:s("residency.oneTimeCosts")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg font-black text-amber-600 dark:text-amber-400",children:["â‚¬",Math.round(n.totalOneTime).toLocaleString("it-IT")]}),b?e.jsx(P,{size:16,className:"text-slate-500"}):e.jsx(z,{size:16,className:"text-slate-500"})]})]}),b&&e.jsx("div",{className:"mt-4 space-y-2",children:n.oneTimeCosts.map((t,x)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-700 last:border-0",children:[e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-500",children:s(t.label)}),e.jsxs("span",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:[t.currency==="CHF"?"CHF":"â‚¬",t.amount.toLocaleString("it-IT")]})]},x))})]}),n.taxNote&&e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-950/20 rounded-xl p-4 border border-indigo-200 dark:border-indigo-800 flex items-start gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-indigo-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-300",children:s(n.taxNote)})]}),e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800 flex items-start gap-3",children:[e.jsx($,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:s("residency.disclaimer")})]})]})};export{ee as default};
//# sourceMappingURL=ResidencySimulator-D2Xepo6w.js.map
