{"version":3,"file":"ResidencySimulator-D2Xepo6w.js","sources":["../../components/ResidencySimulator.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { useTranslation } from '@/services/i18n';\nimport { useExchangeRate } from '@/services/exchangeRateService';\nimport { ArrowLeftRight, MapPin, TrendingUp, AlertCircle, ChevronDown, ChevronUp, Clock, Euro, Home, Briefcase, RefreshCw } from 'lucide-react';\n\n// ‚îÄ‚îÄ‚îÄ Simulation Engine ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\ninterface Location {\n  id: string;\n  country: 'IT' | 'CH';\n  avgRent: number; // monthly EUR or CHF\n  groceries: number; // monthly\n  healthInsurance: number; // monthly\n  transport: number; // monthly commuting or local\n  utilities: number; // monthly\n  currency: 'EUR' | 'CHF';\n}\n\nconst LOCATIONS: Record<string, Location> = {\n  como: { id: 'como', country: 'IT', avgRent: 750, groceries: 400, healthInsurance: 0, transport: 200, utilities: 150, currency: 'EUR' },\n  varese: { id: 'varese', country: 'IT', avgRent: 650, groceries: 380, healthInsurance: 0, transport: 250, utilities: 140, currency: 'EUR' },\n  sondrio: { id: 'sondrio', country: 'IT', avgRent: 420, groceries: 350, healthInsurance: 0, transport: 300, utilities: 130, currency: 'EUR' },\n  verbania: { id: 'verbania', country: 'IT', avgRent: 500, groceries: 370, healthInsurance: 0, transport: 280, utilities: 135, currency: 'EUR' },\n  lugano: { id: 'lugano', country: 'CH', avgRent: 1600, groceries: 700, healthInsurance: 350, transport: 100, utilities: 200, currency: 'CHF' },\n  bellinzona: { id: 'bellinzona', country: 'CH', avgRent: 1300, groceries: 650, healthInsurance: 340, transport: 80, utilities: 180, currency: 'CHF' },\n  mendrisio: { id: 'mendrisio', country: 'CH', avgRent: 1400, groceries: 670, healthInsurance: 345, transport: 90, utilities: 185, currency: 'CHF' },\n  locarno: { id: 'locarno', country: 'CH', avgRent: 1350, groceries: 660, healthInsurance: 342, transport: 85, utilities: 182, currency: 'CHF' },\n};\n\ninterface OneTimeCost {\n  label: string;\n  amount: number;\n  currency: 'EUR' | 'CHF';\n}\n\nconst ONE_TIME_IT_TO_CH: OneTimeCost[] = [\n  { label: 'residency.onetime.deposit', amount: 4800, currency: 'CHF' },\n  { label: 'residency.onetime.moving', amount: 3000, currency: 'EUR' },\n  { label: 'residency.onetime.permitB', amount: 150, currency: 'CHF' },\n  { label: 'residency.onetime.adminFees', amount: 500, currency: 'CHF' },\n  { label: 'residency.onetime.furniture', amount: 2000, currency: 'EUR' },\n];\n\nconst ONE_TIME_CH_TO_IT: OneTimeCost[] = [\n  { label: 'residency.onetime.deposit', amount: 2250, currency: 'EUR' },\n  { label: 'residency.onetime.moving', amount: 2500, currency: 'EUR' },\n  { label: 'residency.onetime.agency', amount: 500, currency: 'EUR' },\n  { label: 'residency.onetime.adminFees', amount: 300, currency: 'EUR' },\n];\n\n// ‚îÄ‚îÄ‚îÄ Component ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\nconst ResidencySimulator: React.FC = () => {\n  const { t } = useTranslation();\n  const { rate: chfEurRate, loading: rateLoading } = useExchangeRate();\n  const [from, setFrom] = useState('como');\n  const [to, setTo] = useState('lugano');\n  const [grossMonthlyCHF, setGrossMonthlyCHF] = useState(6500);\n  const [showDetails, setShowDetails] = useState(false);\n\n  const fromLoc = LOCATIONS[from];\n  const toLoc = LOCATIONS[to];\n\n  // EUR/CHF derived from API CHF‚ÜíEUR rate\n  const eurChfRate = chfEurRate > 0 ? 1 / chfEurRate : 1.06;\n\n  const swapLocations = () => {\n    setFrom(to);\n    setTo(from);\n  };\n\n  // Calculate monthly costs in EUR for comparison\n  const result = useMemo(() => {\n    const toEUR = (amount: number, currency: 'EUR' | 'CHF') =>\n      currency === 'CHF' ? amount * chfEurRate : amount;\n    const toCHF = (amount: number, currency: 'EUR' | 'CHF') =>\n      currency === 'EUR' ? amount * eurChfRate : amount;\n\n    const fromMonthly = toEUR(\n      fromLoc.avgRent + fromLoc.groceries + fromLoc.healthInsurance + fromLoc.transport + fromLoc.utilities,\n      fromLoc.currency\n    );\n    const toMonthly = toEUR(\n      toLoc.avgRent + toLoc.groceries + toLoc.healthInsurance + toLoc.transport + toLoc.utilities,\n      toLoc.currency\n    );\n\n    const monthlyDiff = toMonthly - fromMonthly;\n\n    // One-time costs\n    const direction = fromLoc.country === 'IT' && toLoc.country === 'CH' ? 'IT_TO_CH'\n      : fromLoc.country === 'CH' && toLoc.country === 'IT' ? 'CH_TO_IT'\n      : fromLoc.country === 'IT' ? 'IT_TO_IT' : 'CH_TO_CH';\n\n    const oneTimeCosts = direction === 'IT_TO_CH' ? ONE_TIME_IT_TO_CH\n      : direction === 'CH_TO_IT' ? ONE_TIME_CH_TO_IT\n      : direction === 'IT_TO_IT' ? [\n          { label: 'residency.onetime.deposit', amount: 2250, currency: 'EUR' as const },\n          { label: 'residency.onetime.moving', amount: 1500, currency: 'EUR' as const },\n        ]\n      : [\n          { label: 'residency.onetime.deposit', amount: 4200, currency: 'CHF' as const },\n          { label: 'residency.onetime.moving', amount: 2000, currency: 'CHF' as const },\n        ];\n\n    const totalOneTime = oneTimeCosts.reduce((sum, c) => sum + toEUR(c.amount, c.currency), 0);\n\n    // Tax impact (simplified)\n    let taxNote = '';\n    if (direction === 'IT_TO_CH') {\n      taxNote = 'residency.tax.itToCh';\n    } else if (direction === 'CH_TO_IT') {\n      taxNote = 'residency.tax.chToIt';\n    }\n\n    // Break-even: if monthly costs go up, how many months until one-time costs are \"absorbed\"\n    // (only meaningful if moving saves money monthly)\n    let breakEvenMonths: number | null = null;\n    if (monthlyDiff < 0) {\n      // Moving saves money ‚Äî break-even after one-time costs are recovered\n      breakEvenMonths = Math.ceil(totalOneTime / Math.abs(monthlyDiff));\n    }\n\n    return {\n      fromMonthly,\n      toMonthly,\n      monthlyDiff,\n      totalOneTime,\n      oneTimeCosts,\n      breakEvenMonths,\n      direction,\n      taxNote,\n    };\n  }, [from, to, chfEurRate, eurChfRate, fromLoc, toLoc]);\n\n  const itLocations = Object.entries(LOCATIONS).filter(([, l]) => l.country === 'IT');\n  const chLocations = Object.entries(LOCATIONS).filter(([, l]) => l.country === 'CH');\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-br from-indigo-50 to-violet-50 dark:from-indigo-950/30 dark:to-violet-950/30 rounded-2xl p-6 border border-indigo-200 dark:border-indigo-800\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <div className=\"p-2 bg-indigo-100 dark:bg-indigo-900/50 rounded-xl\">\n            <Home className=\"w-6 h-6 text-indigo-600 dark:text-indigo-400\" />\n          </div>\n          <h2 className=\"text-2xl font-bold text-indigo-900 dark:text-indigo-100\">{t('residency.title')}</h2>\n        </div>\n        <p className=\"text-indigo-700 dark:text-indigo-300 text-sm\">{t('residency.subtitle')}</p>\n      </div>\n\n      {/* Inputs */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700 space-y-4\">\n        <div className=\"grid grid-cols-1 sm:grid-cols-[1fr,auto,1fr] gap-4 items-end\">\n          {/* From */}\n          <div>\n            <label className=\"block text-xs font-bold text-slate-500 mb-1\">{t('residency.from')}</label>\n            <select\n              value={from}\n              onChange={(e) => setFrom(e.target.value)}\n              className=\"w-full px-3 py-2.5 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm font-bold\"\n            >\n              <optgroup label=\"üáÆüáπ Italia\">\n                {itLocations.map(([id]) => (\n                  <option key={id} value={id}>{t(`residency.loc.${id}`)}</option>\n                ))}\n              </optgroup>\n              <optgroup label=\"üá®üá≠ Svizzera\">\n                {chLocations.map(([id]) => (\n                  <option key={id} value={id}>{t(`residency.loc.${id}`)}</option>\n                ))}\n              </optgroup>\n            </select>\n          </div>\n\n          {/* Swap button */}\n          <button\n            onClick={swapLocations}\n            className=\"p-2.5 rounded-xl bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 transition-colors self-end\"\n          >\n            <ArrowLeftRight className=\"w-5 h-5\" />\n          </button>\n\n          {/* To */}\n          <div>\n            <label className=\"block text-xs font-bold text-slate-500 mb-1\">{t('residency.to')}</label>\n            <select\n              value={to}\n              onChange={(e) => setTo(e.target.value)}\n              className=\"w-full px-3 py-2.5 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm font-bold\"\n            >\n              <optgroup label=\"üáÆüáπ Italia\">\n                {itLocations.map(([id]) => (\n                  <option key={id} value={id}>{t(`residency.loc.${id}`)}</option>\n                ))}\n              </optgroup>\n              <optgroup label=\"üá®üá≠ Svizzera\">\n                {chLocations.map(([id]) => (\n                  <option key={id} value={id}>{t(`residency.loc.${id}`)}</option>\n                ))}\n              </optgroup>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-xs font-bold text-slate-500 mb-1\">{t('residency.grossMonthly')}</label>\n            <input\n              type=\"number\"\n              value={grossMonthlyCHF}\n              onChange={(e) => setGrossMonthlyCHF(+e.target.value)}\n              className=\"w-full px-3 py-2.5 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm font-bold\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-bold text-slate-500 mb-1\">{t('residency.exchangeRate')}</label>\n            <div className=\"flex items-center gap-2 px-3 py-2.5 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700\">\n              <span className=\"text-sm font-bold text-slate-800 dark:text-slate-200\">1 CHF = {chfEurRate.toFixed(4)} EUR</span>\n              {rateLoading && <RefreshCw size={12} className=\"animate-spin text-slate-500\" />}\n            </div>\n            <p className=\"text-[10px] text-slate-500 mt-0.5\">{t('exchange.liveRate') || 'Tasso live'}</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Results */}\n      {/* Monthly comparison */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {/* From card */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <MapPin className=\"w-4 h-4 text-slate-500\" />\n            <h3 className=\"font-bold text-sm text-slate-500\">{t(`residency.loc.${from}`)} ({t('residency.current')})</h3>\n          </div>\n          <p className=\"text-2xl font-black text-slate-800 dark:text-slate-200\">‚Ç¨{Math.round(result.fromMonthly).toLocaleString('it-IT')}</p>\n          <p className=\"text-xs text-slate-500\">{t('residency.perMonth')}</p>\n          <div className=\"mt-3 space-y-1 text-xs text-slate-500\">\n            <p>üè† {t('residency.rent')}: {fromLoc.currency === 'CHF' ? 'CHF' : '‚Ç¨'}{fromLoc.avgRent}</p>\n            <p>üõí {t('residency.groceries')}: {fromLoc.currency === 'CHF' ? 'CHF' : '‚Ç¨'}{fromLoc.groceries}</p>\n            <p>üöó {t('residency.transport')}: {fromLoc.currency === 'CHF' ? 'CHF' : '‚Ç¨'}{fromLoc.transport}</p>\n            <p>üí° {t('residency.utilities')}: {fromLoc.currency === 'CHF' ? 'CHF' : '‚Ç¨'}{fromLoc.utilities}</p>\n            {fromLoc.healthInsurance > 0 && (\n              <p>üè• LAMal: CHF{fromLoc.healthInsurance}</p>\n            )}\n          </div>\n        </div>\n\n        {/* Difference card */}\n        <div className={`rounded-xl p-5 border-2 flex flex-col items-center justify-center ${\n          result.monthlyDiff > 0\n            ? 'bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800'\n            : 'bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800'\n        }`}>\n          <TrendingUp className={`w-6 h-6 mb-2 ${result.monthlyDiff > 0 ? 'text-red-500 rotate-0' : 'text-emerald-500 rotate-180'}`} />\n          <p className={`text-3xl font-black ${result.monthlyDiff > 0 ? 'text-red-600 dark:text-red-400' : 'text-emerald-600 dark:text-emerald-400'}`}>\n            {result.monthlyDiff > 0 ? '+' : ''}‚Ç¨{Math.round(result.monthlyDiff).toLocaleString('it-IT')}\n          </p>\n          <p className=\"text-xs text-slate-500 mt-1\">{t('residency.monthlyDiff')}</p>\n\n          {result.breakEvenMonths && (\n            <div className=\"mt-3 flex items-center gap-1 text-xs text-emerald-600 dark:text-emerald-400\">\n              <Clock className=\"w-3 h-3\" />\n              <span>{t('residency.breakEven', { months: result.breakEvenMonths.toString() })}</span>\n            </div>\n          )}\n        </div>\n\n        {/* To card */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <MapPin className=\"w-4 h-4 text-indigo-400\" />\n            <h3 className=\"font-bold text-sm text-indigo-500\">{t(`residency.loc.${to}`)} ({t('residency.new')})</h3>\n          </div>\n          <p className=\"text-2xl font-black text-slate-800 dark:text-slate-200\">‚Ç¨{Math.round(result.toMonthly).toLocaleString('it-IT')}</p>\n          <p className=\"text-xs text-slate-500\">{t('residency.perMonth')}</p>\n          <div className=\"mt-3 space-y-1 text-xs text-slate-500\">\n            <p>üè† {t('residency.rent')}: {toLoc.currency === 'CHF' ? 'CHF' : '‚Ç¨'}{toLoc.avgRent}</p>\n            <p>üõí {t('residency.groceries')}: {toLoc.currency === 'CHF' ? 'CHF' : '‚Ç¨'}{toLoc.groceries}</p>\n            <p>üöó {t('residency.transport')}: {toLoc.currency === 'CHF' ? 'CHF' : '‚Ç¨'}{toLoc.transport}</p>\n            <p>üí° {t('residency.utilities')}: {toLoc.currency === 'CHF' ? 'CHF' : '‚Ç¨'}{toLoc.utilities}</p>\n            {toLoc.healthInsurance > 0 && (\n              <p>üè• LAMal: CHF{toLoc.healthInsurance}</p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* One-time costs */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700\">\n        <button onClick={() => setShowDetails(!showDetails)} className=\"flex items-center justify-between w-full\">\n          <div className=\"flex items-center gap-2\">\n            <Euro className=\"w-5 h-5 text-amber-500\" />\n            <h3 className=\"font-bold text-slate-800 dark:text-slate-200\">{t('residency.oneTimeCosts')}</h3>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-lg font-black text-amber-600 dark:text-amber-400\">‚Ç¨{Math.round(result.totalOneTime).toLocaleString('it-IT')}</span>\n            {showDetails ? <ChevronUp size={16} className=\"text-slate-500\" /> : <ChevronDown size={16} className=\"text-slate-500\" />}\n          </div>\n        </button>\n\n        {showDetails && (\n          <div className=\"mt-4 space-y-2\">\n            {result.oneTimeCosts.map((cost, i) => (\n              <div key={i} className=\"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-700 last:border-0\">\n                <span className=\"text-sm text-slate-600 dark:text-slate-500\">{t(cost.label)}</span>\n                <span className=\"text-sm font-bold text-slate-800 dark:text-slate-200\">\n                  {cost.currency === 'CHF' ? 'CHF' : '‚Ç¨'}{cost.amount.toLocaleString('it-IT')}\n                </span>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Tax note */}\n      {result.taxNote && (\n        <div className=\"bg-indigo-50 dark:bg-indigo-950/20 rounded-xl p-4 border border-indigo-200 dark:border-indigo-800 flex items-start gap-3\">\n          <Briefcase className=\"w-5 h-5 text-indigo-500 shrink-0 mt-0.5\" />\n          <p className=\"text-sm text-indigo-700 dark:text-indigo-300\">{t(result.taxNote)}</p>\n        </div>\n      )}\n\n      {/* Disclaimer */}\n      <div className=\"bg-amber-50 dark:bg-amber-950/20 rounded-xl p-4 border border-amber-200 dark:border-amber-800 flex items-start gap-3\">\n        <AlertCircle className=\"w-5 h-5 text-amber-500 shrink-0 mt-0.5\" />\n        <p className=\"text-xs text-amber-700 dark:text-amber-300\">{t('residency.disclaimer')}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default ResidencySimulator;\n"],"names":["LOCATIONS","ONE_TIME_IT_TO_CH","ONE_TIME_CH_TO_IT","ResidencySimulator","t","useTranslation","chfEurRate","rateLoading","useExchangeRate","from","setFrom","useState","to","setTo","grossMonthlyCHF","setGrossMonthlyCHF","showDetails","setShowDetails","fromLoc","toLoc","eurChfRate","swapLocations","result","useMemo","toEUR","amount","currency","fromMonthly","toMonthly","monthlyDiff","direction","oneTimeCosts","totalOneTime","sum","c","taxNote","breakEvenMonths","itLocations","l","chLocations","jsxs","jsx","Home","e","id","ArrowLeftRight","RefreshCw","MapPin","TrendingUp","Clock","Euro","ChevronUp","ChevronDown","cost","i","Briefcase","AlertCircle"],"mappings":"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"}