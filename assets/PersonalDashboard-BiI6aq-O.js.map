{"version":3,"mappings":"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","names":["__iconNode","Cloud","createLucideIcon","HardDrive","History","LogOut","STORAGE_KEY","loadSimulations","raw","saveSimulationsLocal","sims","PersonalDashboard","currentInputs","currentResult","t","useTranslation","user","authLoading","signIn","logout","useAuth","simulations","setSimulations","useState","expandedId","setExpandedId","newLabel","setNewLabel","showSaveForm","setShowSaveForm","compareIds","setCompareIds","syncing","setSyncing","syncError","setSyncError","useEffect","mounted","cloudSims","loadSimulationsFromCloud","localSims","cloudIds","s","merged","cs","ls","e","handleSave","useCallback","inputs","DEFAULT_INPUTS","result","calculateSimulation","sim","cloudId","saveSimulationToCloud","prev","unlockAchievement","handleDelete","id","deleteSimulationFromCloud","handleExportPDF","jsPDF","__vitePreload","n","autoTable","doc","rows","_a","_c","_b","_e","_d","_g","_f","comparison","useMemo","a","b","netDiffCH","netDiffIT","pctCH","pctIT","jsxs","jsx","Loader2","getUserPhotoURL","User","getUserDisplayName","AlertCircle","Plus","Download","BarChart2","TrendingUp","TrendingDown","isExpanded","Calendar","Trash2","ChevronUp","ChevronDown","_h","_j","_i","_l","_k"],"ignoreList":[0,1,2,3],"sources":["../../node_modules/lucide-react/dist/esm/icons/cloud.js","../../node_modules/lucide-react/dist/esm/icons/hard-drive.js","../../node_modules/lucide-react/dist/esm/icons/history.js","../../node_modules/lucide-react/dist/esm/icons/log-out.js","../../components/PersonalDashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z\", key: \"p7xjir\" }]\n];\nconst Cloud = createLucideIcon(\"cloud\", __iconNode);\n\nexport { __iconNode, Cloud as default };\n//# sourceMappingURL=cloud.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"22\", x2: \"2\", y1: \"12\", y2: \"12\", key: \"1y58io\" }],\n  [\n    \"path\",\n    {\n      d: \"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\",\n      key: \"oot6mr\"\n    }\n  ],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"16\", y2: \"16\", key: \"sgf278\" }],\n  [\"line\", { x1: \"10\", x2: \"10.01\", y1: \"16\", y2: \"16\", key: \"1l4acy\" }]\n];\nconst HardDrive = createLucideIcon(\"hard-drive\", __iconNode);\n\nexport { __iconNode, HardDrive as default };\n//# sourceMappingURL=hard-drive.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }],\n  [\"path\", { d: \"M12 7v5l4 2\", key: \"1fdv2h\" }]\n];\nconst History = createLucideIcon(\"history\", __iconNode);\n\nexport { __iconNode, History as default };\n//# sourceMappingURL=history.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m16 17 5-5-5-5\", key: \"1bji2h\" }],\n  [\"path\", { d: \"M21 12H9\", key: \"dn1m92\" }],\n  [\"path\", { d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\", key: \"1uf3rs\" }]\n];\nconst LogOut = createLucideIcon(\"log-out\", __iconNode);\n\nexport { __iconNode, LogOut as default };\n//# sourceMappingURL=log-out.js.map\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { useTranslation } from '@/services/i18n';\nimport { calculateSimulation } from '@/services/calculationService';\nimport { DEFAULT_INPUTS } from '@/constants';\nimport { SimulationInputs, SimulationResult } from '@/types';\nimport { unlockAchievement } from '@/components/GamificationWidget';\nimport { useAuth, getUserDisplayName, getUserPhotoURL } from '@/services/authService';\nimport {\n  saveSimulationToCloud,\n  loadSimulationsFromCloud,\n  deleteSimulationFromCloud,\n} from '@/services/firestoreService';\nimport { History, Plus, Trash2, Download, TrendingUp, TrendingDown, Calendar, ChevronDown, ChevronUp, Clock, AlertCircle, BarChart2, LogIn, LogOut, Cloud, HardDrive, User, Loader2 } from 'lucide-react';\n\n// â”€â”€â”€ Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\ninterface SavedSimulation {\n  id: string;\n  date: string; // ISO\n  label: string;\n  inputs: SimulationInputs;\n  result: SimulationResult;\n  cloudId?: string; // Firestore doc ID if synced\n}\n\nconst STORAGE_KEY = 'frontaliere_saved_simulations';\n\n// â”€â”€â”€ Storage helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nfunction loadSimulations(): SavedSimulation[] {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    return raw ? JSON.parse(raw) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction saveSimulationsLocal(sims: SavedSimulation[]) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(sims));\n}\n\n// â”€â”€â”€ Component â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\ninterface PersonalDashboardProps {\n  currentInputs?: SimulationInputs;\n  currentResult?: SimulationResult | null;\n}\n\nconst PersonalDashboard: React.FC<PersonalDashboardProps> = ({ currentInputs, currentResult }) => {\n  const { t } = useTranslation();\n  const { user, loading: authLoading, signIn, logout } = useAuth();\n  const [simulations, setSimulations] = useState<SavedSimulation[]>(loadSimulations);\n  const [expandedId, setExpandedId] = useState<string | null>(null);\n  const [newLabel, setNewLabel] = useState('');\n  const [showSaveForm, setShowSaveForm] = useState(false);\n  const [compareIds, setCompareIds] = useState<[string, string] | null>(null);\n  const [syncing, setSyncing] = useState(false);\n  const [syncError, setSyncError] = useState<string | null>(null);\n\n  useEffect(() => {\n    saveSimulationsLocal(simulations);\n  }, [simulations]);\n\n  // Load from cloud when user logs in\n  useEffect(() => {\n    if (!user) return;\n    let mounted = true;\n\n    const syncFromCloud = async () => {\n      setSyncing(true);\n      setSyncError(null);\n      try {\n        const cloudSims = await loadSimulationsFromCloud(user.uid);\n        if (!mounted) return;\n        const localSims = loadSimulations();\n        const cloudIds = new Set(cloudSims.map(s => s.id));\n        const merged: SavedSimulation[] = [\n          ...cloudSims.map(cs => ({\n            id: cs.id,\n            date: cs.date,\n            label: cs.label,\n            inputs: cs.inputs,\n            result: cs.result,\n            cloudId: cs.id,\n          })),\n          ...localSims.filter(ls => !ls.cloudId || !cloudIds.has(ls.cloudId)),\n        ];\n        setSimulations(merged);\n      } catch (e) {\n        console.warn('Cloud sync failed:', e);\n        if (mounted) setSyncError('Sincronizzazione cloud fallita');\n      } finally {\n        if (mounted) setSyncing(false);\n      }\n    };\n\n    syncFromCloud();\n    return () => { mounted = false; };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user]);\n\n  const handleSave = useCallback(async () => {\n    const inputs = currentInputs || DEFAULT_INPUTS;\n    const result = currentResult || calculateSimulation(inputs);\n    const sim: SavedSimulation = {\n      id: Date.now().toString(36) + Math.random().toString(36).slice(2, 6),\n      date: new Date().toISOString(),\n      label: newLabel || `${t('dashboard.simulation')} ${simulations.length + 1}`,\n      inputs,\n      result,\n    };\n\n    // Save to cloud if logged in\n    if (user) {\n      try {\n        const cloudId = await saveSimulationToCloud(user.uid, sim);\n        sim.cloudId = cloudId;\n        sim.id = cloudId;\n      } catch (e) {\n        console.warn('Cloud save failed, keeping locally:', e);\n      }\n    }\n\n    setSimulations(prev => [sim, ...prev]);\n    setNewLabel('');\n    setShowSaveForm(false);\n    unlockAchievement('first_simulation');\n    if (simulations.length >= 2) unlockAchievement('simulation_pro');\n  }, [currentInputs, currentResult, newLabel, simulations.length, t, user]);\n\n  const handleDelete = async (id: string) => {\n    const sim = simulations.find(s => s.id === id);\n    if (sim?.cloudId && user) {\n      try { await deleteSimulationFromCloud(sim.cloudId); } catch { /* ignore */ }\n    }\n    setSimulations(prev => prev.filter(s => s.id !== id));\n    if (compareIds && (compareIds[0] === id || compareIds[1] === id)) {\n      setCompareIds(null);\n    }\n  };\n\n  const handleExportPDF = useCallback(async () => {\n    try {\n      const { default: jsPDF } = await import('jspdf');\n      const { default: autoTable } = await import('jspdf-autotable');\n      const doc = new jsPDF();\n\n      doc.setFontSize(18);\n      doc.text(t('dashboard.title'), 14, 22);\n      doc.setFontSize(10);\n      doc.text(`${t('dashboard.exported')}: ${new Date().toLocaleDateString('it-IT')}`, 14, 30);\n\n      const rows = simulations.map(s => [\n        new Date(s.date).toLocaleDateString('it-IT'),\n        s.label,\n        `CHF ${(s.inputs?.grossSalary ?? 0).toLocaleString('it-IT')}`,\n        `CHF ${Math.round(s.result?.chResident?.netAnnual ?? 0).toLocaleString('it-IT')}`,\n        `â‚¬ ${Math.round(s.result?.itResident?.netAnnual ?? 0).toLocaleString('it-IT')}`,\n        `CHF ${Math.round(s.result?.savings?.annual ?? 0).toLocaleString('it-IT')}`,\n      ]);\n\n      autoTable(doc, {\n        head: [[t('dashboard.date'), t('dashboard.label'), t('dashboard.gross'), t('dashboard.netCH'), t('dashboard.netIT'), t('dashboard.savings')]],\n        body: rows,\n        startY: 36,\n        styles: { fontSize: 8 },\n      });\n\n      doc.save('frontaliere-storico-simulazioni.pdf');\n      unlockAchievement('pdf_downloaded');\n    } catch (e) {\n      console.warn('PDF export failed', e);\n    }\n  }, [simulations, t]);\n\n  // Comparison\n  const comparison = useMemo(() => {\n    if (!compareIds) return null;\n    const a = simulations.find(s => s.id === compareIds[0]);\n    const b = simulations.find(s => s.id === compareIds[1]);\n    if (!a || !b) return null;\n\n    const netDiffCH = b.result.chResident.netAnnual - a.result.chResident.netAnnual;\n    const netDiffIT = b.result.itResident.netAnnual - a.result.itResident.netAnnual;\n    const pctCH = a.result.chResident.netAnnual > 0 ? (netDiffCH / a.result.chResident.netAnnual) * 100 : 0;\n    const pctIT = a.result.itResident.netAnnual > 0 ? (netDiffIT / a.result.itResident.netAnnual) * 100 : 0;\n\n    return { a, b, netDiffCH, netDiffIT, pctCH, pctIT };\n  }, [compareIds, simulations]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-br from-sky-50 to-blue-50 dark:from-sky-950/30 dark:to-blue-950/30 rounded-2xl p-6 border border-sky-200 dark:border-sky-800\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <div className=\"p-2 bg-sky-100 dark:bg-sky-900/50 rounded-xl\">\n            <History className=\"w-6 h-6 text-sky-600 dark:text-sky-400\" />\n          </div>\n          <h2 className=\"text-2xl font-bold text-sky-900 dark:text-sky-100\">{t('dashboard.title')}</h2>\n        </div>\n        <p className=\"text-sky-700 dark:text-sky-300 text-sm\">{t('dashboard.subtitle')}</p>\n      </div>\n\n      {/* Auth Section */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700\">\n        {authLoading ? (\n          <div className=\"flex items-center gap-2 text-sm text-slate-500\">\n            <Loader2 className=\"w-4 h-4 animate-spin\" />\n            {t('dashboard.loadingAuth') || 'Caricamento...'}\n          </div>\n        ) : user ? (\n          <div className=\"flex items-center justify-between gap-3\">\n            <div className=\"flex items-center gap-3\">\n              {getUserPhotoURL(user) ? (\n                <img src={getUserPhotoURL(user)!} alt=\"\" className=\"w-9 h-9 rounded-full border-2 border-sky-200\" referrerPolicy=\"no-referrer\" />\n              ) : (\n                <div className=\"w-9 h-9 rounded-full bg-sky-100 dark:bg-sky-900/50 flex items-center justify-center\">\n                  <User className=\"w-5 h-5 text-sky-600\" />\n                </div>\n              )}\n              <div>\n                <p className=\"text-sm font-bold text-slate-800 dark:text-slate-200\">{getUserDisplayName(user)}</p>\n                <div className=\"flex items-center gap-1 text-[10px] text-emerald-600\">\n                  <Cloud className=\"w-3 h-3\" />\n                  {syncing ? (t('dashboard.syncing') || 'Sincronizzazione...') : (t('dashboard.cloudSync') || 'Sincronizzato con il cloud')}\n                </div>\n              </div>\n            </div>\n            <button onClick={logout} className=\"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-slate-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\">\n              <LogOut className=\"w-3.5 h-3.5\" /> Logout\n            </button>\n          </div>\n        ) : (\n          <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-4\">\n            <div className=\"flex items-center gap-2 flex-1\">\n              <HardDrive className=\"w-5 h-5 text-amber-500 shrink-0\" />\n              <div>\n                <p className=\"text-sm font-bold text-slate-800 dark:text-slate-200\">{t('dashboard.localMode') || 'ModalitÃ  locale'}</p>\n                <p className=\"text-[10px] text-slate-500\">{t('dashboard.loginBenefits') || 'Accedi con Google per salvare nel cloud e accedere da qualsiasi dispositivo'}</p>\n              </div>\n            </div>\n            <button onClick={signIn} className=\"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-xl text-sm font-bold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors shadow-sm\">\n              <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\"><path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z\"/><path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/><path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/><path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/></svg>\n              {t('dashboard.loginGoogle') || 'Accedi con Google'}\n            </button>\n          </div>\n        )}\n        {syncError && <p className=\"mt-2 text-xs text-amber-600 flex items-center gap-1\"><AlertCircle className=\"w-3 h-3\" /> {syncError}</p>}\n      </div>\n\n      {/* Actions */}\n      <div className=\"flex flex-wrap gap-3\">\n        <button\n          onClick={() => setShowSaveForm(!showSaveForm)}\n          className=\"flex items-center gap-2 px-4 py-2.5 bg-sky-600 text-white rounded-xl text-sm font-bold hover:bg-sky-700 transition-colors\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          {t('dashboard.saveNew')}\n        </button>\n\n        {simulations.length > 0 && (\n          <button\n            onClick={handleExportPDF}\n            className=\"flex items-center gap-2 px-4 py-2.5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors\"\n          >\n            <Download className=\"w-4 h-4\" />\n            {t('dashboard.exportPdf')}\n          </button>\n        )}\n      </div>\n\n      {/* Save form */}\n      {showSaveForm && (\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 border border-sky-200 dark:border-sky-800 flex flex-col sm:flex-row gap-3\">\n          <input\n            type=\"text\"\n            value={newLabel}\n            onChange={(e) => setNewLabel(e.target.value)}\n            placeholder={t('dashboard.labelPlaceholder')}\n            className=\"flex-1 px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm\"\n          />\n          <button\n            onClick={handleSave}\n            className=\"px-4 py-2 bg-sky-600 text-white rounded-lg text-sm font-bold hover:bg-sky-700 transition-colors flex items-center gap-1.5\"\n          >\n            {user && <Cloud className=\"w-3.5 h-3.5\" />}\n            {t('dashboard.save')}\n          </button>\n        </div>\n      )}\n\n      {/* Comparison mode */}\n      {simulations.length >= 2 && (\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700\">\n          <h3 className=\"font-bold text-sm text-slate-600 dark:text-slate-300 mb-3 flex items-center gap-2\">\n            <BarChart2 className=\"w-4 h-4\" />\n            {t('dashboard.compare')}\n          </h3>\n          <div className=\"flex flex-col sm:flex-row gap-3\">\n            <select\n              value={compareIds?.[0] || ''}\n              onChange={(e) => setCompareIds([e.target.value, compareIds?.[1] || simulations[1]?.id || ''])}\n              className=\"flex-1 px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm\"\n            >\n              <option value=\"\">{t('dashboard.selectA')}</option>\n              {simulations.map(s => (\n                <option key={s.id} value={s.id}>{s.label} ({new Date(s.date).toLocaleDateString('it-IT')})</option>\n              ))}\n            </select>\n            <span className=\"text-slate-500 self-center\">vs</span>\n            <select\n              value={compareIds?.[1] || ''}\n              onChange={(e) => setCompareIds([compareIds?.[0] || simulations[0]?.id || '', e.target.value])}\n              className=\"flex-1 px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 text-sm\"\n            >\n              <option value=\"\">{t('dashboard.selectB')}</option>\n              {simulations.map(s => (\n                <option key={s.id} value={s.id}>{s.label} ({new Date(s.date).toLocaleDateString('it-IT')})</option>\n              ))}\n            </select>\n          </div>\n\n          {/* Comparison result */}\n          {comparison && (\n            <div className=\"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div className={`p-4 rounded-lg ${comparison.netDiffCH >= 0 ? 'bg-emerald-50 dark:bg-emerald-950/20' : 'bg-red-50 dark:bg-red-950/20'}`}>\n                <p className=\"text-xs text-slate-500 mb-1\">ðŸ‡¨ðŸ‡­ {t('dashboard.netCH')}</p>\n                <div className=\"flex items-center gap-2\">\n                  {comparison.netDiffCH >= 0 ? <TrendingUp className=\"w-5 h-5 text-emerald-500\" /> : <TrendingDown className=\"w-5 h-5 text-red-500\" />}\n                  <span className={`text-xl font-black ${comparison.netDiffCH >= 0 ? 'text-emerald-600' : 'text-red-600'}`}>\n                    {comparison.netDiffCH >= 0 ? '+' : ''}CHF {Math.round(comparison.netDiffCH).toLocaleString('it-IT')}\n                  </span>\n                </div>\n                <p className=\"text-xs text-slate-500 mt-1\">{comparison.pctCH >= 0 ? '+' : ''}{comparison.pctCH.toFixed(1)}%</p>\n              </div>\n              <div className={`p-4 rounded-lg ${comparison.netDiffIT >= 0 ? 'bg-emerald-50 dark:bg-emerald-950/20' : 'bg-red-50 dark:bg-red-950/20'}`}>\n                <p className=\"text-xs text-slate-500 mb-1\">ðŸ‡®ðŸ‡¹ {t('dashboard.netIT')}</p>\n                <div className=\"flex items-center gap-2\">\n                  {comparison.netDiffIT >= 0 ? <TrendingUp className=\"w-5 h-5 text-emerald-500\" /> : <TrendingDown className=\"w-5 h-5 text-red-500\" />}\n                  <span className={`text-xl font-black ${comparison.netDiffIT >= 0 ? 'text-emerald-600' : 'text-red-600'}`}>\n                    {comparison.netDiffIT >= 0 ? '+' : ''}â‚¬ {Math.round(comparison.netDiffIT).toLocaleString('it-IT')}\n                  </span>\n                </div>\n                <p className=\"text-xs text-slate-500 mt-1\">{comparison.pctIT >= 0 ? '+' : ''}{comparison.pctIT.toFixed(1)}%</p>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Saved simulations list */}\n      {simulations.length === 0 ? (\n        <div className=\"text-center py-12 text-slate-500\">\n          <History className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n          <p className=\"font-bold\">{t('dashboard.empty')}</p>\n          <p className=\"text-sm mt-1\">{t('dashboard.emptyDesc')}</p>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {simulations.map((sim) => {\n            const isExpanded = expandedId === sim.id;\n            return (\n              <div key={sim.id} className=\"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden\">\n                <div className=\"p-4 flex items-center gap-3\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <Calendar className=\"w-3.5 h-3.5 text-slate-500\" />\n                      <span className=\"text-xs text-slate-500\">{new Date(sim.date).toLocaleDateString('it-IT', { day: 'numeric', month: 'long', year: 'numeric' })}</span>\n                      {sim.cloudId && <Cloud className=\"w-3 h-3 text-sky-400\" title=\"Cloud\" />}\n                    </div>\n                    <p className=\"font-bold text-sm text-slate-800 dark:text-slate-200\">{sim.label}</p>\n                    <div className=\"flex flex-wrap gap-3 mt-1 text-xs text-slate-500\">\n                      <span>ðŸ’° CHF {(sim.inputs?.grossSalary ?? 0).toLocaleString('it-IT')}</span>\n                      <span>ðŸ‡¨ðŸ‡­ CHF {Math.round(sim.result?.chResident?.netAnnual ?? 0).toLocaleString('it-IT')}/a</span>\n                      <span>ðŸ‡®ðŸ‡¹ â‚¬ {Math.round(sim.result?.itResident?.netAnnual ?? 0).toLocaleString('it-IT')}/a</span>\n                    </div>\n                  </div>\n\n                  <button\n                    onClick={() => handleDelete(sim.id)}\n                    className=\"p-2 text-slate-300 hover:text-red-500 transition-colors\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                  <button\n                    onClick={() => setExpandedId(isExpanded ? null : sim.id)}\n                    className=\"p-2 text-slate-500\"\n                  >\n                    {isExpanded ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\n                  </button>\n                </div>\n\n                {isExpanded && (\n                  <div className=\"px-4 pb-4 border-t border-slate-100 dark:border-slate-700 pt-3\">\n                    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center\">\n                      <div className=\"p-2 bg-slate-50 dark:bg-slate-900 rounded-lg\">\n                        <p className=\"text-[10px] text-slate-500\">{t('dashboard.gross')}</p>\n                        <p className=\"font-black text-sm\">CHF {(sim.inputs?.grossSalary ?? 0).toLocaleString('it-IT')}</p>\n                      </div>\n                      <div className=\"p-2 bg-slate-50 dark:bg-slate-900 rounded-lg\">\n                        <p className=\"text-[10px] text-slate-500\">{t('dashboard.family')}</p>\n                        <p className=\"font-black text-sm\">{sim.inputs?.familyMembers ?? 0}p, {sim.inputs?.children ?? 0}b</p>\n                      </div>\n                      <div className=\"p-2 bg-red-50 dark:bg-red-950/20 rounded-lg\">\n                        <p className=\"text-[10px] text-slate-500\">ðŸ‡¨ðŸ‡­ {t('dashboard.netCH')}</p>\n                        <p className=\"font-black text-sm text-red-600\">CHF {Math.round(sim.result?.chResident?.netAnnual ?? 0).toLocaleString('it-IT')}</p>\n                      </div>\n                      <div className=\"p-2 bg-green-50 dark:bg-green-950/20 rounded-lg\">\n                        <p className=\"text-[10px] text-slate-500\">ðŸ‡®ðŸ‡¹ {t('dashboard.netIT')}</p>\n                        <p className=\"font-black text-sm text-green-600\">â‚¬ {Math.round(sim.result?.itResident?.netAnnual ?? 0).toLocaleString('it-IT')}</p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PersonalDashboard;\n"],"file":"assets/PersonalDashboard-BiI6aq-O.js"}