{"version":3,"file":"HealthInsurance-DP7VmeB4.js","sources":["../../components/HealthInsurance.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { Heart, Shield, AlertCircle, Info, ChevronDown, ChevronUp, Star, TrendingDown, ExternalLink, Filter, Award, Search } from 'lucide-react';\nimport { useTranslation } from '@/services/i18n';\n\ntype InsuranceModel = 'standard' | 'hmo' | 'hausarzt' | 'telmed';\ntype AgeGroup = '0-18' | '19-25' | '26+';\n\ninterface InsurerProfile {\n  id: string;\n  name: string;\n  website: string;\n  color: string;\n  rating: number;\n  models: InsuranceModel[];\n  serviceNote: string;\n  isLowCost?: boolean;\n}\n\nconst INSURERS: InsurerProfile[] = [\n  { id: 'assura', name: 'Assura', website: 'https://www.assura.ch', color: 'from-blue-500 to-indigo-600', rating: 3.2, models: ['standard', 'hausarzt', 'telmed'], serviceNote: 'Premi tra i più bassi, servizio clienti migliorabile', isLowCost: true },\n  { id: 'css', name: 'CSS', website: 'https://www.css.ch', color: 'from-red-500 to-rose-600', rating: 4.1, models: ['standard', 'hmo', 'hausarzt', 'telmed'], serviceNote: 'App moderna, buon servizio clienti' },\n  { id: 'helsana', name: 'Helsana', website: 'https://www.helsana.ch', color: 'from-emerald-500 to-teal-600', rating: 4.0, models: ['standard', 'hmo', 'hausarzt', 'telmed'], serviceNote: 'Grande gruppo, rete capillare' },\n  { id: 'swica', name: 'SWICA', website: 'https://www.swica.ch', color: 'from-teal-500 to-cyan-600', rating: 4.5, models: ['standard', 'hmo', 'hausarzt', 'telmed'], serviceNote: 'Eccellente servizio, premiata più volte' },\n  { id: 'sanitas', name: 'Sanitas', website: 'https://www.sanitas.com', color: 'from-cyan-500 to-blue-600', rating: 3.9, models: ['standard', 'hmo', 'hausarzt', 'telmed'], serviceNote: 'Buona offerta digitale' },\n  { id: 'concordia', name: 'Concordia', website: 'https://www.concordia.ch', color: 'from-purple-500 to-violet-600', rating: 4.2, models: ['standard', 'hausarzt', 'telmed'], serviceNote: 'Buon rapporto qualità-prezzo' },\n  { id: 'visana', name: 'Visana', website: 'https://www.visana.ch', color: 'from-amber-500 to-orange-600', rating: 3.8, models: ['standard', 'hmo', 'hausarzt'], serviceNote: 'Presente soprattutto nella Svizzera tedesca' },\n  { id: 'kpt', name: 'KPT', website: 'https://www.kpt.ch', color: 'from-sky-500 to-blue-600', rating: 4.3, models: ['standard', 'hausarzt', 'telmed'], serviceNote: 'Premi competitivi, alta soddisfazione' },\n  { id: 'okk', name: 'ÖKK', website: 'https://www.oekk.ch', color: 'from-lime-500 to-green-600', rating: 4.0, models: ['standard', 'hausarzt', 'telmed'], serviceNote: 'Forte nei Grigioni, servizio personale' },\n  { id: 'groupe-mutuel', name: 'Groupe Mutuel', website: 'https://www.groupemutuel.ch', color: 'from-indigo-500 to-purple-600', rating: 3.5, models: ['standard', 'hmo', 'hausarzt', 'telmed'], serviceNote: 'Grande gruppo, molte opzioni', isLowCost: true },\n  { id: 'atupri', name: 'Atupri', website: 'https://www.atupri.ch', color: 'from-fuchsia-500 to-pink-600', rating: 3.7, models: ['standard', 'hmo', 'telmed'], serviceNote: 'Fully digital, app moderna', isLowCost: true },\n  { id: 'sympany', name: 'Sympany', website: 'https://www.sympany.ch', color: 'from-rose-500 to-red-600', rating: 3.6, models: ['standard', 'hausarzt', 'telmed'], serviceNote: 'Premi competitivi nella regione Basilea' },\n  { id: 'egk', name: 'EGK', website: 'https://www.egk.ch', color: 'from-green-600 to-emerald-700', rating: 4.1, models: ['standard', 'hausarzt', 'telmed'], serviceNote: 'Specializzata in medicina naturale' },\n  { id: 'aquilana', name: 'Aquilana', website: 'https://www.aquilana.ch', color: 'from-blue-600 to-sky-700', rating: 3.4, models: ['standard', 'hausarzt'], serviceNote: 'Premi bassi, servizio essenziale', isLowCost: true },\n];\n\nconst FRANCHISES = [300, 500, 1000, 1500, 2000, 2500];\nconst FRANCHISES_CHILD = [0, 100, 200, 300, 400, 500, 600];\n\nconst BASE_PREMIUMS: Record<string, number> = {\n  'assura-TI': 367, 'css-TI': 432, 'helsana-TI': 445, 'swica-TI': 418,\n  'sanitas-TI': 428, 'concordia-TI': 401, 'visana-TI': 440, 'kpt-TI': 395,\n  'okk-TI': 435, 'groupe-mutuel-TI': 388, 'atupri-TI': 385, 'sympany-TI': 415,\n  'egk-TI': 410, 'aquilana-TI': 372,\n  'assura-GR': 310, 'css-GR': 375, 'helsana-GR': 385, 'swica-GR': 360,\n  'sanitas-GR': 370, 'concordia-GR': 348, 'visana-GR': 380, 'kpt-GR': 342,\n  'okk-GR': 330, 'groupe-mutuel-GR': 335, 'atupri-GR': 332, 'sympany-GR': 358,\n  'egk-GR': 355, 'aquilana-GR': 318,\n  'assura-VS': 340, 'css-VS': 398, 'helsana-VS': 410, 'swica-VS': 385,\n  'sanitas-VS': 395, 'concordia-VS': 370, 'visana-VS': 405, 'kpt-VS': 365,\n  'okk-VS': 395, 'groupe-mutuel-VS': 355, 'atupri-VS': 350, 'sympany-VS': 380,\n  'egk-VS': 378, 'aquilana-VS': 345,\n  'assura-ZH': 385, 'css-ZH': 455, 'helsana-ZH': 470, 'swica-ZH': 440,\n  'sanitas-ZH': 450, 'concordia-ZH': 425, 'visana-ZH': 460, 'kpt-ZH': 420,\n  'okk-ZH': 455, 'groupe-mutuel-ZH': 410, 'atupri-ZH': 405, 'sympany-ZH': 435,\n  'egk-ZH': 430, 'aquilana-ZH': 390,\n  'assura-GE': 420, 'css-GE': 495, 'helsana-GE': 510, 'swica-GE': 480,\n  'sanitas-GE': 490, 'concordia-GE': 460, 'visana-GE': 500, 'kpt-GE': 455,\n  'okk-GE': 495, 'groupe-mutuel-GE': 445, 'atupri-GE': 440, 'sympany-GE': 475,\n  'egk-GE': 465, 'aquilana-GE': 425,\n  'assura-BE': 355, 'css-BE': 415, 'helsana-BE': 430, 'swica-BE': 405,\n  'sanitas-BE': 415, 'concordia-BE': 390, 'visana-BE': 395, 'kpt-BE': 380,\n  'okk-BE': 420, 'groupe-mutuel-BE': 375, 'atupri-BE': 370, 'sympany-BE': 400,\n  'egk-BE': 395, 'aquilana-BE': 360,\n  'assura-LU': 335, 'css-LU': 395, 'helsana-LU': 408, 'swica-LU': 385,\n  'sanitas-LU': 395, 'concordia-LU': 370, 'visana-LU': 400, 'kpt-LU': 362,\n  'okk-LU': 400, 'groupe-mutuel-LU': 355, 'atupri-LU': 352, 'sympany-LU': 382,\n  'egk-LU': 378, 'aquilana-LU': 340,\n};\n\nconst MODEL_DISCOUNT: Record<InsuranceModel, number> = {\n  standard: 0, hausarzt: 0.07, hmo: 0.12, telmed: 0.10,\n};\n\nconst FRANCHISE_ADJUSTMENT: Record<number, number> = {\n  0: 0.08, 100: 0.05, 200: 0.02, 300: 0, 400: -0.03, 500: -0.05,\n  600: -0.08, 1000: -0.15, 1500: -0.22, 2000: -0.28, 2500: -0.33,\n};\n\nconst AGE_MULTIPLIER: Record<AgeGroup, number> = {\n  '0-18': 0.25, '19-25': 0.75, '26+': 1.0,\n};\n\nconst ACCIDENT_ADDITION = 0.07;\n\nconst CANTONS = [\n  { value: 'TI', label: 'Ticino (TI)' },\n  { value: 'GR', label: 'Grigioni (GR)' },\n  { value: 'VS', label: 'Vallese (VS)' },\n  { value: 'ZH', label: 'Zurigo (ZH)' },\n  { value: 'GE', label: 'Ginevra (GE)' },\n  { value: 'BE', label: 'Berna (BE)' },\n  { value: 'LU', label: 'Lucerna (LU)' },\n];\n\nfunction calculatePremium(\n  insurerId: string, canton: string, model: InsuranceModel,\n  franchise: number, ageGroup: AgeGroup, withAccident: boolean\n): number | null {\n  const base = BASE_PREMIUMS[`${insurerId}-${canton}`];\n  if (base === undefined) return null;\n  const insurer = INSURERS.find(i => i.id === insurerId);\n  if (!insurer || !insurer.models.includes(model)) return null;\n  let p = base * (1 - MODEL_DISCOUNT[model]) * (1 + (FRANCHISE_ADJUSTMENT[franchise] ?? 0)) * AGE_MULTIPLIER[ageGroup];\n  if (withAccident) p *= (1 + ACCIDENT_ADDITION);\n  return Math.round(p * 100) / 100;\n}\n\nexport { INSURERS, calculatePremium, FRANCHISES, FRANCHISES_CHILD, MODEL_DISCOUNT, FRANCHISE_ADJUSTMENT, CANTONS };\n\nconst MODEL_LABELS: Record<InsuranceModel, string> = {\n  standard: 'Standard', hausarzt: 'Medico di famiglia',\n  hmo: 'HMO (Centro medico)', telmed: 'Telmed (Telefono/Online)',\n};\n\ninterface ComputedResult {\n  insurer: InsurerProfile;\n  premium: number;\n  annualCost: number;\n  annualTotal: number;\n  savingsVsMax: number;\n  rank: number;\n  isBestPrice: boolean;\n  isBestValue: boolean;\n}\n\nconst HealthInsurance: React.FC = () => {\n  const { t } = useTranslation();\n  const [age, setAge] = useState<number>(35);\n  const [canton, setCanton] = useState('TI');\n  const [franchise, setFranchise] = useState(300);\n  const [model, setModel] = useState<InsuranceModel>('standard');\n  const [withAccident, setWithAccident] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [expandedCard, setExpandedCard] = useState<string | null>(null);\n\n  const ageGroup: AgeGroup = age < 19 ? '0-18' : age <= 25 ? '19-25' : '26+';\n  const availableFranchises = ageGroup === '0-18' ? FRANCHISES_CHILD : FRANCHISES;\n  const effectiveFranchise = availableFranchises.includes(franchise) ? franchise : availableFranchises[0];\n\n  const results: ComputedResult[] = useMemo(() => {\n    const computed: ComputedResult[] = [];\n    for (const insurer of INSURERS) {\n      const premium = calculatePremium(insurer.id, canton, model, effectiveFranchise, ageGroup, withAccident);\n      if (premium === null) continue;\n      const annualCost = premium * 12;\n      computed.push({ insurer, premium, annualCost, annualTotal: annualCost + effectiveFranchise, savingsVsMax: 0, rank: 0, isBestPrice: false, isBestValue: false });\n    }\n    computed.sort((a, b) => a.premium - b.premium);\n    const maxCost = computed.length > 0 ? computed[computed.length - 1].annualCost : 0;\n    computed.forEach((r, i) => { r.rank = i + 1; r.savingsVsMax = maxCost - r.annualCost; });\n    if (computed.length > 0) {\n      computed[0].isBestPrice = true;\n      const top5 = computed.slice(0, 5);\n      const bestVal = top5.reduce((b, c) => c.insurer.rating > b.insurer.rating ? c : b, top5[0]);\n      bestVal.isBestValue = true;\n    }\n    return computed;\n  }, [canton, model, effectiveFranchise, ageGroup, withAccident]);\n\n  const filtered = useMemo(() => {\n    if (!searchTerm.trim()) return results;\n    const term = searchTerm.toLowerCase();\n    return results.filter(r => r.insurer.name.toLowerCase().includes(term));\n  }, [results, searchTerm]);\n\n  const cheapest = results[0] ?? null;\n  const mostExpensive = results.length > 0 ? results[results.length - 1] : null;\n\n  return (\n    <div className=\"space-y-6 pb-8\">\n      <div className=\"bg-gradient-to-br from-rose-600 to-pink-700 rounded-2xl p-6 sm:p-8 text-white\">\n        <div className=\"flex items-center gap-3 mb-3\">\n          <Heart size={28} />\n          <h2 className=\"text-2xl sm:text-3xl font-extrabold\">{t('health.title')}</h2>\n        </div>\n        <p className=\"text-rose-100 text-base sm:text-lg\">\n          {'Confronta i premi di ' + INSURERS.length + ' assicurazioni LAMal svizzere. Inserisci i tuoi dati per trovare l\\'offerta migliore.'}\n        </p>\n      </div>\n\n      <div className=\"bg-amber-50 dark:bg-amber-950/30 border-l-4 border-amber-500 p-4 rounded-lg\">\n        <div className=\"flex items-start gap-3\">\n          <AlertCircle className=\"text-amber-600 flex-shrink-0 mt-0.5\" size={20} />\n          <div className=\"text-sm text-amber-900 dark:text-amber-200\">\n            <p className=\"font-bold mb-1\">Nota per frontalieri</p>\n            <p>\n              {'I frontalieri possono scegliere tra LAMal svizzera o SSN italiano (diritto d\\'opzione). '}\n              {'La scelta va comunicata entro 3 mesi dall\\'inizio dell\\'attività ed è '}\n              <strong>irrevocabile</strong>{'. Premi indicativi — verifica su '}\n              <a href=\"https://www.priminfo.admin.ch/it/praemien\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline font-bold\">priminfo.admin.ch</a>.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700 shadow-sm\">\n        <h3 className=\"text-sm font-bold text-slate-600 dark:text-slate-500 uppercase tracking-wider mb-4 flex items-center gap-2\">\n          <Filter size={16} /> I tuoi parametri\n        </h3>\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n          <div>\n            <label className=\"block text-xs font-bold text-slate-700 dark:text-slate-300 mb-1.5\">{'Età'}</label>\n            <input type=\"number\" min={0} max={99} value={age}\n              onChange={(e) => setAge(Math.max(0, Math.min(99, Number(e.target.value))))}\n              className=\"w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-100 text-sm\" />\n            <span className=\"text-[10px] text-slate-500 mt-0.5 block\">\n              {ageGroup === '0-18' ? 'Bambino' : ageGroup === '19-25' ? 'Giovane adulto' : 'Adulto'}\n            </span>\n          </div>\n          <div>\n            <label className=\"block text-xs font-bold text-slate-700 dark:text-slate-300 mb-1.5\">Cantone di lavoro</label>\n            <select value={canton} onChange={(e) => setCanton(e.target.value)}\n              className=\"w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-100 text-sm\">\n              {CANTONS.map(c => <option key={c.value} value={c.value}>{c.label}</option>)}\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-xs font-bold text-slate-700 dark:text-slate-300 mb-1.5\">Franchigia (CHF/anno)</label>\n            <select value={effectiveFranchise} onChange={(e) => setFranchise(Number(e.target.value))}\n              className=\"w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-100 text-sm\">\n              {availableFranchises.map(f => <option key={f} value={f}>{f} CHF</option>)}\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-xs font-bold text-slate-700 dark:text-slate-300 mb-1.5\">Modello assicurativo</label>\n            <select value={model} onChange={(e) => setModel(e.target.value as InsuranceModel)}\n              className=\"w-full px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-100 text-sm\">\n              {Object.entries(MODEL_LABELS).map(([k, v]) => <option key={k} value={k}>{v}</option>)}\n            </select>\n          </div>\n          <div>\n            <label className=\"block text-xs font-bold text-slate-700 dark:text-slate-300 mb-1.5\">Copertura infortuni</label>\n            <div className=\"flex gap-2 mt-1\">\n              <button onClick={() => setWithAccident(false)}\n                className={`flex-1 px-3 py-2 rounded-lg text-xs font-bold transition-colors ${!withAccident ? 'bg-rose-600 text-white' : 'bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300'}`}>\n                Senza</button>\n              <button onClick={() => setWithAccident(true)}\n                className={`flex-1 px-3 py-2 rounded-lg text-xs font-bold transition-colors ${withAccident ? 'bg-rose-600 text-white' : 'bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300'}`}>\n                Con</button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {cheapest && mostExpensive && (\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n          <div className=\"bg-emerald-50 dark:bg-emerald-950/30 rounded-xl p-4 border border-emerald-200 dark:border-emerald-800\">\n            <div className=\"flex items-center gap-2 text-emerald-700 dark:text-emerald-400 mb-1\">\n              <TrendingDown size={16} />\n              <span className=\"text-xs font-bold uppercase tracking-wider\">{'Più economica'}</span>\n            </div>\n            <p className=\"text-2xl font-extrabold text-slate-800 dark:text-slate-100\">{cheapest.premium.toFixed(2)} CHF</p>\n            <p className=\"text-xs text-slate-500\">{cheapest.insurer.name} /mese</p>\n          </div>\n          <div className=\"bg-blue-50 dark:bg-blue-950/30 rounded-xl p-4 border border-blue-200 dark:border-blue-800\">\n            <div className=\"flex items-center gap-2 text-blue-700 dark:text-blue-400 mb-1\">\n              <Award size={16} />\n              <span className=\"text-xs font-bold uppercase tracking-wider\">Miglior rapporto</span>\n            </div>\n            {(() => { const bv = filtered.find(r => r.isBestValue); return bv ? (<><p className=\"text-2xl font-extrabold text-slate-800 dark:text-slate-100\">{bv.premium.toFixed(2)} CHF</p><p className=\"text-xs text-slate-500\">{bv.insurer.name} - {bv.insurer.rating}/5</p></>) : null; })()}\n          </div>\n          <div className=\"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 border border-slate-200 dark:border-slate-700\">\n            <div className=\"flex items-center gap-2 text-slate-500 dark:text-slate-500 mb-1\">\n              <Info size={16} />\n              <span className=\"text-xs font-bold uppercase tracking-wider\">Risparmio max annuo</span>\n            </div>\n            <p className=\"text-2xl font-extrabold text-emerald-600 dark:text-emerald-400\">\n              {(mostExpensive.annualCost - cheapest.annualCost).toFixed(0)} CHF\n            </p>\n            <p className=\"text-xs text-slate-500\">{'tra la più cara e la più economica'}</p>\n          </div>\n        </div>\n      )}\n\n      <div className=\"flex flex-col sm:flex-row gap-3 items-start sm:items-center\">\n        <div className=\"relative flex-1 max-w-xs\">\n          <Search size={16} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500\" />\n          <input type=\"text\" placeholder=\"Cerca assicurazione...\"\n            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full pl-9 pr-3 py-2 text-sm rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-100\" />\n        </div>\n        <p className=\"text-xs text-slate-500 dark:text-slate-500\">\n          {filtered.length} assicurazioni trovate\n        </p>\n      </div>\n\n      <div className=\"space-y-3\">\n        {filtered.map((result) => {\n          const isExpanded = expandedCard === result.insurer.id;\n          return (\n            <div key={result.insurer.id}\n              className={`bg-white dark:bg-slate-800 rounded-xl border-2 transition-all ${\n                result.isBestPrice ? 'border-emerald-400 dark:border-emerald-600 shadow-lg'\n                : result.isBestValue ? 'border-blue-400 dark:border-blue-600 shadow-md'\n                : 'border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600'}`}>\n              <div className=\"p-4 cursor-pointer\" onClick={() => setExpandedCard(isExpanded ? null : result.insurer.id)}>\n                <div className=\"flex items-center gap-4\">\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center font-extrabold text-sm ${\n                    result.rank === 1 ? 'bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300'\n                    : result.rank <= 3 ? 'bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300'\n                    : 'bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-500'}`}>\n                    {result.rank}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2 flex-wrap\">\n                      <h3 className=\"font-bold text-slate-800 dark:text-slate-100\">{result.insurer.name}</h3>\n                      {result.isBestPrice && (\n                        <span className=\"px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 text-[10px] font-bold uppercase rounded-full\">Migliore prezzo</span>)}\n                      {result.isBestValue && !result.isBestPrice && (\n                        <span className=\"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-[10px] font-bold uppercase rounded-full\">Miglior rapporto</span>)}\n                      {result.insurer.isLowCost && (\n                        <span className=\"px-1.5 py-0.5 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-[10px] font-bold rounded-full\">Low-cost</span>)}\n                    </div>\n                    <div className=\"flex items-center gap-3 mt-0.5\">\n                      <div className=\"flex items-center gap-0.5\">\n                        {[1,2,3,4,5].map(s => (\n                          <Star key={s} size={10}\n                            className={s <= Math.round(result.insurer.rating) ? 'text-amber-400 fill-amber-400' : 'text-slate-300 dark:text-slate-600'} />\n                        ))}\n                        <span className=\"text-[10px] text-slate-500 ml-1\">{result.insurer.rating}</span>\n                      </div>\n                      <span className=\"text-[10px] text-slate-500 hidden sm:inline\">{result.insurer.serviceNote}</span>\n                    </div>\n                  </div>\n                  <div className=\"text-right flex-shrink-0\">\n                    <p className=\"text-xl sm:text-2xl font-extrabold text-slate-800 dark:text-slate-100\">\n                      {result.premium.toFixed(2)} <span className=\"text-sm font-bold text-slate-500\">CHF</span></p>\n                    <p className=\"text-[10px] text-slate-500\">/mese</p>\n                    {result.savingsVsMax > 0 && result.rank <= 5 && (\n                      <p className=\"text-[10px] text-emerald-600 dark:text-emerald-400 font-bold mt-0.5\">\n                        {'risparmi ' + result.savingsVsMax.toFixed(0) + ' CHF/anno'}</p>)}\n                  </div>\n                  <div className=\"text-slate-500\">\n                    {isExpanded ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n                  </div>\n                </div>\n              </div>\n              {isExpanded && (\n                <div className=\"px-4 pb-4 border-t border-slate-100 dark:border-slate-700 pt-3 animate-fade-in\">\n                  <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4\">\n                    <div className=\"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-3\">\n                      <p className=\"text-[10px] text-slate-500 uppercase font-bold\">Premio mensile</p>\n                      <p className=\"text-lg font-bold text-slate-800 dark:text-slate-100\">{result.premium.toFixed(2)} CHF</p>\n                    </div>\n                    <div className=\"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-3\">\n                      <p className=\"text-[10px] text-slate-500 uppercase font-bold\">Costo annuo</p>\n                      <p className=\"text-lg font-bold text-slate-800 dark:text-slate-100\">{result.annualCost.toFixed(0)} CHF</p>\n                    </div>\n                    <div className=\"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-3\">\n                      <p className=\"text-[10px] text-slate-500 uppercase font-bold\">Franchigia</p>\n                      <p className=\"text-lg font-bold text-slate-800 dark:text-slate-100\">{effectiveFranchise} CHF</p>\n                    </div>\n                    <div className=\"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-3\">\n                      <p className=\"text-[10px] text-slate-500 uppercase font-bold\">Tot. max/anno</p>\n                      <p className=\"text-lg font-bold text-amber-600 dark:text-amber-400\">{result.annualTotal.toFixed(0)} CHF</p>\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4\">\n                    <div>\n                      <p className=\"text-xs font-bold text-slate-600 dark:text-slate-500 mb-2\">Modelli disponibili</p>\n                      <div className=\"flex flex-wrap gap-1.5\">\n                        {result.insurer.models.map(m => (\n                          <span key={m} className={`px-2 py-1 rounded-md text-[10px] font-bold ${\n                            m === model ? 'bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300 ring-1 ring-rose-300'\n                            : 'bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-500'}`}>\n                            {MODEL_LABELS[m]}</span>\n                        ))}\n                      </div>\n                    </div>\n                    <div>\n                      <p className=\"text-xs font-bold text-slate-600 dark:text-slate-500 mb-2\">Confronto franchige</p>\n                      <div className=\"space-y-1\">\n                        {(ageGroup === '0-18' ? FRANCHISES_CHILD : FRANCHISES).slice(0, 4).map(f => {\n                          const p = calculatePremium(result.insurer.id, canton, model, f, ageGroup, withAccident);\n                          return p !== null ? (\n                            <div key={f} className=\"flex items-center justify-between text-xs\">\n                              <span className={`text-slate-500 ${f === effectiveFranchise ? 'font-bold text-slate-800 dark:text-slate-100' : ''}`}>\n                                {f} CHF</span>\n                              <span className={`font-mono ${f === effectiveFranchise ? 'font-bold text-slate-800 dark:text-slate-100' : 'text-slate-500'}`}>\n                                {p.toFixed(2)} CHF/mese</span>\n                            </div>) : null;\n                        })}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700\">\n                    <p className=\"text-xs text-slate-500\">{result.insurer.serviceNote}</p>\n                    <a href={result.insurer.website} target=\"_blank\" rel=\"noopener noreferrer\"\n                      className=\"inline-flex items-center gap-1.5 px-3 py-1.5 bg-rose-600 hover:bg-rose-700 text-white text-xs font-bold rounded-lg transition-colors\">\n                      <ExternalLink size={12} /> Vai al sito</a>\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {filtered.length === 0 && (\n        <div className=\"text-center py-12 text-slate-500\">\n          <Shield size={48} className=\"mx-auto mb-3 opacity-30\" />\n          <p className=\"font-bold\">Nessuna assicurazione trovata</p>\n          <p className=\"text-sm\">Modifica i parametri o il termine di ricerca</p>\n        </div>\n      )}\n\n      <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-2xl border border-blue-200 dark:border-blue-800 p-6\">\n        <h3 className=\"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2\">\n          <Info size={20} className=\"text-blue-600\" />\n          LAMal svizzera vs SSN italiano\n        </h3>\n        <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\n          <div className=\"p-4 bg-white/60 dark:bg-slate-900/50 rounded-xl\">\n            <p className=\"font-bold text-blue-600 mb-2\">Scegli LAMal se:</p>\n            <ul className=\"space-y-1 text-sm text-slate-700 dark:text-slate-300 list-disc ml-4\">\n              <li>Hai bisogno di cure mediche frequenti in Svizzera</li>\n              <li>Vuoi tempi di attesa brevi per specialisti</li>\n              <li>Hai famiglia che vive in Svizzera</li>\n            </ul>\n          </div>\n          <div className=\"p-4 bg-white/60 dark:bg-slate-900/50 rounded-xl\">\n            <p className=\"font-bold text-blue-600 mb-2\">Scegli SSN se:</p>\n            <ul className=\"space-y-1 text-sm text-slate-700 dark:text-slate-300 list-disc ml-4\">\n              <li>Vuoi risparmiare sul costo sanitario (SSN gratuito)</li>\n              <li>Le tue cure mediche sono principalmente in Italia</li>\n              <li>Preferisci non pagare premi mensili</li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"p-4 bg-amber-50 dark:bg-amber-950/50 rounded-xl border border-amber-200 dark:border-amber-800\">\n          <p className=\"text-sm text-amber-900 dark:text-amber-200\">\n            {'La scelta tra LAMal e SSN è '}\n            <strong>definitiva</strong>\n            {'. Hai 3 mesi per decidere. Premi basati su dati BAG 2025. Verifica su '}\n            <a href=\"https://www.priminfo.admin.ch/it/praemien\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline font-bold\">priminfo.admin.ch</a>.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700\">\n        <h3 className=\"text-sm font-bold text-slate-600 dark:text-slate-500 uppercase tracking-wider mb-3\">\n          Modelli assicurativi\n        </h3>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n          {([\n            { m: 'standard' as InsuranceModel, desc: 'Libera scelta del medico. Flessibile ma costoso.' },\n            { m: 'hausarzt' as InsuranceModel, desc: 'Prima il medico di famiglia. Sconto ~7%.' },\n            { m: 'hmo' as InsuranceModel, desc: 'Centro medico convenzionato. Sconto ~12%.' },\n            { m: 'telmed' as InsuranceModel, desc: 'Primo contatto telefonico/online. Sconto ~10%.' },\n          ]).map(({ m, desc }) => (\n            <div key={m} className=\"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-lg\">\n              <p className=\"text-xs font-bold text-rose-600 dark:text-rose-400\">{MODEL_LABELS[m]}</p>\n              <p className=\"text-xs text-slate-600 dark:text-slate-300 mt-1\">{desc}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HealthInsurance;\n"],"names":["INSURERS","FRANCHISES","FRANCHISES_CHILD","BASE_PREMIUMS","MODEL_DISCOUNT","FRANCHISE_ADJUSTMENT","AGE_MULTIPLIER","ACCIDENT_ADDITION","CANTONS","calculatePremium","insurerId","canton","model","franchise","ageGroup","withAccident","base","insurer","i","p","MODEL_LABELS","HealthInsurance","t","useTranslation","age","setAge","useState","setCanton","setFranchise","setModel","setWithAccident","searchTerm","setSearchTerm","expandedCard","setExpandedCard","availableFranchises","effectiveFranchise","results","useMemo","computed","premium","annualCost","a","b","maxCost","r","top5","bestVal","c","filtered","term","cheapest","mostExpensive","jsxs","jsx","Heart","AlertCircle","Filter","e","f","k","v","TrendingDown","Award","bv","Fragment","Info","Search","result","isExpanded","Star","ChevronUp","ChevronDown","m","ExternalLink","Shield","desc"],"mappings":"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"}