import{c as Z,u as V,A as O,j as e,V as se,h as re,g as ne,R as G,I as X,k as Q,a as I,l as ie,f as le,e as J,Z as ce}from"./index-ChZyJ9Ke.js";import{r as _,d as z,A as oe,C as $,X as K,Y as D,T as P,i as de,B as Y,e as B,h as L}from"./vendor-charts-aQyCzDkf.js";import{A as xe}from"./arrow-left-right-CbB1e8CR.js";import{T as ee}from"./trending-down-D2C3WlbY.js";import{D as me}from"./dollar-sign-DV-ek7dG.js";import{C as he}from"./clock-CBodIMnm.js";import"./vendor-pdf-og5EeDf1.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],pe=Z("chart-bar",ue);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],fe=Z("flask-conical",ge),be=[{name:"Wise (TransferWise)",logo:"üåç",commission:0,commissionPercent:.35,exchangeRateMarkup:0,minAmount:1,maxAmount:1e6,transferTime:"1-2 giorni lavorativi",transferTimeKey:"1_2_business_days",color:"from-emerald-500 to-teal-600",features:["Tasso medio di mercato reale","Trasparenza totale","Sconto volume: 0.20% sopra 22k EUR/mese"],featureKeys:["feature_real_market_rate","feature_total_transparency","feature_wise_volume_discount"],type:"service",referralUrl:"https://wise.com/invite/dic/luigis147"},{name:"Revolut",logo:"üí≥",commission:0,commissionPercent:0,exchangeRateMarkup:.005,minAmount:0,maxAmount:5e4,transferTime:"Istantaneo",transferTimeKey:"instant",color:"from-blue-500 to-indigo-600",features:["Cambio gratuito fino a 1000 EUR/mese (Standard)","Oltre limite: 1% commissione uso corretto","Weekend: markup 1%"],featureKeys:["feature_free_exchange_1000","feature_fair_usage_1pct","feature_weekend_markup_1pct"],type:"neobank"},{name:"Yuh",logo:"üá®üá≠",commission:0,commissionPercent:0,exchangeRateMarkup:.009,minAmount:0,maxAmount:1e5,transferTime:"Istantaneo",transferTimeKey:"instant",color:"from-purple-500 to-pink-600",features:["100% digitale","Nessuna commissione dichiarata","Spread nascosto ~0.9%"],featureKeys:["feature_100_digital","feature_no_declared_commission","feature_hidden_spread_09"],type:"neobank"},{name:"PostFinance",logo:"üìÆ",commission:0,commissionPercent:0,exchangeRateMarkup:.025,minAmount:0,maxAmount:5e5,transferTime:"1-3 giorni lavorativi",transferTimeKey:"1_3_business_days",color:"from-yellow-500 to-orange-600",features:["Nessuna commissione dichiarata","Tasso sfavorevole","Spread nascosto ~2-3%"],featureKeys:["feature_no_declared_commission","feature_unfavorable_rate","feature_hidden_spread_2_3"],type:"traditional"},{name:"UBS",logo:"üè¶",commission:5,commissionPercent:.1,exchangeRateMarkup:.03,minAmount:0,maxAmount:1e6,transferTime:"2-4 giorni lavorativi",transferTimeKey:"2_4_business_days",color:"from-red-500 to-pink-600",features:["Commissioni fisse + spread","Tasso molto sfavorevole","Costi nascosti elevati"],featureKeys:["feature_fixed_commission_spread","feature_very_unfavorable_rate","feature_high_hidden_costs"],type:"traditional"},{name:"Credit Suisse",logo:"üèõÔ∏è",commission:5,commissionPercent:.15,exchangeRateMarkup:.028,minAmount:0,maxAmount:1e6,transferTime:"2-4 giorni lavorativi",transferTimeKey:"2_4_business_days",color:"from-slate-500 to-gray-600",features:["Commissioni + spread","Servizio tradizionale","Poco trasparente"],featureKeys:["feature_commission_spread","feature_traditional_service","feature_not_transparent"],type:"traditional"},{name:"Fineco Bank",logo:"üáÆüáπ",commission:0,commissionPercent:.5,exchangeRateMarkup:.018,minAmount:0,maxAmount:1e5,transferTime:"1-3 giorni lavorativi",transferTimeKey:"1_3_business_days",color:"from-sky-500 to-blue-600",features:["Banca digitale italiana","Commissione 0.5%","Spread nascosto ~1.8%"],featureKeys:["feature_italian_digital_bank","feature_commission_05","feature_hidden_spread_18"],type:"traditional"},{name:"Intesa Sanpaolo",logo:"üè¶",commission:5,commissionPercent:.25,exchangeRateMarkup:.032,minAmount:0,maxAmount:5e5,transferTime:"2-5 giorni lavorativi",transferTimeKey:"2_5_business_days",color:"from-blue-600 to-indigo-700",features:["Commissione fissa + 0.25%","Spread molto elevato","Servizio bancario classico"],featureKeys:["feature_fixed_commission_025","feature_very_high_spread","feature_classic_banking"],type:"traditional"},{name:"Cariparma (Cr√©dit Agricole)",logo:"üèõÔ∏è",commission:4,commissionPercent:.3,exchangeRateMarkup:.028,minAmount:0,maxAmount:5e5,transferTime:"2-4 giorni lavorativi",transferTimeKey:"2_4_business_days",color:"from-green-600 to-teal-700",features:["Commissione 4 CHF + 0.3%","Spread nascosto ~2.8%","Gruppo Cr√©dit Agricole"],featureKeys:["feature_commission_4chf_03","feature_hidden_spread_28","feature_credit_agricole_group"],type:"traditional"},{name:"UniCredit",logo:"üè¶",commission:5,commissionPercent:.2,exchangeRateMarkup:.03,minAmount:0,maxAmount:5e5,transferTime:"2-5 giorni lavorativi",transferTimeKey:"2_5_business_days",color:"from-red-600 to-rose-700",features:["Commissione 5 CHF + 0.2%","Spread ~3%","Banca europea"],featureKeys:["feature_commission_5chf_02","feature_spread_3","feature_european_bank"],type:"traditional"},{name:"Banco BPM",logo:"üè¶",commission:4.5,commissionPercent:.25,exchangeRateMarkup:.029,minAmount:0,maxAmount:3e5,transferTime:"2-4 giorni lavorativi",transferTimeKey:"2_4_business_days",color:"from-orange-600 to-amber-700",features:["Commissione 4.5 CHF + 0.25%","Spread nascosto ~2.9%","Gruppo bancario italiano"],featureKeys:["feature_commission_45chf_025","feature_hidden_spread_29","feature_italian_banking_group"],type:"traditional"},{name:"Cambiovalute.ch",logo:"üá®üá≠",commission:0,commissionPercent:0,exchangeRateMarkup:.0035,minAmount:100,maxAmount:5e5,transferTime:"1-2 giorni lavorativi",transferTimeKey:"1_2_business_days",color:"from-cyan-500 to-blue-600",features:["Servizio svizzero specializzato","Spread competitivo ~0.35%","Bonifico diretto su conto italiano"],featureKeys:["feature_swiss_specialized_service","feature_competitive_spread_035","feature_direct_transfer_italy"],type:"service",referralUrl:"https://www.cambiovalute.ch"}],ve=["day_mon","day_tue","day_wed","day_thu","day_fri","day_sat","day_sun"],ye=["month_jan","month_feb","month_mar","month_apr","month_may","month_jun","month_jul","month_aug","month_sep","month_oct","month_nov","month_dec"];function je(a){if(a.length<30)return null;const t=Array.from({length:7},()=>({sum:0,count:0})),x=Array.from({length:12},()=>({sum:0,count:0}));for(const l of a){const c=new Date(l.date),w=(c.getDay()+6)%7;t[w].sum+=l.rate,t[w].count++,x[c.getMonth()].sum+=l.rate,x[c.getMonth()].count++}const s=t.map((l,c)=>({day:ve[c],avgRate:l.count>0?l.sum/l.count:0,sampleCount:l.count})),d=x.map((l,c)=>({month:ye[c],avgRate:l.count>0?l.sum/l.count:0,sampleCount:l.count})).filter(l=>l.sampleCount>0),y=s.filter(l=>l.sampleCount>0),u=y.reduce((l,c)=>l.avgRate>c.avgRate?l:c).day,p=y.reduce((l,c)=>l.avgRate<c.avgRate?l:c).day,n=d.reduce((l,c)=>l.avgRate>c.avgRate?l:c).month,v=d.reduce((l,c)=>l.avgRate<c.avgRate?l:c).month;return{dayOfWeek:s,monthOfYear:d,bestDay:u,worstDay:p,bestMonth:n,worstMonth:v}}function _e(a){if(a.length<10)return null;const t=a.map(m=>m.rate),x=t.reduce((m,g)=>m+g,0)/t.length,s=t.reduce((m,g)=>m+Math.pow(g-x,2),0)/t.length,d=Math.sqrt(s),y=Math.min(...t),u=Math.max(...t),p=u-y,n=t[t.length-1],v=(n-y)/p*100,l=[];for(let m=5;m<t.length;m++)l.push((t[m]-t[m-5])/t[m-5]*100);const c=l.length>0?l.reduce((m,g)=>m+g,0)/l.length:0,w=l.length>0?Math.max(...l):0,A=l.length>0?Math.min(...l):0;let j=0,f="flat";for(let m=t.length-1;m>0;m--){const g=t[m]-t[m-1];if(j===0)f=g>0?"up":g<0?"down":"flat",j=1;else if(g>0&&f==="up"||g<0&&f==="down")j++;else break}return{mean:x,stdDev:d,min:y,max:u,range:p,percentile:v,avgWeeklyChange:c,maxWeeklyGain:w,maxWeeklyLoss:A,currentStreak:j,streakDirection:f,current:n}}const ke=({historyData:a})=>{const{t}=V(),x=_.useMemo(()=>je(a),[a]),s=_.useMemo(()=>_e(a),[a]);if(!x)return null;const d=Math.min(...x.dayOfWeek.filter(n=>n.sampleCount>0).map(n=>n.avgRate)),y=Math.max(...x.dayOfWeek.filter(n=>n.sampleCount>0).map(n=>n.avgRate)),u=Math.min(...x.monthOfYear.map(n=>n.avgRate)),p=Math.max(...x.monthOfYear.map(n=>n.avgRate));return e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20 rounded-2xl border-2 border-dashed border-amber-300 dark:border-amber-700 p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/40 rounded-xl",children:e.jsx(fe,{size:24,className:"text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-xl font-extrabold text-slate-800 dark:text-slate-100",children:t("currency.when_to_exchange")}),e.jsx("span",{className:"px-2 py-0.5 bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 text-[10px] font-black uppercase rounded-full tracking-wider",children:t("currency.experimental")})]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-500 mt-0.5",children:t("currency.timing_analysis_desc")})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-emerald-200 dark:border-emerald-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(I,{size:18,className:"text-emerald-600"}),e.jsx("span",{className:"font-bold text-emerald-700 dark:text-emerald-400 text-sm",children:t("currency.best_time")})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-500",children:t("currency.day_of_week")}),e.jsx("span",{className:"font-extrabold text-emerald-600",children:t(`currency.${x.bestDay}`)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-500",children:t("currency.month_of_year")}),e.jsx("span",{className:"font-extrabold text-emerald-600",children:t(`currency.${x.bestMonth}`)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-500",children:t("currency.recommended_time")}),e.jsx("span",{className:"font-extrabold text-emerald-600",children:"10:00‚Äì12:00"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ee,{size:18,className:"text-red-600"}),e.jsx("span",{className:"font-bold text-red-700 dark:text-red-400 text-sm",children:t("currency.avoid")})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-500",children:t("currency.day_of_week")}),e.jsx("span",{className:"font-extrabold text-red-600",children:t(`currency.${x.worstDay}`)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-500",children:t("currency.month_of_year")}),e.jsx("span",{className:"font-extrabold text-red-600",children:t(`currency.${x.worstMonth}`)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-500",children:t("currency.unfavorable_time")}),e.jsx("span",{className:"font-extrabold text-red-600",children:t("currency.weekend_17plus")})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[e.jsxs("h4",{className:"font-bold text-sm text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[e.jsx(J,{size:14})," ",t("currency.avg_rate_by_day")]}),e.jsx("div",{className:"h-[180px]",children:e.jsx(z,{width:"100%",height:"100%",children:e.jsxs(Y,{data:x.dayOfWeek.filter(n=>n.sampleCount>0),margin:{top:5,right:10,left:10,bottom:5},children:[e.jsx($,{strokeDasharray:"3 3",opacity:.3}),e.jsx(K,{dataKey:"day",tick:{fontSize:12},tickFormatter:n=>t(`currency.${n}`)}),e.jsx(D,{domain:[d*.999,y*1.001],tick:{fontSize:11},tickFormatter:n=>n.toFixed(4)}),e.jsx(P,{formatter:n=>n.toFixed(5)}),e.jsx(B,{dataKey:"avgRate",radius:[6,6,0,0],children:x.dayOfWeek.filter(n=>n.sampleCount>0).map(n=>e.jsx(L,{fill:n.day===x.bestDay?"#10b981":n.day===x.worstDay?"#ef4444":"#8b5cf6"},n.day))})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[e.jsxs("h4",{className:"font-bold text-sm text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[e.jsx(he,{size:14})," ",t("currency.avg_rate_by_month")]}),e.jsx("div",{className:"h-[200px]",children:e.jsx(z,{width:"100%",height:"100%",children:e.jsxs(Y,{data:x.monthOfYear,margin:{top:5,right:10,left:10,bottom:5},children:[e.jsx($,{strokeDasharray:"3 3",opacity:.3}),e.jsx(K,{dataKey:"month",tick:{fontSize:11},tickFormatter:n=>t(`currency.${n}`)}),e.jsx(D,{domain:[u*.998,p*1.002],tick:{fontSize:11},tickFormatter:n=>n.toFixed(4)}),e.jsx(P,{formatter:n=>n.toFixed(5)}),e.jsx(B,{dataKey:"avgRate",radius:[6,6,0,0],children:x.monthOfYear.map(n=>e.jsx(L,{fill:n.month===x.bestMonth?"#10b981":n.month===x.worstMonth?"#ef4444":"#6366f1"},n.month))})]})})})]}),e.jsx("div",{className:"bg-amber-100/50 dark:bg-amber-900/20 rounded-xl p-4 text-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ce,{size:16,className:"text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-slate-700 dark:text-slate-300 space-y-1",children:[e.jsx("p",{className:"font-bold text-amber-800 dark:text-amber-300",children:t("currency.timing_tips_title")}),e.jsxs("ul",{className:"list-disc ml-4 space-y-1 text-slate-600 dark:text-slate-500",children:[e.jsxs("li",{children:[e.jsxs("strong",{children:[t("currency.tip_morning_label"),":"]})," ",t("currency.tip_morning")]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[t("currency.tip_avoid_weekend_label"),":"]})," ",t("currency.tip_avoid_weekend")]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[t("currency.tip_end_month_label"),":"]})," ",t("currency.tip_end_month")]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[t("currency.tip_dont_wait_label"),":"]})," ",t("currency.tip_dont_wait")]})]})]})]})}),s&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-purple-200 dark:border-purple-800 space-y-4",children:[e.jsxs("h4",{className:"font-extrabold text-sm text-purple-700 dark:text-purple-300 flex items-center gap-2",children:["üìà ",t("currency.volatility_trend_analysis")]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-purple-500 uppercase tracking-wider",children:t("currency.current_rate")}),e.jsx("div",{className:"text-lg font-black text-purple-700 dark:text-purple-300",children:s.current.toFixed(4)}),e.jsx("div",{className:"text-[10px] text-slate-500",children:s.percentile>70?`üü¢ ${t("currency.high_in_range")}`:s.percentile<30?`üî¥ ${t("currency.low_in_range")}`:`üü° ${t("currency.in_average")}`})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/30 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:t("currency.range_min_max")}),e.jsxs("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:[s.min.toFixed(4)," ‚Äì ",s.max.toFixed(4)]}),e.jsxs("div",{className:"text-[10px] text-slate-500",children:["Œî ",(s.range*100).toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/30 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:t("currency.volatility_sigma")}),e.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:s.stdDev.toFixed(5)}),e.jsx("div",{className:"text-[10px] text-slate-500",children:s.stdDev<.005?`üò¥ ${t("currency.stable")}`:s.stdDev<.015?`‚ö° ${t("currency.moderate")}`:`üåä ${t("currency.high")}`})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/30 rounded-lg p-3 text-center",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:t("currency.current_trend")}),e.jsxs("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:[s.streakDirection==="up"?"üìà":s.streakDirection==="down"?"üìâ":"‚û°Ô∏è"," ",s.currentStreak,t("currency.days_abbr")," ",s.streakDirection==="up"?t("currency.going_up"):s.streakDirection==="down"?t("currency.going_down"):t("currency.stable")]}),e.jsx("div",{className:"text-[10px] text-slate-500",children:s.streakDirection==="up"?`‚úÖ ${t("currency.good_time_to_exchange")}`:s.streakDirection==="down"?`‚è≥ ${t("currency.maybe_wait")}`:`ü§∑ ${t("currency.neutral")}`})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500",children:[e.jsxs("span",{children:["Min ",s.min.toFixed(4)]}),e.jsx("span",{children:t("currency.current_position_in_range")}),e.jsxs("span",{children:["Max ",s.max.toFixed(4)]})]}),e.jsx("div",{className:"h-3 bg-gradient-to-r from-red-400 via-yellow-400 to-emerald-400 rounded-full relative",children:e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-white border-2 border-slate-800 dark:border-white rounded-full shadow-lg",style:{left:`calc(${Math.max(2,Math.min(98,s.percentile))}% - 8px)`}})}),e.jsxs("div",{className:"text-center text-xs font-bold text-slate-600 dark:text-slate-500",children:[t("currency.percentile"),": ",s.percentile.toFixed(0),"%",s.percentile>70?` ‚Äî üéØ ${t("currency.favorable_moment")}`:s.percentile<30?` ‚Äî ‚è∞ ${t("currency.low_rate_wait")}`:` ‚Äî ${t("currency.normal")}`]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/20 dark:to-teal-950/20 rounded-xl p-5 border border-emerald-200 dark:border-emerald-800 space-y-3",children:[e.jsxs("h4",{className:"font-extrabold text-sm text-emerald-700 dark:text-emerald-300 flex items-center gap-2",children:["üéØ ",t("currency.life_hacks_title")]}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:[{emoji:"üèß",text:t("currency.hack_atm_monday")},{emoji:"üì±",text:t("currency.hack_wise_revolut")},{emoji:"üìÖ",text:t("currency.hack_end_month")},{emoji:"üí°",text:t("currency.hack_split_exchange")},{emoji:"‚ö°",text:t("currency.hack_avoid_friday")},{emoji:"üîî",text:t("currency.hack_set_alert")}].map((n,v)=>e.jsxs("div",{className:"flex items-start gap-2 bg-white/60 dark:bg-slate-800/60 rounded-lg p-2.5 text-xs text-slate-700 dark:text-slate-300",children:[e.jsx("span",{className:"text-base flex-shrink-0",children:n.emoji}),e.jsx("span",{children:n.text})]},v))})]}),s&&e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-5 text-white space-y-2",children:[e.jsxs("h4",{className:"font-extrabold text-sm flex items-center gap-2",children:["üßÆ ",t("currency.how_much_difference")]}),e.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"bg-white/15 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-white/70",children:t("currency.1000chf_best_rate")}),e.jsxs("div",{className:"text-xl font-black",children:["‚Ç¨ ",(1e3*s.max).toFixed(2)]})]}),e.jsxs("div",{className:"bg-white/15 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-white/70",children:t("currency.1000chf_worst_rate")}),e.jsxs("div",{className:"text-xl font-black",children:["‚Ç¨ ",(1e3*s.min).toFixed(2)]})]}),e.jsxs("div",{className:"bg-white/25 rounded-lg p-3 ring-2 ring-white/50",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-white/90",children:t("currency.potential_difference")}),e.jsxs("div",{className:"text-xl font-black text-amber-300",children:["‚Ç¨ ",(1e3*s.range).toFixed(2)]}),e.jsx("div",{className:"text-[10px] text-white/70",children:t("currency.on_1000chf_period")})]})]}),e.jsxs("p",{className:"text-[11px] text-white/60 text-center mt-1",children:[t("currency.on_5000chf_annual")," ",e.jsxs("strong",{children:["‚Ç¨ ",(5e3*s.range*12).toFixed(0)]}),"!"]})]})]})},Ne=({historyData:a,currentRate:t,period:x})=>{const{t:s}=V(),d=_.useMemo(()=>{if(a.length<5)return null;const u=a.map(i=>i.rate),p=u.length,n=u.reduce((i,o)=>i+o,0)/p;let v=0,l=0;for(let i=0;i<p;i++){const o=(i+1)/p;v+=u[i]*o,l+=o}const c=v/l,w=2/(p+1);let A=u[0];for(let i=1;i<p;i++)A=w*u[i]+(1-w)*A;const j={};for(const i of a){const o=i.date.split("-")[0];j[o]||(j[o]={sum:0,count:0}),j[o].sum+=i.rate,j[o].count++}const f=Object.entries(j).map(([i,o])=>({year:i,avg:o.sum/o.count,count:o.count})).sort((i,o)=>i.year.localeCompare(o.year)),m={};for(const i of a){const o=new Date(i.date),k=Math.ceil((o.getMonth()+1)/3),N=`${o.getFullYear()}-Q${k}`;m[N]||(m[N]={sum:0,count:0}),m[N].sum+=i.rate,m[N].count++}const g=Object.entries(m).map(([i,o])=>({quarter:i,avg:o.sum/o.count})).sort((i,o)=>i.quarter.localeCompare(o.quarter)),U=(t-n)/n*100,E=(t-c)/c*100;let M=0;if(f.length>=2){const i=f[0].avg,o=f[f.length-1].avg,k=f.length-1;M=(o/i-1)*100/k}const b=5e3,F=b*t,T=b*c,r=F-T,h=r*12;return{simpleAvg:n,weightedAvg:c,ewa:A,yearlyAvgs:f,quarterlyAvgs:g,currentVsSimple:U,currentVsWeighted:E,annualTrend:M,currentMonthly:F,avgMonthly:T,monthlyDiff:r,annualDiff:h}},[a,t]);if(!d||a.length<30)return null;const y=s(x==="5y"?"currency.period_5y":x==="1y"?"currency.period_1y":x==="6m"?"currency.period_6m":x==="3m"?"currency.period_3m":"currency.period_1m");return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-2xl border border-blue-200 dark:border-blue-800 p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-xl",children:e.jsx(Q,{size:24,className:"text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-extrabold text-slate-800 dark:text-slate-100",children:["üìä ",s("currency.weighted_avg_stats")]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-500",children:s("currency.weighted_avg_desc",{period:y})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 text-center border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:s("currency.current_rate")}),e.jsx("div",{className:"text-xl font-black text-indigo-600",children:t.toFixed(4)}),e.jsxs("div",{className:`text-[10px] font-bold ${d.currentVsWeighted>=0?"text-emerald-600":"text-red-600"}`,children:[d.currentVsWeighted>=0?"‚Üë":"‚Üì"," ",Math.abs(d.currentVsWeighted).toFixed(2),"% vs ",s("currency.vs_average")]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 text-center border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:s("currency.simple_average")}),e.jsx("div",{className:"text-xl font-black text-slate-700 dark:text-slate-200",children:d.simpleAvg.toFixed(4)}),e.jsxs("div",{className:"text-[10px] text-slate-500",children:[a.length," ",s("currency.data_points")]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center border-2 border-blue-300 dark:border-blue-700",children:[e.jsx("div",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider",children:s("currency.weighted_average")}),e.jsx("div",{className:"text-xl font-black text-blue-700 dark:text-blue-300",children:d.weightedAvg.toFixed(4)}),e.jsxs("div",{className:"text-[10px] text-blue-500",children:["‚≠ê ",s("currency.more_reliable")]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 text-center border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:s("currency.exponential_average")}),e.jsx("div",{className:"text-xl font-black text-slate-700 dark:text-slate-200",children:d.ewa.toFixed(4)}),e.jsx("div",{className:"text-[10px] text-slate-500",children:s("currency.adaptive_ema")})]})]}),d.yearlyAvgs.length>1&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[e.jsxs("h4",{className:"font-bold text-sm text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2",children:[e.jsx(J,{size:14})," ",s("currency.yearly_avg_rate")]}),e.jsx("div",{className:"h-[200px]",children:e.jsx(z,{width:"100%",height:"100%",children:e.jsxs(Y,{data:d.yearlyAvgs,margin:{top:5,right:10,left:10,bottom:5},children:[e.jsx($,{strokeDasharray:"3 3",opacity:.3}),e.jsx(K,{dataKey:"year",tick:{fontSize:12}}),e.jsx(D,{domain:[Math.min(...d.yearlyAvgs.map(u=>u.avg))*.998,Math.max(...d.yearlyAvgs.map(u=>u.avg))*1.002],tick:{fontSize:11},tickFormatter:u=>u.toFixed(3)}),e.jsx(P,{formatter:u=>u.toFixed(5)}),e.jsx(B,{dataKey:"avg",radius:[8,8,0,0],children:d.yearlyAvgs.map((u,p)=>e.jsx(L,{fill:p===d.yearlyAvgs.length-1?"#6366f1":"#94a3b8"},u.year))})]})})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-blue-600 rounded-xl p-5 text-white space-y-3",children:[e.jsxs("h4",{className:"font-extrabold text-sm flex items-center gap-2",children:["üí∞ ",s("currency.impact_frontaliere")]}),e.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"bg-white/15 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-white/70",children:s("currency.at_current_rate")}),e.jsxs("div",{className:"text-xl font-black",children:["‚Ç¨ ",d.currentMonthly.toFixed(0),"/",s("currency.month_abbr")]})]}),e.jsxs("div",{className:"bg-white/15 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-white/70",children:s("currency.at_weighted_avg")}),e.jsxs("div",{className:"text-xl font-black",children:["‚Ç¨ ",d.avgMonthly.toFixed(0),"/",s("currency.month_abbr")]})]}),e.jsxs("div",{className:"bg-white/25 rounded-lg p-3 ring-2 ring-white/50",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-white/90",children:s("currency.annual_difference")}),e.jsxs("div",{className:`text-xl font-black ${d.annualDiff>=0?"text-emerald-300":"text-amber-300"}`,children:[d.annualDiff>=0?"+":"","‚Ç¨ ",d.annualDiff.toFixed(0)]}),e.jsx("div",{className:"text-[10px] text-white/70",children:d.annualDiff>=0?`‚úÖ ${s("currency.rate_favors_you")}`:`‚ö†Ô∏è ${s("currency.rate_below_average")}`})]})]}),d.annualTrend!==0&&e.jsxs("p",{className:"text-[11px] text-white/60 text-center",children:[s("currency.avg_trend"),": ",d.annualTrend>=0?"+":"",d.annualTrend.toFixed(3),"% ",s("currency.annual"),d.annualTrend>0?` (${s("currency.eur_strengthens")})`:` (${s("currency.chf_strengthens")})`]})]})]})},$e=()=>{const{t:a}=V(),[t,x]=_.useState(1e3),[s,d]=_.useState(.95),[y,u]=_.useState(!1),[p,n]=_.useState(null),[v,l]=_.useState("6m"),[c,w]=_.useState([]),[A,j]=_.useState(!1),[f,m]=_.useState("overview"),g=async()=>{var r;u(!0);try{const i=await(await fetch("https://api.frankfurter.app/latest?from=CHF&to=EUR")).json();(r=i==null?void 0:i.rates)!=null&&r.EUR&&(d(i.rates.EUR),n(new Date))}catch(h){console.error("Failed to fetch rate",h)}finally{u(!1)}};_.useEffect(()=>{g();const r=setInterval(g,6e4);return()=>clearInterval(r)},[]);const U=async r=>{j(!0);try{const h=new Date,i=new Date;switch(r){case"1m":i.setMonth(h.getMonth()-1);break;case"3m":i.setMonth(h.getMonth()-3);break;case"6m":i.setMonth(h.getMonth()-6);break;case"1y":i.setFullYear(h.getFullYear()-1);break;case"5y":i.setFullYear(h.getFullYear()-5);break}const o=i.toISOString().split("T")[0],k=h.toISOString().split("T")[0],C=await(await fetch(`https://api.frankfurter.app/${o}..${k}?from=CHF&to=EUR`)).json();if(C!=null&&C.rates){const R=Object.entries(C.rates).map(([S,W])=>({date:S,rate:W.EUR}));w(R)}}catch(h){console.error("Failed to fetch history",h)}finally{j(!1)}};_.useEffect(()=>{U(v),O.trackUIInteraction("comparatori","cambio_valuta","periodo_storico","cambio",v)},[v]);const E=r=>{let h=r.exchangeRateMarkup,i=r.commissionPercent;if(r.name==="Revolut"){const H=t*s;H>1e3?i=(H-1e3)*.01/H*100:h=0}r.name==="Wise (TransferWise)"&&t*s>=22e3&&(i=.2);const o=s*(1-h),k=t*o,N=r.commission,C=k*(i/100),R=N+C,S=k-R,W=S/t,q=t-S/s,te=q/t*100;return{appliedRate:o,grossAmount:k,commissionFlat:N,commissionPercent:C,totalCommission:R,netAmount:S,effectiveRate:W,totalCost:q,costPercent:te}},M=be.map(r=>({provider:r,...E(r)})).sort((r,h)=>h.netAmount-r.netAmount),b=M[0],F=M[M.length-1],T=F.totalCost-b.totalCost;return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-3xl p-8 text-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:e.jsx(se,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold",children:a("currency.title")}),e.jsx("p",{className:"text-indigo-100 mt-1",children:a("currency.subtitle")})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(re,{size:24,className:"flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-bold mb-2",children:["‚ö†Ô∏è ",a("currency.notice_title")]}),e.jsx("p",{className:"text-indigo-100 leading-relaxed",children:a("currency.notice_text")})]})]})})]}),e.jsxs("div",{className:"flex gap-2 bg-white dark:bg-slate-800 rounded-2xl p-2 border border-slate-200 dark:border-slate-700 shadow-sm",children:[e.jsxs("button",{onClick:()=>{m("overview"),O.trackUIInteraction("comparatori","cambio_valuta","tab_vista","click","overview")},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-bold transition-all ${f==="overview"?"bg-indigo-600 text-white shadow-lg":"text-slate-600 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[e.jsx(xe,{size:16}),a("currency.tab_compare")]}),e.jsxs("button",{onClick:()=>{m("statistics"),O.trackUIInteraction("comparatori","cambio_valuta","tab_vista","click","statistics")},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-bold transition-all ${f==="statistics"?"bg-indigo-600 text-white shadow-lg":"text-slate-600 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[e.jsx(pe,{size:16}),a("currency.tab_statistics")]})]}),f==="overview"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[e.jsx(ne,{size:20,className:"text-indigo-600"}),a("currency.calculate_exchange")]}),e.jsxs("button",{onClick:g,disabled:y,className:"flex items-center gap-2 px-3 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-xl text-xs font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-all disabled:opacity-50",children:[e.jsx(G,{size:14,className:y?"animate-spin":""}),a("currency.refresh_rate")]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-500 uppercase tracking-wide",children:a("currency.amount_to_convert")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-slate-500 font-bold",children:"CHF"})}),e.jsx("input",{type:"number",value:t,onChange:r=>x(Math.max(0,parseFloat(r.target.value)||0)),className:"w-full pl-14 pr-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-800 dark:text-slate-100 text-lg",placeholder:"1000"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-500 uppercase tracking-wide flex items-center gap-2",children:[a("currency.real_market_rate"),e.jsxs("div",{className:"group relative inline-flex items-center cursor-help",children:[e.jsx(X,{size:12,className:"text-slate-500"}),e.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2.5 bg-slate-800 text-white text-[10px] font-medium leading-relaxed rounded-xl shadow-xl border border-slate-600 pointer-events-none z-50 text-center",children:a("currency.mid_market_tooltip")})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-slate-500 text-sm",children:"1 CHF ="})}),e.jsx("input",{type:"text",value:`${s.toFixed(4)} EUR`,disabled:!0,className:"w-full pl-20 pr-4 py-3 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-600 dark:text-slate-300 text-lg"})]}),p&&e.jsxs("p",{className:"text-[10px] text-slate-500 text-right",children:[a("currency.updated"),": ",p.toLocaleTimeString("it-IT")]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[e.jsx(Q,{size:20,className:"text-indigo-600"}),a("currency.history_title")]}),e.jsx("div",{className:"flex gap-1.5",children:["1m","3m","6m","1y","5y"].map(r=>e.jsx("button",{onClick:()=>l(r),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${v===r?"bg-indigo-600 text-white shadow":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:r==="1m"?"1M":r==="3m"?"3M":r==="6m"?"6M":r==="1y"?"1A":"5A"},r))})]}),A?e.jsx("div",{className:"h-64 flex items-center justify-center text-slate-500",children:e.jsx(G,{size:24,className:"animate-spin"})}):c.length>0?e.jsx(z,{width:"100%",height:280,children:e.jsxs(oe,{data:c,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRate",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),e.jsx($,{strokeDasharray:"3 3",opacity:.3}),e.jsx(K,{dataKey:"date",tick:{fontSize:10},tickFormatter:r=>{const h=new Date(r);return`${h.getDate()}/${h.getMonth()+1}`},interval:"preserveStartEnd"}),e.jsx(D,{domain:["auto","auto"],tick:{fontSize:11},tickFormatter:r=>r.toFixed(3)}),e.jsx(P,{formatter:r=>[`${r.toFixed(4)} EUR`,"1 CHF"],labelFormatter:r=>new Date(r).toLocaleDateString("it-IT",{day:"numeric",month:"long",year:"numeric"})}),e.jsx(de,{type:"monotone",dataKey:"rate",stroke:"#6366f1",fill:"url(#colorRate)",strokeWidth:2,dot:!1})]})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-slate-500 text-sm",children:a("currency.no_data_available")}),c.length>1&&e.jsxs("div",{className:"flex justify-between mt-3 text-xs text-slate-500",children:[e.jsxs("span",{children:["Min: ",Math.min(...c.map(r=>r.rate)).toFixed(4)]}),e.jsxs("span",{children:[a("currency.average"),": ",(c.reduce((r,h)=>r+h.rate,0)/c.length).toFixed(4)]}),e.jsxs("span",{children:["Max: ",Math.max(...c.map(r=>r.rate)).toFixed(4)]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[b.provider.referralUrl?e.jsxs("a",{href:b.provider.referralUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/30 dark:to-teal-950/30 rounded-2xl border-2 border-emerald-200 dark:border-emerald-800 p-6 hover:shadow-lg hover:border-emerald-400 transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-emerald-500 rounded-xl",children:e.jsx(I,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase",children:a("currency.best_offer")}),e.jsx("div",{className:"text-xl font-extrabold text-slate-800 dark:text-slate-100",children:b.provider.name})]})]}),e.jsxs("div",{className:"text-3xl font-extrabold text-emerald-600 mb-1",children:["‚Ç¨ ",b.netAmount.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-500",children:[a("currency.total_cost"),": ",e.jsxs("strong",{children:["CHF ",b.totalCost.toFixed(2)]})," (",b.costPercent.toFixed(2),"%)"]}),e.jsxs("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-2 font-bold",children:["üëÜ ",a("currency.click_referral")]})]}):e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/30 dark:to-teal-950/30 rounded-2xl border-2 border-emerald-200 dark:border-emerald-800 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-emerald-500 rounded-xl",children:e.jsx(I,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase",children:a("currency.best_offer")}),e.jsx("div",{className:"text-xl font-extrabold text-slate-800 dark:text-slate-100",children:b.provider.name})]})]}),e.jsxs("div",{className:"text-3xl font-extrabold text-emerald-600 mb-1",children:["‚Ç¨ ",b.netAmount.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-500",children:[a("currency.total_cost"),": ",e.jsxs("strong",{children:["CHF ",b.totalCost.toFixed(2)]})," (",b.costPercent.toFixed(2),"%)"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-950/30 dark:to-orange-950/30 rounded-2xl border-2 border-red-200 dark:border-red-800 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-red-500 rounded-xl",children:e.jsx(ee,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-red-600 dark:text-red-400 uppercase",children:a("currency.worst_offer")}),e.jsx("div",{className:"text-xl font-extrabold text-slate-800 dark:text-slate-100",children:F.provider.name})]})]}),e.jsxs("div",{className:"text-3xl font-extrabold text-red-600 mb-1",children:["‚Ç¨ ",F.netAmount.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-500",children:[a("currency.total_cost"),": ",e.jsxs("strong",{children:["CHF ",F.totalCost.toFixed(2)]})," (",F.costPercent.toFixed(2),"%)"]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-950/30 dark:to-yellow-950/30 rounded-2xl border border-amber-200 dark:border-amber-800 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(me,{size:24,className:"text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[e.jsxs("strong",{children:[a("currency.potential_savings"),":"]})," ",a("currency.savings_text",{best:b.provider.name,worst:F.provider.name})," ",e.jsxs("strong",{className:"text-amber-600",children:["CHF ",T.toFixed(2)]})," ",a("currency.on_this_conversion"),"!"]})]})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-extrabold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-4",children:[e.jsx(ie,{size:24,className:"text-indigo-600"}),a("currency.detailed_comparison")]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:M.map((r,h)=>{const i=h===0,o=h===M.length-1,k=r.provider.referralUrl?"a":"div",N=r.provider.referralUrl?{href:r.provider.referralUrl,target:"_blank",rel:"noopener noreferrer",className:`block bg-white dark:bg-slate-800 rounded-2xl border-2 p-6 hover:shadow-lg transition-all cursor-pointer ${i?"border-emerald-500 ring-2 ring-emerald-500/20 hover:ring-emerald-500/40":o?"border-red-500 ring-2 ring-red-500/20":"border-slate-200 dark:border-slate-700 hover:border-emerald-400"}`}:{className:`bg-white dark:bg-slate-800 rounded-2xl border-2 p-6 hover:shadow-lg transition-all ${i?"border-emerald-500 ring-2 ring-emerald-500/20":o?"border-red-500 ring-2 ring-red-500/20":"border-slate-200 dark:border-slate-700"}`};return e.jsxs(k,{...N,children:[i&&e.jsxs("div",{className:"mb-3 inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-500 text-white text-xs font-bold rounded-full",children:[e.jsx(le,{size:14}),a("currency.best_choice")]}),e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`text-4xl p-3 bg-gradient-to-br ${r.provider.color} rounded-2xl`,children:r.provider.logo}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:r.provider.name}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:a(`currency.${r.provider.transferTimeKey}`)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-extrabold text-slate-800 dark:text-slate-100",children:["‚Ç¨ ",r.netAmount.toFixed(2)]}),e.jsxs("div",{className:`text-sm font-bold ${i?"text-emerald-600":o?"text-red-600":"text-slate-600 dark:text-slate-500"}`,children:[a("currency.cost"),": ",r.costPercent.toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-xl",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500 mb-1",children:a("currency.applied_rate")}),e.jsx("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:r.appliedRate.toFixed(4)}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:r.provider.exchangeRateMarkup>0?e.jsxs("span",{className:"text-red-600",children:["-",(r.provider.exchangeRateMarkup*100).toFixed(2),"% spread"]}):e.jsxs("span",{className:"text-emerald-600",children:["‚úì ",a("currency.real_rate")]})})]}),e.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-xl",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500 mb-1",children:a("currency.declared_commission")}),e.jsxs("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[r.totalCommission.toFixed(2)," EUR"]}),e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:[r.provider.commission>0&&`CHF ${r.provider.commission} + `,r.provider.commissionPercent,"%"]})]}),e.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-xl",children:[e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500 mb-1",children:a("currency.real_total_cost")}),e.jsxs("div",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:["CHF ",r.totalCost.toFixed(2)]}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:a("currency.commissions_spread")})]})]}),e.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:r.provider.featureKeys.map((C,R)=>e.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-900 text-slate-700 dark:text-slate-300 text-xs font-medium rounded-lg",children:a(`currency.${C}`)},R))})})]},r.provider.name)})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-2xl border border-blue-200 dark:border-blue-800 p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(X,{size:20,className:"text-blue-600"}),a("currency.how_hidden_spread_works")]}),e.jsxs("div",{className:"space-y-4 text-sm text-slate-700 dark:text-slate-300",children:[e.jsxs("div",{className:"p-4 bg-white/50 dark:bg-slate-900/50 rounded-xl",children:[e.jsxs("p",{className:"font-bold text-blue-600 mb-2",children:["üìä ",a("currency.practical_example_title"),":"]}),e.jsxs("ul",{className:"space-y-2 ml-4",children:[e.jsxs("li",{children:[e.jsxs("strong",{children:[a("currency.example_real_rate"),":"]})," ",a("currency.example_real_rate_text")]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a("currency.example_traditional_bank"),":"]})," ",a("currency.example_traditional_bank_text")]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a("currency.example_hidden_cost"),":"]})," ",a("currency.example_hidden_cost_text")]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a("currency.example_wise"),":"]})," ",a("currency.example_wise_text")]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a("currency.example_savings"),":"]})," ",e.jsx("strong",{className:"text-emerald-600",children:a("currency.example_savings_text")})]})]})]}),e.jsxs("div",{className:"p-4 bg-white/50 dark:bg-slate-900/50 rounded-xl",children:[e.jsxs("p",{className:"font-bold text-indigo-600 mb-2",children:["üí° ",a("currency.tips_to_save_title"),":"]}),e.jsxs("ul",{className:"space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:a("currency.tip_use_wise")}),e.jsx("li",{children:a("currency.tip_revolut_small")}),e.jsx("li",{children:a("currency.tip_avoid_traditional")}),e.jsx("li",{children:a("currency.tip_check_effective_rate")}),e.jsx("li",{children:a("currency.tip_large_amounts")})]})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{historyData:c,currentRate:s,period:v}),e.jsx(ke,{historyData:c})]})]})};export{$e as default};
//# sourceMappingURL=CurrencyExchange-CDCmobRc.js.map
