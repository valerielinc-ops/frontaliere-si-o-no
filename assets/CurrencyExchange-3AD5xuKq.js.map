{"version":3,"file":"CurrencyExchange-3AD5xuKq.js","sources":["../../node_modules/lucide-react/dist/esm/icons/chart-bar.js","../../node_modules/lucide-react/dist/esm/icons/flask-conical.js","../../components/CurrencyExchange.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 3v16a2 2 0 0 0 2 2h16\", key: \"c24i48\" }],\n  [\"path\", { d: \"M7 16h8\", key: \"srdodz\" }],\n  [\"path\", { d: \"M7 11h12\", key: \"127s9w\" }],\n  [\"path\", { d: \"M7 6h3\", key: \"w9rmul\" }]\n];\nconst ChartBar = createLucideIcon(\"chart-bar\", __iconNode);\n\nexport { __iconNode, ChartBar as default };\n//# sourceMappingURL=chart-bar.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2\",\n      key: \"18mbvz\"\n    }\n  ],\n  [\"path\", { d: \"M6.453 15h11.094\", key: \"3shlmq\" }],\n  [\"path\", { d: \"M8.5 2h7\", key: \"csnxdl\" }]\n];\nconst FlaskConical = createLucideIcon(\"flask-conical\", __iconNode);\n\nexport { __iconNode, FlaskConical as default };\n//# sourceMappingURL=flask-conical.js.map\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { ArrowRightLeft, TrendingDown, TrendingUp, AlertCircle, CheckCircle2, Info, DollarSign, Percent, Calculator, RefreshCw, BarChart3, Clock, Calendar, FlaskConical, Zap, ChartBar, ArrowLeftRight } from 'lucide-react';\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, BarChart, Bar, Cell } from 'recharts';\nimport { Analytics } from '@/services/analytics';\nimport { useTranslation } from '@/services/i18n';\n\ninterface ExchangeProvider {\n  name: string;\n  logo: string;\n  commission: number; // Flat fee in CHF\n  commissionPercent: number; // Percentage fee\n  exchangeRateMarkup: number; // Markup over real rate (e.g., 0.01 = 1%)\n  minAmount: number;\n  maxAmount: number;\n  transferTime: string;\n  color: string;\n  features: string[];\n  type: 'neobank' | 'traditional' | 'service';\n  referralUrl?: string; // Optional referral link\n  transferTimeKey: string;\n  featureKeys: string[];\n}\n\nconst providers: ExchangeProvider[] = [\n  {\n    name: 'Wise (TransferWise)',\n    logo: 'üåç',\n    commission: 0,\n    commissionPercent: 0.35,\n    exchangeRateMarkup: 0, // Uses real mid-market rate\n    minAmount: 1,\n    maxAmount: 1000000,\n    transferTime: '1-2 giorni lavorativi',\n    transferTimeKey: '1_2_business_days',\n    color: 'from-emerald-500 to-teal-600',\n    features: ['Tasso medio di mercato reale', 'Trasparenza totale', 'Sconto volume: 0.20% sopra 22k EUR/mese'],\n    featureKeys: ['feature_real_market_rate', 'feature_total_transparency', 'feature_wise_volume_discount'],\n    type: 'service',\n    referralUrl: 'https://wise.com/invite/dic/luigis147'\n  },\n  {\n    name: 'Revolut',\n    logo: 'üí≥',\n    commission: 0,\n    commissionPercent: 0,\n    exchangeRateMarkup: 0.005, // ~0.5% fair usage fee over 1000 EUR/month on Standard\n    minAmount: 0,\n    maxAmount: 50000,\n    transferTime: 'Istantaneo',\n    transferTimeKey: 'instant',\n    color: 'from-blue-500 to-indigo-600',\n    features: ['Cambio gratuito fino a 1000 EUR/mese (Standard)', 'Oltre limite: 1% commissione uso corretto', 'Weekend: markup 1%'],\n    featureKeys: ['feature_free_exchange_1000', 'feature_fair_usage_1pct', 'feature_weekend_markup_1pct'],\n    type: 'neobank'\n  },\n  {\n    name: 'Yuh',\n    logo: 'üá®üá≠',\n    commission: 0,\n    commissionPercent: 0,\n    exchangeRateMarkup: 0.009, // ~0.9% markup\n    minAmount: 0,\n    maxAmount: 100000,\n    transferTime: 'Istantaneo',\n    transferTimeKey: 'instant',\n    color: 'from-purple-500 to-pink-600',\n    features: ['100% digitale', 'Nessuna commissione dichiarata', 'Spread nascosto ~0.9%'],\n    featureKeys: ['feature_100_digital', 'feature_no_declared_commission', 'feature_hidden_spread_09'],\n    type: 'neobank'\n  },\n  {\n    name: 'PostFinance',\n    logo: 'üìÆ',\n    commission: 0,\n    commissionPercent: 0,\n    exchangeRateMarkup: 0.025, // ~2.5% markup\n    minAmount: 0,\n    maxAmount: 500000,\n    transferTime: '1-3 giorni lavorativi',\n    transferTimeKey: '1_3_business_days',\n    color: 'from-yellow-500 to-orange-600',\n    features: ['Nessuna commissione dichiarata', 'Tasso sfavorevole', 'Spread nascosto ~2-3%'],\n    featureKeys: ['feature_no_declared_commission', 'feature_unfavorable_rate', 'feature_hidden_spread_2_3'],\n    type: 'traditional'\n  },\n  {\n    name: 'UBS',\n    logo: 'üè¶',\n    commission: 5,\n    commissionPercent: 0.1,\n    exchangeRateMarkup: 0.03, // ~3% markup\n    minAmount: 0,\n    maxAmount: 1000000,\n    transferTime: '2-4 giorni lavorativi',\n    transferTimeKey: '2_4_business_days',\n    color: 'from-red-500 to-pink-600',\n    features: ['Commissioni fisse + spread', 'Tasso molto sfavorevole', 'Costi nascosti elevati'],\n    featureKeys: ['feature_fixed_commission_spread', 'feature_very_unfavorable_rate', 'feature_high_hidden_costs'],\n    type: 'traditional'\n  },\n  {\n    name: 'Credit Suisse',\n    logo: 'üèõÔ∏è',\n    commission: 5,\n    commissionPercent: 0.15,\n    exchangeRateMarkup: 0.028, // ~2.8% markup\n    minAmount: 0,\n    maxAmount: 1000000,\n    transferTime: '2-4 giorni lavorativi',\n    transferTimeKey: '2_4_business_days',\n    color: 'from-slate-500 to-gray-600',\n    features: ['Commissioni + spread', 'Servizio tradizionale', 'Poco trasparente'],\n    featureKeys: ['feature_commission_spread', 'feature_traditional_service', 'feature_not_transparent'],\n    type: 'traditional'\n  },\n  {\n    name: 'Fineco Bank',\n    logo: 'üáÆüáπ',\n    commission: 0,\n    commissionPercent: 0.5,\n    exchangeRateMarkup: 0.018, // ~1.8% markup\n    minAmount: 0,\n    maxAmount: 100000,\n    transferTime: '1-3 giorni lavorativi',\n    transferTimeKey: '1_3_business_days',\n    color: 'from-sky-500 to-blue-600',\n    features: ['Banca digitale italiana', 'Commissione 0.5%', 'Spread nascosto ~1.8%'],\n    featureKeys: ['feature_italian_digital_bank', 'feature_commission_05', 'feature_hidden_spread_18'],\n    type: 'traditional'\n  },\n  {\n    name: 'Intesa Sanpaolo',\n    logo: 'üè¶',\n    commission: 5,\n    commissionPercent: 0.25,\n    exchangeRateMarkup: 0.032, // ~3.2% markup\n    minAmount: 0,\n    maxAmount: 500000,\n    transferTime: '2-5 giorni lavorativi',\n    transferTimeKey: '2_5_business_days',\n    color: 'from-blue-600 to-indigo-700',\n    features: ['Commissione fissa + 0.25%', 'Spread molto elevato', 'Servizio bancario classico'],\n    featureKeys: ['feature_fixed_commission_025', 'feature_very_high_spread', 'feature_classic_banking'],\n    type: 'traditional'\n  },\n  {\n    name: 'Cariparma (Cr√©dit Agricole)',\n    logo: 'üèõÔ∏è',\n    commission: 4,\n    commissionPercent: 0.3,\n    exchangeRateMarkup: 0.028, // ~2.8% markup\n    minAmount: 0,\n    maxAmount: 500000,\n    transferTime: '2-4 giorni lavorativi',\n    transferTimeKey: '2_4_business_days',\n    color: 'from-green-600 to-teal-700',\n    features: ['Commissione 4 CHF + 0.3%', 'Spread nascosto ~2.8%', 'Gruppo Cr√©dit Agricole'],\n    featureKeys: ['feature_commission_4chf_03', 'feature_hidden_spread_28', 'feature_credit_agricole_group'],\n    type: 'traditional'\n  },\n  {\n    name: 'UniCredit',\n    logo: 'üè¶',\n    commission: 5,\n    commissionPercent: 0.2,\n    exchangeRateMarkup: 0.03, // ~3% markup\n    minAmount: 0,\n    maxAmount: 500000,\n    transferTime: '2-5 giorni lavorativi',\n    transferTimeKey: '2_5_business_days',\n    color: 'from-red-600 to-rose-700',\n    features: ['Commissione 5 CHF + 0.2%', 'Spread ~3%', 'Banca europea'],\n    featureKeys: ['feature_commission_5chf_02', 'feature_spread_3', 'feature_european_bank'],\n    type: 'traditional'\n  },\n  {\n    name: 'Banco BPM',\n    logo: 'üè¶',\n    commission: 4.5,\n    commissionPercent: 0.25,\n    exchangeRateMarkup: 0.029, // ~2.9% markup\n    minAmount: 0,\n    maxAmount: 300000,\n    transferTime: '2-4 giorni lavorativi',\n    transferTimeKey: '2_4_business_days',\n    color: 'from-orange-600 to-amber-700',\n    features: ['Commissione 4.5 CHF + 0.25%', 'Spread nascosto ~2.9%', 'Gruppo bancario italiano'],\n    featureKeys: ['feature_commission_45chf_025', 'feature_hidden_spread_29', 'feature_italian_banking_group'],\n    type: 'traditional'\n  },\n  {\n    name: 'Cambiovalute.ch',\n    logo: 'üá®üá≠',\n    commission: 0,\n    commissionPercent: 0,\n    exchangeRateMarkup: 0.0035, // ~0.35% spread\n    minAmount: 100,\n    maxAmount: 500000,\n    transferTime: '1-2 giorni lavorativi',\n    transferTimeKey: '1_2_business_days',\n    color: 'from-cyan-500 to-blue-600',\n    features: ['Servizio svizzero specializzato', 'Spread competitivo ~0.35%', 'Bonifico diretto su conto italiano'],\n    featureKeys: ['feature_swiss_specialized_service', 'feature_competitive_spread_035', 'feature_direct_transfer_italy'],\n    type: 'service',\n    referralUrl: 'https://www.cambiovalute.ch'\n  }\n];\n\n// --- Exchange Timing Analysis (Experimental) ---\nconst DAY_KEYS = ['day_mon', 'day_tue', 'day_wed', 'day_thu', 'day_fri', 'day_sat', 'day_sun'];\nconst MONTH_KEYS = ['month_jan', 'month_feb', 'month_mar', 'month_apr', 'month_may', 'month_jun', 'month_jul', 'month_aug', 'month_sep', 'month_oct', 'month_nov', 'month_dec'];\n\ninterface TimingData {\n  dayOfWeek: { day: string; avgRate: number; sampleCount: number }[];\n  monthOfYear: { month: string; avgRate: number; sampleCount: number }[];\n  bestDay: string;\n  worstDay: string;\n  bestMonth: string;\n  worstMonth: string;\n}\n\nfunction analyzeTimingPatterns(historyData: Array<{ date: string; rate: number }>): TimingData | null {\n  if (historyData.length < 30) return null;\n\n  // Day of week analysis (0=Monday, 6=Sunday)\n  const dayBuckets: { sum: number; count: number }[] = Array.from({ length: 7 }, () => ({ sum: 0, count: 0 }));\n  const monthBuckets: { sum: number; count: number }[] = Array.from({ length: 12 }, () => ({ sum: 0, count: 0 }));\n\n  for (const point of historyData) {\n    const d = new Date(point.date);\n    const dow = (d.getDay() + 6) % 7; // Monday = 0\n    dayBuckets[dow].sum += point.rate;\n    dayBuckets[dow].count++;\n    monthBuckets[d.getMonth()].sum += point.rate;\n    monthBuckets[d.getMonth()].count++;\n  }\n\n  const dayOfWeek = dayBuckets.map((b, i) => ({\n    day: DAY_KEYS[i],\n    avgRate: b.count > 0 ? b.sum / b.count : 0,\n    sampleCount: b.count,\n  }));\n\n  const monthOfYear = monthBuckets.map((b, i) => ({\n    month: MONTH_KEYS[i],\n    avgRate: b.count > 0 ? b.sum / b.count : 0,\n    sampleCount: b.count,\n  })).filter(m => m.sampleCount > 0);\n\n  // Higher rate = more EUR per CHF = better for the frontaliere\n  const activeDays = dayOfWeek.filter(d => d.sampleCount > 0);\n  const bestDay = activeDays.reduce((a, b) => a.avgRate > b.avgRate ? a : b).day;\n  const worstDay = activeDays.reduce((a, b) => a.avgRate < b.avgRate ? a : b).day;\n  const bestMonth = monthOfYear.reduce((a, b) => a.avgRate > b.avgRate ? a : b).month;\n  const worstMonth = monthOfYear.reduce((a, b) => a.avgRate < b.avgRate ? a : b).month;\n\n  return { dayOfWeek, monthOfYear, bestDay, worstDay, bestMonth, worstMonth };\n}\n\n// Volatility & advanced stats\nfunction analyzeVolatility(historyData: Array<{ date: string; rate: number }>) {\n  if (historyData.length < 10) return null;\n  const rates = historyData.map(d => d.rate);\n  const mean = rates.reduce((a, b) => a + b, 0) / rates.length;\n  const variance = rates.reduce((sum, r) => sum + Math.pow(r - mean, 2), 0) / rates.length;\n  const stdDev = Math.sqrt(variance);\n  const min = Math.min(...rates);\n  const max = Math.max(...rates);\n  const range = max - min;\n  const current = rates[rates.length - 1];\n  const percentile = ((current - min) / range) * 100;\n\n  // Weekly changes\n  const weeklyChanges: number[] = [];\n  for (let i = 5; i < rates.length; i++) {\n    weeklyChanges.push(((rates[i] - rates[i - 5]) / rates[i - 5]) * 100);\n  }\n  const avgWeeklyChange = weeklyChanges.length > 0 ? weeklyChanges.reduce((a, b) => a + b, 0) / weeklyChanges.length : 0;\n  const maxWeeklyGain = weeklyChanges.length > 0 ? Math.max(...weeklyChanges) : 0;\n  const maxWeeklyLoss = weeklyChanges.length > 0 ? Math.min(...weeklyChanges) : 0;\n\n  // Streak analysis\n  let currentStreak = 0;\n  let streakDirection: 'up' | 'down' | 'flat' = 'flat';\n  for (let i = rates.length - 1; i > 0; i--) {\n    const diff = rates[i] - rates[i - 1];\n    if (currentStreak === 0) {\n      streakDirection = diff > 0 ? 'up' : diff < 0 ? 'down' : 'flat';\n      currentStreak = 1;\n    } else if ((diff > 0 && streakDirection === 'up') || (diff < 0 && streakDirection === 'down')) {\n      currentStreak++;\n    } else {\n      break;\n    }\n  }\n\n  return { mean, stdDev, min, max, range, percentile, avgWeeklyChange, maxWeeklyGain, maxWeeklyLoss, currentStreak, streakDirection, current };\n}\n\nconst ExchangeTimingSection: React.FC<{ historyData: Array<{ date: string; rate: number }> }> = ({ historyData }) => {\n  const { t } = useTranslation();\n  const timing = useMemo(() => analyzeTimingPatterns(historyData), [historyData]);\n  const volatility = useMemo(() => analyzeVolatility(historyData), [historyData]);\n\n  if (!timing) return null;\n\n  const dayMin = Math.min(...timing.dayOfWeek.filter(d => d.sampleCount > 0).map(d => d.avgRate));\n  const dayMax = Math.max(...timing.dayOfWeek.filter(d => d.sampleCount > 0).map(d => d.avgRate));\n  const monthMin = Math.min(...timing.monthOfYear.map(m => m.avgRate));\n  const monthMax = Math.max(...timing.monthOfYear.map(m => m.avgRate));\n\n  return (\n    <div className=\"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20 rounded-2xl border-2 border-dashed border-amber-300 dark:border-amber-700 p-6 space-y-5\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"p-2 bg-amber-100 dark:bg-amber-900/40 rounded-xl\">\n          <FlaskConical size={24} className=\"text-amber-600 dark:text-amber-400\" />\n        </div>\n        <div>\n          <div className=\"flex items-center gap-2\">\n            <h3 className=\"text-xl font-extrabold text-slate-800 dark:text-slate-100\">{t('currency.when_to_exchange')}</h3>\n            <span className=\"px-2 py-0.5 bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200 text-[10px] font-black uppercase rounded-full tracking-wider\">{t('currency.experimental')}</span>\n          </div>\n          <p className=\"text-sm text-slate-600 dark:text-slate-500 mt-0.5\">\n            {t('currency.timing_analysis_desc')}\n          </p>\n        </div>\n      </div>\n\n      {/* Recommendations */}\n      <div className=\"grid md:grid-cols-2 gap-4\">\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 border border-emerald-200 dark:border-emerald-800\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <TrendingUp size={18} className=\"text-emerald-600\" />\n            <span className=\"font-bold text-emerald-700 dark:text-emerald-400 text-sm\">{t('currency.best_time')}</span>\n          </div>\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-slate-600 dark:text-slate-500\">{t('currency.day_of_week')}</span>\n              <span className=\"font-extrabold text-emerald-600\">{t(`currency.${timing.bestDay}`)}</span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-slate-600 dark:text-slate-500\">{t('currency.month_of_year')}</span>\n              <span className=\"font-extrabold text-emerald-600\">{t(`currency.${timing.bestMonth}`)}</span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-slate-600 dark:text-slate-500\">{t('currency.recommended_time')}</span>\n              <span className=\"font-extrabold text-emerald-600\">10:00‚Äì12:00</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 border border-red-200 dark:border-red-800\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <TrendingDown size={18} className=\"text-red-600\" />\n            <span className=\"font-bold text-red-700 dark:text-red-400 text-sm\">{t('currency.avoid')}</span>\n          </div>\n          <div className=\"space-y-2 text-sm\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-slate-600 dark:text-slate-500\">{t('currency.day_of_week')}</span>\n              <span className=\"font-extrabold text-red-600\">{t(`currency.${timing.worstDay}`)}</span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-slate-600 dark:text-slate-500\">{t('currency.month_of_year')}</span>\n              <span className=\"font-extrabold text-red-600\">{t(`currency.${timing.worstMonth}`)}</span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-slate-600 dark:text-slate-500\">{t('currency.unfavorable_time')}</span>\n              <span className=\"font-extrabold text-red-600\">{t('currency.weekend_17plus')}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Day of Week Chart */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700\">\n        <h4 className=\"font-bold text-sm text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2\">\n          <Calendar size={14} /> {t('currency.avg_rate_by_day')}\n        </h4>\n        <div className=\"h-[180px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart data={timing.dayOfWeek.filter(d => d.sampleCount > 0)} margin={{ top: 5, right: 10, left: 10, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" opacity={0.3} />\n              <XAxis dataKey=\"day\" tick={{ fontSize: 12 }} tickFormatter={(v: string) => t(`currency.${v}`)} />\n              <YAxis domain={[dayMin * 0.999, dayMax * 1.001]} tick={{ fontSize: 11 }} tickFormatter={(v: number) => v.toFixed(4)} />\n              <Tooltip formatter={(v: number) => v.toFixed(5)} />\n              <Bar dataKey=\"avgRate\" radius={[6, 6, 0, 0]}>\n                {timing.dayOfWeek.filter(d => d.sampleCount > 0).map((entry) => (\n                  <Cell key={entry.day} fill={entry.day === timing.bestDay ? '#10b981' : entry.day === timing.worstDay ? '#ef4444' : '#8b5cf6'} />\n                ))}\n              </Bar>\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Month Chart */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700\">\n        <h4 className=\"font-bold text-sm text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2\">\n          <Clock size={14} /> {t('currency.avg_rate_by_month')}\n        </h4>\n        <div className=\"h-[200px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart data={timing.monthOfYear} margin={{ top: 5, right: 10, left: 10, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" opacity={0.3} />\n              <XAxis dataKey=\"month\" tick={{ fontSize: 11 }} tickFormatter={(v: string) => t(`currency.${v}`)} />\n              <YAxis domain={[monthMin * 0.998, monthMax * 1.002]} tick={{ fontSize: 11 }} tickFormatter={(v: number) => v.toFixed(4)} />\n              <Tooltip formatter={(v: number) => v.toFixed(5)} />\n              <Bar dataKey=\"avgRate\" radius={[6, 6, 0, 0]}>\n                {timing.monthOfYear.map((entry) => (\n                  <Cell key={entry.month} fill={entry.month === timing.bestMonth ? '#10b981' : entry.month === timing.worstMonth ? '#ef4444' : '#6366f1'} />\n                ))}\n              </Bar>\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Tips */}\n      <div className=\"bg-amber-100/50 dark:bg-amber-900/20 rounded-xl p-4 text-sm\">\n        <div className=\"flex items-start gap-2\">\n          <Zap size={16} className=\"text-amber-600 mt-0.5 flex-shrink-0\" />\n          <div className=\"text-slate-700 dark:text-slate-300 space-y-1\">\n            <p className=\"font-bold text-amber-800 dark:text-amber-300\">{t('currency.timing_tips_title')}</p>\n            <ul className=\"list-disc ml-4 space-y-1 text-slate-600 dark:text-slate-500\">\n              <li><strong>{t('currency.tip_morning_label')}:</strong> {t('currency.tip_morning')}</li>\n              <li><strong>{t('currency.tip_avoid_weekend_label')}:</strong> {t('currency.tip_avoid_weekend')}</li>\n              <li><strong>{t('currency.tip_end_month_label')}:</strong> {t('currency.tip_end_month')}</li>\n              <li><strong>{t('currency.tip_dont_wait_label')}:</strong> {t('currency.tip_dont_wait')}</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      {/* Volatility Analysis */}\n      {volatility && (\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-5 border border-purple-200 dark:border-purple-800 space-y-4\">\n          <h4 className=\"font-extrabold text-sm text-purple-700 dark:text-purple-300 flex items-center gap-2\">\n            üìà {t('currency.volatility_trend_analysis')}\n          </h4>\n          <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\n            <div className=\"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 text-center\">\n              <div className=\"text-[10px] font-bold text-purple-500 uppercase tracking-wider\">{t('currency.current_rate')}</div>\n              <div className=\"text-lg font-black text-purple-700 dark:text-purple-300\">{volatility.current.toFixed(4)}</div>\n              <div className=\"text-[10px] text-slate-500\">\n                {volatility.percentile > 70 ? `üü¢ ${t('currency.high_in_range')}` : volatility.percentile < 30 ? `üî¥ ${t('currency.low_in_range')}` : `üü° ${t('currency.in_average')}`}\n              </div>\n            </div>\n            <div className=\"bg-slate-50 dark:bg-slate-700/30 rounded-lg p-3 text-center\">\n              <div className=\"text-[10px] font-bold text-slate-500 uppercase tracking-wider\">{t('currency.range_min_max')}</div>\n              <div className=\"text-sm font-bold text-slate-700 dark:text-slate-200\">{volatility.min.toFixed(4)} ‚Äì {volatility.max.toFixed(4)}</div>\n              <div className=\"text-[10px] text-slate-500\">Œî {(volatility.range * 100).toFixed(2)}%</div>\n            </div>\n            <div className=\"bg-slate-50 dark:bg-slate-700/30 rounded-lg p-3 text-center\">\n              <div className=\"text-[10px] font-bold text-slate-500 uppercase tracking-wider\">{t('currency.volatility_sigma')}</div>\n              <div className=\"text-sm font-bold text-slate-700 dark:text-slate-200\">{volatility.stdDev.toFixed(5)}</div>\n              <div className=\"text-[10px] text-slate-500\">{volatility.stdDev < 0.005 ? `üò¥ ${t('currency.stable')}` : volatility.stdDev < 0.015 ? `‚ö° ${t('currency.moderate')}` : `üåä ${t('currency.high')}`}</div>\n            </div>\n            <div className=\"bg-slate-50 dark:bg-slate-700/30 rounded-lg p-3 text-center\">\n              <div className=\"text-[10px] font-bold text-slate-500 uppercase tracking-wider\">{t('currency.current_trend')}</div>\n              <div className=\"text-sm font-bold text-slate-700 dark:text-slate-200\">\n                {volatility.streakDirection === 'up' ? 'üìà' : volatility.streakDirection === 'down' ? 'üìâ' : '‚û°Ô∏è'} {volatility.currentStreak}{t('currency.days_abbr')} {volatility.streakDirection === 'up' ? t('currency.going_up') : volatility.streakDirection === 'down' ? t('currency.going_down') : t('currency.stable')}\n              </div>\n              <div className=\"text-[10px] text-slate-500\">\n                {volatility.streakDirection === 'up' ? `‚úÖ ${t('currency.good_time_to_exchange')}` : volatility.streakDirection === 'down' ? `‚è≥ ${t('currency.maybe_wait')}` : `ü§∑ ${t('currency.neutral')}`}\n              </div>\n            </div>\n          </div>\n          {/* Percentile bar */}\n          <div className=\"space-y-1\">\n            <div className=\"flex justify-between text-[10px] text-slate-500\">\n              <span>Min {volatility.min.toFixed(4)}</span>\n              <span>{t('currency.current_position_in_range')}</span>\n              <span>Max {volatility.max.toFixed(4)}</span>\n            </div>\n            <div className=\"h-3 bg-gradient-to-r from-red-400 via-yellow-400 to-emerald-400 rounded-full relative\">\n              <div\n                className=\"absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-white border-2 border-slate-800 dark:border-white rounded-full shadow-lg\"\n                style={{ left: `calc(${Math.max(2, Math.min(98, volatility.percentile))}% - 8px)` }}\n              />\n            </div>\n            <div className=\"text-center text-xs font-bold text-slate-600 dark:text-slate-500\">\n              {t('currency.percentile')}: {volatility.percentile.toFixed(0)}%\n              {volatility.percentile > 70 ? ` ‚Äî üéØ ${t('currency.favorable_moment')}` : volatility.percentile < 30 ? ` ‚Äî ‚è∞ ${t('currency.low_rate_wait')}` : ` ‚Äî ${t('currency.normal')}`}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Life Hacks */}\n      <div className=\"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/20 dark:to-teal-950/20 rounded-xl p-5 border border-emerald-200 dark:border-emerald-800 space-y-3\">\n        <h4 className=\"font-extrabold text-sm text-emerald-700 dark:text-emerald-300 flex items-center gap-2\">\n          üéØ {t('currency.life_hacks_title')}\n        </h4>\n        <div className=\"grid sm:grid-cols-2 gap-2\">\n          {[\n            { emoji: 'üèß', text: t('currency.hack_atm_monday') },\n            { emoji: 'üì±', text: t('currency.hack_wise_revolut') },\n            { emoji: 'üìÖ', text: t('currency.hack_end_month') },\n            { emoji: 'üí°', text: t('currency.hack_split_exchange') },\n            { emoji: '‚ö°', text: t('currency.hack_avoid_friday') },\n            { emoji: 'üîî', text: t('currency.hack_set_alert') },\n          ].map((hack, i) => (\n            <div key={i} className=\"flex items-start gap-2 bg-white/60 dark:bg-slate-800/60 rounded-lg p-2.5 text-xs text-slate-700 dark:text-slate-300\">\n              <span className=\"text-base flex-shrink-0\">{hack.emoji}</span>\n              <span>{hack.text}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Fun stat: how much 1000 CHF gives you on best vs worst day */}\n      {volatility && (\n        <div className=\"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-5 text-white space-y-2\">\n          <h4 className=\"font-extrabold text-sm flex items-center gap-2\">üßÆ {t('currency.how_much_difference')}</h4>\n          <div className=\"grid sm:grid-cols-3 gap-3 text-center\">\n            <div className=\"bg-white/15 rounded-lg p-3\">\n              <div className=\"text-[10px] uppercase tracking-wider text-white/70\">{t('currency.1000chf_best_rate')}</div>\n              <div className=\"text-xl font-black\">‚Ç¨ {(1000 * volatility.max).toFixed(2)}</div>\n            </div>\n            <div className=\"bg-white/15 rounded-lg p-3\">\n              <div className=\"text-[10px] uppercase tracking-wider text-white/70\">{t('currency.1000chf_worst_rate')}</div>\n              <div className=\"text-xl font-black\">‚Ç¨ {(1000 * volatility.min).toFixed(2)}</div>\n            </div>\n            <div className=\"bg-white/25 rounded-lg p-3 ring-2 ring-white/50\">\n              <div className=\"text-[10px] uppercase tracking-wider text-white/90\">{t('currency.potential_difference')}</div>\n              <div className=\"text-xl font-black text-amber-300\">‚Ç¨ {(1000 * volatility.range).toFixed(2)}</div>\n              <div className=\"text-[10px] text-white/70\">{t('currency.on_1000chf_period')}</div>\n            </div>\n          </div>\n          <p className=\"text-[11px] text-white/60 text-center mt-1\">\n            {t('currency.on_5000chf_annual')} <strong>‚Ç¨ {(5000 * volatility.range * 12).toFixed(0)}</strong>!\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// --- 5-Year Weighted Average Stats ---\nconst WeightedAverageStats: React.FC<{\n  historyData: Array<{ date: string; rate: number }>;\n  currentRate: number;\n  period: string;\n}> = ({ historyData, currentRate, period }) => {\n  const { t } = useTranslation();\n  const stats = useMemo(() => {\n    if (historyData.length < 5) return null;\n\n    const rates = historyData.map(d => d.rate);\n    const n = rates.length;\n    \n    // Simple average\n    const simpleAvg = rates.reduce((a, b) => a + b, 0) / n;\n    \n    // Weighted average ‚Äî more recent data weighted higher (linear decay)\n    let weightedSum = 0;\n    let totalWeight = 0;\n    for (let i = 0; i < n; i++) {\n      const weight = (i + 1) / n; // 0‚Üí1, newest data has highest weight\n      weightedSum += rates[i] * weight;\n      totalWeight += weight;\n    }\n    const weightedAvg = weightedSum / totalWeight;\n    \n    // Exponential weighted average (EWA) ‚Äî alpha = 2/(N+1)\n    const alpha = 2 / (n + 1);\n    let ewa = rates[0];\n    for (let i = 1; i < n; i++) {\n      ewa = alpha * rates[i] + (1 - alpha) * ewa;\n    }\n    \n    // Yearly averages\n    const yearlyData: Record<string, { sum: number; count: number }> = {};\n    for (const point of historyData) {\n      const year = point.date.split('-')[0];\n      if (!yearlyData[year]) yearlyData[year] = { sum: 0, count: 0 };\n      yearlyData[year].sum += point.rate;\n      yearlyData[year].count++;\n    }\n    const yearlyAvgs = Object.entries(yearlyData).map(([year, d]) => ({\n      year,\n      avg: d.sum / d.count,\n      count: d.count,\n    })).sort((a, b) => a.year.localeCompare(b.year));\n    \n    // Quarterly averages\n    const quarterlyData: Record<string, { sum: number; count: number }> = {};\n    for (const point of historyData) {\n      const d = new Date(point.date);\n      const q = Math.ceil((d.getMonth() + 1) / 3);\n      const key = `${d.getFullYear()}-Q${q}`;\n      if (!quarterlyData[key]) quarterlyData[key] = { sum: 0, count: 0 };\n      quarterlyData[key].sum += point.rate;\n      quarterlyData[key].count++;\n    }\n    const quarterlyAvgs = Object.entries(quarterlyData).map(([quarter, d]) => ({\n      quarter,\n      avg: d.sum / d.count,\n    })).sort((a, b) => a.quarter.localeCompare(b.quarter));\n    \n    // Current position relative to averages\n    const currentVsSimple = ((currentRate - simpleAvg) / simpleAvg) * 100;\n    const currentVsWeighted = ((currentRate - weightedAvg) / weightedAvg) * 100;\n    \n    // Annual trend (% change per year)\n    let annualTrend = 0;\n    if (yearlyAvgs.length >= 2) {\n      const first = yearlyAvgs[0].avg;\n      const last = yearlyAvgs[yearlyAvgs.length - 1].avg;\n      const years = yearlyAvgs.length - 1;\n      annualTrend = ((last / first) - 1) * 100 / years;\n    }\n    \n    // Impact for a frontaliere: 5000 CHF/month\n    const monthlyAmount = 5000;\n    const currentMonthly = monthlyAmount * currentRate;\n    const avgMonthly = monthlyAmount * weightedAvg;\n    const monthlyDiff = currentMonthly - avgMonthly;\n    const annualDiff = monthlyDiff * 12;\n\n    return { simpleAvg, weightedAvg, ewa, yearlyAvgs, quarterlyAvgs, currentVsSimple, currentVsWeighted, annualTrend, currentMonthly, avgMonthly, monthlyDiff, annualDiff };\n  }, [historyData, currentRate]);\n\n  if (!stats || historyData.length < 30) return null;\n\n  const periodLabel = period === '5y' ? t('currency.period_5y') : period === '1y' ? t('currency.period_1y') : period === '6m' ? t('currency.period_6m') : period === '3m' ? t('currency.period_3m') : t('currency.period_1m');\n\n  return (\n    <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-2xl border border-blue-200 dark:border-blue-800 p-6 space-y-5\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-xl\">\n          <BarChart3 size={24} className=\"text-blue-600 dark:text-blue-400\" />\n        </div>\n        <div>\n          <h3 className=\"text-xl font-extrabold text-slate-800 dark:text-slate-100\">üìä {t('currency.weighted_avg_stats')}</h3>\n          <p className=\"text-sm text-slate-600 dark:text-slate-500\">\n            {t('currency.weighted_avg_desc', { period: periodLabel })}\n          </p>\n        </div>\n      </div>\n\n      {/* Key Averages */}\n      <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 text-center border border-slate-200 dark:border-slate-700\">\n          <div className=\"text-[10px] font-bold text-slate-500 uppercase tracking-wider\">{t('currency.current_rate')}</div>\n          <div className=\"text-xl font-black text-indigo-600\">{currentRate.toFixed(4)}</div>\n          <div className={`text-[10px] font-bold ${stats.currentVsWeighted >= 0 ? 'text-emerald-600' : 'text-red-600'}`}>\n            {stats.currentVsWeighted >= 0 ? '‚Üë' : '‚Üì'} {Math.abs(stats.currentVsWeighted).toFixed(2)}% vs {t('currency.vs_average')}\n          </div>\n        </div>\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 text-center border border-slate-200 dark:border-slate-700\">\n          <div className=\"text-[10px] font-bold text-slate-500 uppercase tracking-wider\">{t('currency.simple_average')}</div>\n          <div className=\"text-xl font-black text-slate-700 dark:text-slate-200\">{stats.simpleAvg.toFixed(4)}</div>\n          <div className=\"text-[10px] text-slate-500\">{historyData.length} {t('currency.data_points')}</div>\n        </div>\n        <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 text-center border-2 border-blue-300 dark:border-blue-700\">\n          <div className=\"text-[10px] font-bold text-blue-600 uppercase tracking-wider\">{t('currency.weighted_average')}</div>\n          <div className=\"text-xl font-black text-blue-700 dark:text-blue-300\">{stats.weightedAvg.toFixed(4)}</div>\n          <div className=\"text-[10px] text-blue-500\">‚≠ê {t('currency.more_reliable')}</div>\n        </div>\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 text-center border border-slate-200 dark:border-slate-700\">\n          <div className=\"text-[10px] font-bold text-slate-500 uppercase tracking-wider\">{t('currency.exponential_average')}</div>\n          <div className=\"text-xl font-black text-slate-700 dark:text-slate-200\">{stats.ewa.toFixed(4)}</div>\n          <div className=\"text-[10px] text-slate-500\">{t('currency.adaptive_ema')}</div>\n        </div>\n      </div>\n\n      {/* Yearly Chart */}\n      {stats.yearlyAvgs.length > 1 && (\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700\">\n          <h4 className=\"font-bold text-sm text-slate-700 dark:text-slate-300 mb-3 flex items-center gap-2\">\n            <Calendar size={14} /> {t('currency.yearly_avg_rate')}\n          </h4>\n          <div className=\"h-[200px]\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <BarChart data={stats.yearlyAvgs} margin={{ top: 5, right: 10, left: 10, bottom: 5 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" opacity={0.3} />\n                <XAxis dataKey=\"year\" tick={{ fontSize: 12 }} />\n                <YAxis domain={[\n                  Math.min(...stats.yearlyAvgs.map(d => d.avg)) * 0.998,\n                  Math.max(...stats.yearlyAvgs.map(d => d.avg)) * 1.002\n                ]} tick={{ fontSize: 11 }} tickFormatter={(v: number) => v.toFixed(3)} />\n                <Tooltip formatter={(v: number) => v.toFixed(5)} />\n                <Bar dataKey=\"avg\" radius={[8, 8, 0, 0]}>\n                  {stats.yearlyAvgs.map((entry, i) => (\n                    <Cell key={entry.year} fill={i === stats.yearlyAvgs.length - 1 ? '#6366f1' : '#94a3b8'} />\n                  ))}\n                </Bar>\n              </BarChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      )}\n\n      {/* Impact Calculator */}\n      <div className=\"bg-gradient-to-r from-indigo-500 to-blue-600 rounded-xl p-5 text-white space-y-3\">\n        <h4 className=\"font-extrabold text-sm flex items-center gap-2\">üí∞ {t('currency.impact_frontaliere')}</h4>\n        <div className=\"grid sm:grid-cols-3 gap-3 text-center\">\n          <div className=\"bg-white/15 rounded-lg p-3\">\n            <div className=\"text-[10px] uppercase tracking-wider text-white/70\">{t('currency.at_current_rate')}</div>\n            <div className=\"text-xl font-black\">‚Ç¨ {stats.currentMonthly.toFixed(0)}/{t('currency.month_abbr')}</div>\n          </div>\n          <div className=\"bg-white/15 rounded-lg p-3\">\n            <div className=\"text-[10px] uppercase tracking-wider text-white/70\">{t('currency.at_weighted_avg')}</div>\n            <div className=\"text-xl font-black\">‚Ç¨ {stats.avgMonthly.toFixed(0)}/{t('currency.month_abbr')}</div>\n          </div>\n          <div className=\"bg-white/25 rounded-lg p-3 ring-2 ring-white/50\">\n            <div className=\"text-[10px] uppercase tracking-wider text-white/90\">{t('currency.annual_difference')}</div>\n            <div className={`text-xl font-black ${stats.annualDiff >= 0 ? 'text-emerald-300' : 'text-amber-300'}`}>\n              {stats.annualDiff >= 0 ? '+' : ''}‚Ç¨ {stats.annualDiff.toFixed(0)}\n            </div>\n            <div className=\"text-[10px] text-white/70\">\n              {stats.annualDiff >= 0 ? `‚úÖ ${t('currency.rate_favors_you')}` : `‚ö†Ô∏è ${t('currency.rate_below_average')}`}\n            </div>\n          </div>\n        </div>\n        {stats.annualTrend !== 0 && (\n          <p className=\"text-[11px] text-white/60 text-center\">\n            {t('currency.avg_trend')}: {stats.annualTrend >= 0 ? '+' : ''}{stats.annualTrend.toFixed(3)}% {t('currency.annual')}\n            {stats.annualTrend > 0 ? ` (${t('currency.eur_strengthens')})` : ` (${t('currency.chf_strengthens')})`}\n          </p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst CurrencyExchange: React.FC = () => {\n  const { t } = useTranslation();\n  const [amount, setAmount] = useState<number>(1000);\n  const [realRate, setRealRate] = useState<number>(0.95);\n  const [loading, setLoading] = useState(false);\n  const [lastUpdate, setLastUpdate] = useState<Date | null>(null);\n  const [historyPeriod, setHistoryPeriod] = useState<'1m' | '3m' | '6m' | '1y' | '5y'>('6m');\n  const [historyData, setHistoryData] = useState<Array<{ date: string; rate: number }>>([]);\n  const [historyLoading, setHistoryLoading] = useState(false);\n  const [exchangeSubTab, setExchangeSubTab] = useState<'overview' | 'statistics'>('overview');\n\n  const fetchRealRate = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch('https://api.frankfurter.app/latest?from=CHF&to=EUR');\n      const data = await res.json();\n      if (data?.rates?.EUR) {\n        setRealRate(data.rates.EUR);\n        setLastUpdate(new Date());\n      }\n    } catch (e) {\n      console.error(\"Failed to fetch rate\", e);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchRealRate();\n    const interval = setInterval(fetchRealRate, 60000); // Update every minute\n    return () => clearInterval(interval);\n  }, []);\n\n  // Fetch historical exchange rate data\n  const fetchHistory = async (period: string) => {\n    setHistoryLoading(true);\n    try {\n      const end = new Date();\n      const start = new Date();\n      switch (period) {\n        case '1m': start.setMonth(end.getMonth() - 1); break;\n        case '3m': start.setMonth(end.getMonth() - 3); break;\n        case '6m': start.setMonth(end.getMonth() - 6); break;\n        case '1y': start.setFullYear(end.getFullYear() - 1); break;\n        case '5y': start.setFullYear(end.getFullYear() - 5); break;\n      }\n      const startStr = start.toISOString().split('T')[0];\n      const endStr = end.toISOString().split('T')[0];\n      const res = await fetch(`https://api.frankfurter.app/${startStr}..${endStr}?from=CHF&to=EUR`);\n      const data = await res.json();\n      if (data?.rates) {\n        const points = Object.entries(data.rates).map(([date, rates]: [string, any]) => ({\n          date,\n          rate: rates.EUR,\n        }));\n        setHistoryData(points);\n      }\n    } catch (e) {\n      console.error('Failed to fetch history', e);\n    } finally {\n      setHistoryLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchHistory(historyPeriod);\n    Analytics.trackUIInteraction('comparatori', 'cambio_valuta', 'periodo_storico', 'cambio', historyPeriod);\n  }, [historyPeriod]);\n\n  const calculateExchange = (provider: ExchangeProvider) => {\n    let markup = provider.exchangeRateMarkup;\n    let commPct = provider.commissionPercent;\n\n    // Revolut: free up to 1000 EUR/month, 1% fee above that\n    if (provider.name === 'Revolut') {\n      const freeLimit = 1000; // EUR/month free tier (Standard plan)\n      const amountEur = amount * realRate;\n      if (amountEur > freeLimit) {\n        // Fair usage: 1% on the amount exceeding free limit\n        const excessEur = amountEur - freeLimit;\n        const fairUsageFee = excessEur * 0.01; // 1%\n        commPct = (fairUsageFee / amountEur) * 100; // effective % on total\n      } else {\n        markup = 0; // Within free tier, no markup\n      }\n    }\n\n    // Wise: volume discount above 22k EUR/month (0.20% instead of 0.35%)\n    if (provider.name === 'Wise (TransferWise)') {\n      const amountEur = amount * realRate;\n      if (amountEur >= 22000) {\n        commPct = 0.20; // Discounted rate for high volume\n      }\n    }\n\n    const appliedRate = realRate * (1 - markup);\n    const grossAmount = amount * appliedRate;\n    const commissionFlat = provider.commission;\n    const commissionPercent = grossAmount * (commPct / 100);\n    const totalCommission = commissionFlat + commissionPercent;\n    const netAmount = grossAmount - totalCommission;\n    const effectiveRate = netAmount / amount;\n    const totalCost = amount - netAmount / realRate; // Cost in CHF\n    const costPercent = (totalCost / amount) * 100;\n\n    return {\n      appliedRate,\n      grossAmount,\n      commissionFlat,\n      commissionPercent,\n      totalCommission,\n      netAmount,\n      effectiveRate,\n      totalCost,\n      costPercent\n    };\n  };\n\n  const results = providers.map(p => ({\n    provider: p,\n    ...calculateExchange(p)\n  })).sort((a, b) => b.netAmount - a.netAmount);\n\n  const best = results[0];\n  const worst = results[results.length - 1];\n  const savingsVsWorst = worst.totalCost - best.totalCost;\n\n  return (\n    <div className=\"max-w-7xl mx-auto space-y-6 animate-fade-in\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-3xl p-8 text-white shadow-2xl\">\n        <div className=\"flex items-center gap-4 mb-4\">\n          <div className=\"p-3 bg-white/20 rounded-2xl backdrop-blur-sm\">\n            <ArrowRightLeft size={32} />\n          </div>\n          <div>\n            <h1 className=\"text-3xl font-extrabold\">{t('currency.title')}</h1>\n            <p className=\"text-indigo-100 mt-1\">{t('currency.subtitle')}</p>\n          </div>\n        </div>\n\n        {/* Important Notice */}\n        <div className=\"mt-6 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20\">\n          <div className=\"flex items-start gap-3\">\n            <AlertCircle size={24} className=\"flex-shrink-0 mt-0.5\" />\n            <div className=\"text-sm\">\n              <p className=\"font-bold mb-2\">‚ö†Ô∏è {t('currency.notice_title')}</p>\n              <p className=\"text-indigo-100 leading-relaxed\">\n                {t('currency.notice_text')}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Sub-tab navigation */}\n      <div className=\"flex gap-2 bg-white dark:bg-slate-800 rounded-2xl p-2 border border-slate-200 dark:border-slate-700 shadow-sm\">\n        <button\n          onClick={() => { setExchangeSubTab('overview'); Analytics.trackUIInteraction('comparatori', 'cambio_valuta', 'tab_vista', 'click', 'overview'); }}\n          className={`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-bold transition-all ${\n            exchangeSubTab === 'overview'\n              ? 'bg-indigo-600 text-white shadow-lg'\n              : 'text-slate-600 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700'\n          }`}\n        >\n          <ArrowLeftRight size={16} />\n          {t('currency.tab_compare')}\n        </button>\n        <button\n          onClick={() => { setExchangeSubTab('statistics'); Analytics.trackUIInteraction('comparatori', 'cambio_valuta', 'tab_vista', 'click', 'statistics'); }}\n          className={`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-bold transition-all ${\n            exchangeSubTab === 'statistics'\n              ? 'bg-indigo-600 text-white shadow-lg'\n              : 'text-slate-600 dark:text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700'\n          }`}\n        >\n          <ChartBar size={16} />\n          {t('currency.tab_statistics')}\n        </button>\n      </div>\n\n      {exchangeSubTab === 'overview' ? (\n      <>\n      {/* Calculator + History Side by Side */}\n      <div className=\"grid lg:grid-cols-2 gap-6\">\n      {/* Calculator */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n            <Calculator size={20} className=\"text-indigo-600\" />\n            {t('currency.calculate_exchange')}\n          </h3>\n          <button\n            onClick={fetchRealRate}\n            disabled={loading}\n            className=\"flex items-center gap-2 px-3 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-xl text-xs font-bold hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-all disabled:opacity-50\"\n          >\n            <RefreshCw size={14} className={loading ? 'animate-spin' : ''} />\n            {t('currency.refresh_rate')}\n          </button>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <label className=\"text-xs font-bold text-slate-500 dark:text-slate-500 uppercase tracking-wide\">{t('currency.amount_to_convert')}</label>\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\n                <span className=\"text-slate-500 font-bold\">CHF</span>\n              </div>\n              <input\n                type=\"number\"\n                value={amount}\n                onChange={(e) => setAmount(Math.max(0, parseFloat(e.target.value) || 0))}\n                className=\"w-full pl-14 pr-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-800 dark:text-slate-100 text-lg\"\n                placeholder=\"1000\"\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-xs font-bold text-slate-500 dark:text-slate-500 uppercase tracking-wide flex items-center gap-2\">\n              {t('currency.real_market_rate')}\n              <div className=\"group relative inline-flex items-center cursor-help\">\n                <Info size={12} className=\"text-slate-500\" />\n                <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2.5 bg-slate-800 text-white text-[10px] font-medium leading-relaxed rounded-xl shadow-xl border border-slate-600 pointer-events-none z-50 text-center\">\n                  {t('currency.mid_market_tooltip')}\n                </div>\n              </div>\n            </label>\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\n                <span className=\"text-slate-500 text-sm\">1 CHF =</span>\n              </div>\n              <input\n                type=\"text\"\n                value={`${realRate.toFixed(4)} EUR`}\n                disabled\n                className=\"w-full pl-20 pr-4 py-3 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-600 dark:text-slate-300 text-lg\"\n              />\n            </div>\n            {lastUpdate && (\n              <p className=\"text-[10px] text-slate-500 text-right\">\n                {t('currency.updated')}: {lastUpdate.toLocaleTimeString('it-IT')}\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* History Chart */}\n      <div className=\"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-6 shadow-sm\">\n        <div className=\"flex items-center justify-between mb-4 flex-wrap gap-3\">\n          <h3 className=\"text-lg font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2\">\n            <BarChart3 size={20} className=\"text-indigo-600\" />\n            {t('currency.history_title')}\n          </h3>\n          <div className=\"flex gap-1.5\">\n            {(['1m', '3m', '6m', '1y', '5y'] as const).map(p => (\n              <button key={p}\n                onClick={() => setHistoryPeriod(p)}\n                className={`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${historyPeriod === p ? 'bg-indigo-600 text-white shadow' : 'bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-600'}`}\n              >\n                {p === '1m' ? '1M' : p === '3m' ? '3M' : p === '6m' ? '6M' : p === '1y' ? '1A' : '5A'}\n              </button>\n            ))}\n          </div>\n        </div>\n        {historyLoading ? (\n          <div className=\"h-64 flex items-center justify-center text-slate-500\">\n            <RefreshCw size={24} className=\"animate-spin\" />\n          </div>\n        ) : historyData.length > 0 ? (\n          <ResponsiveContainer width=\"100%\" height={280}>\n            <AreaChart data={historyData}>\n              <defs>\n                <linearGradient id=\"colorRate\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                  <stop offset=\"5%\" stopColor=\"#6366f1\" stopOpacity={0.3} />\n                  <stop offset=\"95%\" stopColor=\"#6366f1\" stopOpacity={0} />\n                </linearGradient>\n              </defs>\n              <CartesianGrid strokeDasharray=\"3 3\" opacity={0.3} />\n              <XAxis dataKey=\"date\" tick={{ fontSize: 10 }} tickFormatter={(v) => { const d = new Date(v); return `${d.getDate()}/${d.getMonth()+1}`; }} interval=\"preserveStartEnd\" />\n              <YAxis domain={['auto', 'auto']} tick={{ fontSize: 11 }} tickFormatter={(v: number) => v.toFixed(3)} />\n              <Tooltip\n                formatter={(value: number) => [`${value.toFixed(4)} EUR`, '1 CHF']}\n                labelFormatter={(label) => new Date(label).toLocaleDateString('it-IT', { day: 'numeric', month: 'long', year: 'numeric' })}\n              />\n              <Area type=\"monotone\" dataKey=\"rate\" stroke=\"#6366f1\" fill=\"url(#colorRate)\" strokeWidth={2} dot={false} />\n            </AreaChart>\n          </ResponsiveContainer>\n        ) : (\n          <div className=\"h-64 flex items-center justify-center text-slate-500 text-sm\">\n            {t('currency.no_data_available')}\n          </div>\n        )}\n        {historyData.length > 1 && (\n          <div className=\"flex justify-between mt-3 text-xs text-slate-500\">\n            <span>Min: {Math.min(...historyData.map(d => d.rate)).toFixed(4)}</span>\n            <span>{t('currency.average')}: {(historyData.reduce((s, d) => s + d.rate, 0) / historyData.length).toFixed(4)}</span>\n            <span>Max: {Math.max(...historyData.map(d => d.rate)).toFixed(4)}</span>\n          </div>\n        )}\n      </div>\n      </div>\n\n      <div className=\"grid md:grid-cols-2 gap-4\">\n        {best.provider.referralUrl ? (\n          <a\n            href={best.provider.referralUrl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/30 dark:to-teal-950/30 rounded-2xl border-2 border-emerald-200 dark:border-emerald-800 p-6 hover:shadow-lg hover:border-emerald-400 transition-all cursor-pointer\"\n          >\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"p-2 bg-emerald-500 rounded-xl\">\n                <TrendingUp className=\"text-white\" size={20} />\n              </div>\n              <div>\n                <div className=\"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase\">{t('currency.best_offer')}</div>\n                <div className=\"text-xl font-extrabold text-slate-800 dark:text-slate-100\">{best.provider.name}</div>\n              </div>\n            </div>\n            <div className=\"text-3xl font-extrabold text-emerald-600 mb-1\">\n              ‚Ç¨ {best.netAmount.toFixed(2)}\n            </div>\n            <div className=\"text-sm text-slate-600 dark:text-slate-500\">\n              {t('currency.total_cost')}: <strong>CHF {best.totalCost.toFixed(2)}</strong> ({best.costPercent.toFixed(2)}%)\n            </div>\n            <div className=\"text-xs text-emerald-600 dark:text-emerald-400 mt-2 font-bold\">\n              üëÜ {t('currency.click_referral')}\n            </div>\n          </a>\n        ) : (\n          <div className=\"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/30 dark:to-teal-950/30 rounded-2xl border-2 border-emerald-200 dark:border-emerald-800 p-6\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"p-2 bg-emerald-500 rounded-xl\">\n                <TrendingUp className=\"text-white\" size={20} />\n              </div>\n              <div>\n                <div className=\"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase\">{t('currency.best_offer')}</div>\n                <div className=\"text-xl font-extrabold text-slate-800 dark:text-slate-100\">{best.provider.name}</div>\n              </div>\n            </div>\n            <div className=\"text-3xl font-extrabold text-emerald-600 mb-1\">\n              ‚Ç¨ {best.netAmount.toFixed(2)}\n            </div>\n            <div className=\"text-sm text-slate-600 dark:text-slate-500\">\n              {t('currency.total_cost')}: <strong>CHF {best.totalCost.toFixed(2)}</strong> ({best.costPercent.toFixed(2)}%)\n            </div>\n          </div>\n        )}\n\n        <div className=\"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-950/30 dark:to-orange-950/30 rounded-2xl border-2 border-red-200 dark:border-red-800 p-6\">\n          <div className=\"flex items-center gap-3 mb-3\">\n            <div className=\"p-2 bg-red-500 rounded-xl\">\n              <TrendingDown className=\"text-white\" size={20} />\n            </div>\n            <div>\n              <div className=\"text-xs font-bold text-red-600 dark:text-red-400 uppercase\">{t('currency.worst_offer')}</div>\n              <div className=\"text-xl font-extrabold text-slate-800 dark:text-slate-100\">{worst.provider.name}</div>\n            </div>\n          </div>\n          <div className=\"text-3xl font-extrabold text-red-600 mb-1\">\n            ‚Ç¨ {worst.netAmount.toFixed(2)}\n          </div>\n          <div className=\"text-sm text-slate-600 dark:text-slate-500\">\n            {t('currency.total_cost')}: <strong>CHF {worst.totalCost.toFixed(2)}</strong> ({worst.costPercent.toFixed(2)}%)\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-950/30 dark:to-yellow-950/30 rounded-2xl border border-amber-200 dark:border-amber-800 p-4\">\n        <div className=\"flex items-start gap-3\">\n          <DollarSign size={24} className=\"text-amber-600 flex-shrink-0 mt-0.5\" />\n          <div className=\"text-sm text-slate-700 dark:text-slate-300\">\n            <strong>{t('currency.potential_savings')}:</strong> {t('currency.savings_text', { best: best.provider.name, worst: worst.provider.name })} <strong className=\"text-amber-600\">CHF {savingsVsWorst.toFixed(2)}</strong> {t('currency.on_this_conversion')}!\n          </div>\n        </div>\n      </div>\n\n      {/* Comparison Table */}\n      <div>\n        <h2 className=\"text-2xl font-extrabold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-4\">\n          <Percent size={24} className=\"text-indigo-600\" />\n          {t('currency.detailed_comparison')}\n        </h2>\n        <div className=\"grid md:grid-cols-2 gap-4\">\n        {results.map((result, idx) => {\n          const isBest = idx === 0;\n          const isWorst = idx === results.length - 1;\n          \n          const CardWrapper = result.provider.referralUrl ? 'a' : 'div';\n          const cardProps = result.provider.referralUrl ? {\n            href: result.provider.referralUrl,\n            target: '_blank',\n            rel: 'noopener noreferrer',\n            className: `block bg-white dark:bg-slate-800 rounded-2xl border-2 p-6 hover:shadow-lg transition-all cursor-pointer ${\n              isBest ? 'border-emerald-500 ring-2 ring-emerald-500/20 hover:ring-emerald-500/40' : isWorst ? 'border-red-500 ring-2 ring-red-500/20' : 'border-slate-200 dark:border-slate-700 hover:border-emerald-400'\n            }`\n          } : {\n            className: `bg-white dark:bg-slate-800 rounded-2xl border-2 p-6 hover:shadow-lg transition-all ${\n              isBest ? 'border-emerald-500 ring-2 ring-emerald-500/20' : isWorst ? 'border-red-500 ring-2 ring-red-500/20' : 'border-slate-200 dark:border-slate-700'\n            }`\n          };\n          \n          return (\n            <CardWrapper\n              key={result.provider.name}\n              {...cardProps}\n            >\n              {isBest && (\n                <div className=\"mb-3 inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-500 text-white text-xs font-bold rounded-full\">\n                  <CheckCircle2 size={14} />\n                  {t('currency.best_choice')}\n                </div>\n              )}\n\n              <div className=\"flex items-start justify-between gap-4 mb-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div className={`text-4xl p-3 bg-gradient-to-br ${result.provider.color} rounded-2xl`}>\n                    {result.provider.logo}\n                  </div>\n                  <div>\n                    <h3 className=\"text-xl font-bold text-slate-800 dark:text-slate-100\">{result.provider.name}</h3>\n                    <p className=\"text-sm text-slate-500 dark:text-slate-500\">{t(`currency.${result.provider.transferTimeKey}`)}</p>\n                  </div>\n                </div>\n\n                <div className=\"text-right\">\n                  <div className=\"text-2xl font-extrabold text-slate-800 dark:text-slate-100\">\n                    ‚Ç¨ {result.netAmount.toFixed(2)}\n                  </div>\n                  <div className={`text-sm font-bold ${isBest ? 'text-emerald-600' : isWorst ? 'text-red-600' : 'text-slate-600 dark:text-slate-500'}`}>\n                    {t('currency.cost')}: {result.costPercent.toFixed(2)}%\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"grid md:grid-cols-3 gap-4 mb-4\">\n                <div className=\"p-3 bg-slate-50 dark:bg-slate-900 rounded-xl\">\n                  <div className=\"text-xs text-slate-500 dark:text-slate-500 mb-1\">{t('currency.applied_rate')}</div>\n                  <div className=\"text-lg font-bold text-slate-800 dark:text-slate-100\">\n                    {result.appliedRate.toFixed(4)}\n                  </div>\n                  <div className=\"text-xs text-slate-500 dark:text-slate-500\">\n                    {result.provider.exchangeRateMarkup > 0 ? (\n                      <span className=\"text-red-600\">-{(result.provider.exchangeRateMarkup * 100).toFixed(2)}% spread</span>\n                    ) : (\n                      <span className=\"text-emerald-600\">‚úì {t('currency.real_rate')}</span>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"p-3 bg-slate-50 dark:bg-slate-900 rounded-xl\">\n                  <div className=\"text-xs text-slate-500 dark:text-slate-500 mb-1\">{t('currency.declared_commission')}</div>\n                  <div className=\"text-lg font-bold text-slate-800 dark:text-slate-100\">\n                    {result.totalCommission.toFixed(2)} EUR\n                  </div>\n                  <div className=\"text-xs text-slate-500 dark:text-slate-500\">\n                    {result.provider.commission > 0 && `CHF ${result.provider.commission} + `}\n                    {result.provider.commissionPercent}%\n                  </div>\n                </div>\n\n                <div className=\"p-3 bg-slate-50 dark:bg-slate-900 rounded-xl\">\n                  <div className=\"text-xs text-slate-500 dark:text-slate-500 mb-1\">{t('currency.real_total_cost')}</div>\n                  <div className=\"text-lg font-bold text-slate-800 dark:text-slate-100\">\n                    CHF {result.totalCost.toFixed(2)}\n                  </div>\n                  <div className=\"text-xs text-slate-500 dark:text-slate-500\">\n                    {t('currency.commissions_spread')}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"border-t border-slate-200 dark:border-slate-700 pt-3\">\n                <div className=\"flex flex-wrap gap-2\">\n                  {result.provider.featureKeys.map((featureKey, fidx) => (\n                    <span\n                      key={fidx}\n                      className=\"px-2.5 py-1 bg-slate-100 dark:bg-slate-900 text-slate-700 dark:text-slate-300 text-xs font-medium rounded-lg\"\n                    >\n                      {t(`currency.${featureKey}`)}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </CardWrapper>\n          );\n        })}\n        </div>\n      </div>\n\n      {/* Experimental: Exchange Timing Analysis */}\n      {/* Moved to Statistics subtab */}\n\n      {/* Educational Section */}\n      <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-2xl border border-blue-200 dark:border-blue-800 p-6\">\n        <h3 className=\"text-xl font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2\">\n          <Info size={20} className=\"text-blue-600\" />\n          {t('currency.how_hidden_spread_works')}\n        </h3>\n        \n        <div className=\"space-y-4 text-sm text-slate-700 dark:text-slate-300\">\n          <div className=\"p-4 bg-white/50 dark:bg-slate-900/50 rounded-xl\">\n            <p className=\"font-bold text-blue-600 mb-2\">üìä {t('currency.practical_example_title')}:</p>\n            <ul className=\"space-y-2 ml-4\">\n              <li><strong>{t('currency.example_real_rate')}:</strong> {t('currency.example_real_rate_text')}</li>\n              <li><strong>{t('currency.example_traditional_bank')}:</strong> {t('currency.example_traditional_bank_text')}</li>\n              <li><strong>{t('currency.example_hidden_cost')}:</strong> {t('currency.example_hidden_cost_text')}</li>\n              <li><strong>{t('currency.example_wise')}:</strong> {t('currency.example_wise_text')}</li>\n              <li><strong>{t('currency.example_savings')}:</strong> <strong className=\"text-emerald-600\">{t('currency.example_savings_text')}</strong></li>\n            </ul>\n          </div>\n\n          <div className=\"p-4 bg-white/50 dark:bg-slate-900/50 rounded-xl\">\n            <p className=\"font-bold text-indigo-600 mb-2\">üí° {t('currency.tips_to_save_title')}:</p>\n            <ul className=\"space-y-1 ml-4 list-disc\">\n              <li>{t('currency.tip_use_wise')}</li>\n              <li>{t('currency.tip_revolut_small')}</li>\n              <li>{t('currency.tip_avoid_traditional')}</li>\n              <li>{t('currency.tip_check_effective_rate')}</li>\n              <li>{t('currency.tip_large_amounts')}</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      </>\n      ) : (\n      <>\n      {/* Statistics Sub-tab Content */}\n      <WeightedAverageStats historyData={historyData} currentRate={realRate} period={historyPeriod} />\n      <ExchangeTimingSection historyData={historyData} />\n      </>\n      )}\n    </div>\n  );\n};\n\nexport default CurrencyExchange;\n"],"names":["__iconNode","ChartBar","createLucideIcon","FlaskConical","providers","DAY_KEYS","MONTH_KEYS","analyzeTimingPatterns","historyData","dayBuckets","monthBuckets","point","d","dow","dayOfWeek","b","i","monthOfYear","m","activeDays","bestDay","a","worstDay","bestMonth","worstMonth","analyzeVolatility","rates","mean","variance","sum","r","stdDev","min","max","range","current","percentile","weeklyChanges","avgWeeklyChange","maxWeeklyGain","maxWeeklyLoss","currentStreak","streakDirection","diff","ExchangeTimingSection","useTranslation","timing","useMemo","volatility","dayMin","dayMax","monthMin","monthMax","jsxs","jsx","TrendingUp","TrendingDown","Calendar","ResponsiveContainer","BarChart","CartesianGrid","XAxis","v","YAxis","Tooltip","Bar","entry","Cell","Clock","Zap","hack","WeightedAverageStats","currentRate","period","t","stats","n","simpleAvg","weightedSum","totalWeight","weight","weightedAvg","alpha","ewa","yearlyData","year","yearlyAvgs","quarterlyData","q","key","quarterlyAvgs","quarter","currentVsSimple","currentVsWeighted","annualTrend","first","last","years","monthlyAmount","currentMonthly","avgMonthly","monthlyDiff","annualDiff","periodLabel","BarChart3","CurrencyExchange","amount","setAmount","useState","realRate","setRealRate","loading","setLoading","lastUpdate","setLastUpdate","historyPeriod","setHistoryPeriod","setHistoryData","historyLoading","setHistoryLoading","exchangeSubTab","setExchangeSubTab","fetchRealRate","data","_a","e","useEffect","interval","fetchHistory","end","start","startStr","endStr","points","date","Analytics","calculateExchange","provider","markup","commPct","amountEur","appliedRate","grossAmount","commissionFlat","commissionPercent","totalCommission","netAmount","effectiveRate","totalCost","costPercent","results","p","best","worst","savingsVsWorst","ArrowRightLeft","AlertCircle","ArrowLeftRight","Fragment","Calculator","RefreshCw","Info","AreaChart","value","label","Area","s","DollarSign","Percent","result","idx","isBest","isWorst","CardWrapper","cardProps","CheckCircle2","featureKey","fidx"],"mappings":"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","x_google_ignoreList":[0,1]}