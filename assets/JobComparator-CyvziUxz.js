import{u as S,$ as H,a0 as z,j as e,D as F,s as V,a1 as L,t as v,z as D,I as O,a2 as P,A as $}from"./index-CU426Fnh.js";import{r as f}from"./vendor-charts-aQyCzDkf.js";import{T as B}from"./trash-2-GyAgZBTW.js";import{D as E}from"./dollar-sign-D2iVYQQx.js";import{C as K}from"./clock-CPrkVnSq.js";import{C as A}from"./coffee-BFHi1YbK.js";import"./vendor-pdf-og5EeDf1.js";import"./vendor-firebase-BEgIyS5z.js";const x=()=>({id:Math.random().toString(36).substr(2,9),companyName:"",country:"CH",grossSalaryCHF:8e4,distanceKm:30,travelTimeMin:45,hasMealVouchers:!1,mealVoucherValue:8,hasParking:!1,parkingCostMonthly:150,homeOfficeDays:0,otherBenefitsCHF:0,canton:"TI"}),Q=()=>{const{t}=S(),[l,d]=f.useState([{...x(),companyName:"",grossSalaryCHF:85e3,country:"CH"},{...x(),companyName:"",grossSalaryCHF:95e3,distanceKm:50,travelTimeMin:60,country:"CH"}]),k=()=>{l.length>=4||(d([...l,{...x(),companyName:`${t("jobs.offer")} ${l.length+1}`}]),$.trackUIInteraction("comparatori","offerte_lavoro","bottone_aggiungi","click",String(l.length+1)))},C=s=>{l.length<=2||d(l.filter(r=>r.id!==s))},n=(s,r,a)=>{d(l.map(o=>o.id===s?{...o,[r]:a}:o))},m=f.useMemo(()=>l.map(s=>{const r={...P,annualIncomeCHF:s.grossSalaryCHF,frontierWorkerType:"NEW"},a=H(r),o=s.country==="IT",h=o?s.grossSalaryCHF*.65/12:a.itResident.netIncomeMonthly,M=o?0:a.chResident.netIncomeMonthly,i=22-s.homeOfficeDays*4.33,T=.15,I=s.distanceKm>40?5:0,b=s.distanceKm*2*T*i+I*i,g=s.hasParking?0:s.parkingCostMonthly,u=s.hasMealVouchers&&o?s.mealVoucherValue*i:0,j=s.travelTimeMin/60*2*i*15,p=o?s.otherBenefitsCHF/12:s.otherBenefitsCHF/12/z,N=b+g+j,y=u+p,w=h-N+y;return{offer:s,netMonthlyIT:h,netMonthlyCH:M,transportCostMonthly:b,parkingCost:g,mealSaving:u,timeCostMonthly:j,otherBenefitsMonthly:p,totalCosts:N,totalBenefits:y,effectiveNetMonthly:w,workDays:i}}).sort((s,r)=>r.effectiveNetMonthly-s.effectiveNetMonthly),[l]),c=m[0];return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-600 via-blue-600 to-cyan-600 rounded-3xl p-8 text-white shadow-2xl",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:e.jsx(F,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold",children:t("jobs.title")}),e.jsx("p",{className:"text-indigo-100 mt-1",children:t("jobs.subtitle")})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[l.map((s,r)=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 p-5 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("input",{type:"text",value:s.companyName,onChange:a=>n(s.id,"companyName",a.target.value),className:"text-lg font-bold text-slate-800 dark:text-slate-100 bg-transparent border-none outline-none w-full",placeholder:t("jobs.companyName")}),l.length>2&&e.jsx("button",{onClick:()=>C(s.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30 rounded-lg transition-colors",children:e.jsx(B,{size:16})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-1",children:[e.jsx(V,{size:12}),t("jobs.country")||"Paese posizione"]}),e.jsxs("div",{className:"flex gap-1 mt-1",children:[e.jsx("button",{onClick:()=>{n(s.id,"country","CH"),s.hasMealVouchers&&n(s.id,"hasMealVouchers",!1)},className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-bold transition-colors ${s.country==="CH"?"bg-red-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"ðŸ‡¨ðŸ‡­ Svizzera"}),e.jsx("button",{onClick:()=>n(s.id,"country","IT"),className:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-bold transition-colors ${s.country==="IT"?"bg-green-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"ðŸ‡®ðŸ‡¹ Italia"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:s.country==="CH"?t("jobs.grossSalary"):t("jobs.grossSalaryIT")}),e.jsx("input",{type:"number",value:s.grossSalaryCHF,onChange:a=>n(s.id,"grossSalaryCHF",Number(a.target.value)),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg font-bold text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",min:0,step:1e3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:t("jobs.distance")}),e.jsx("input",{type:"number",value:s.distanceKm,onChange:a=>n(s.id,"distanceKm",Number(a.target.value)),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg font-semibold text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",min:0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:t("jobs.travelTime")}),e.jsx("input",{type:"number",value:s.travelTimeMin,onChange:a=>n(s.id,"travelTimeMin",Number(a.target.value)),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg font-semibold text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",min:0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:t("jobs.homeOffice")}),e.jsx("input",{type:"range",min:0,max:5,value:s.homeOfficeDays,onChange:a=>n(s.id,"homeOfficeDays",Number(a.target.value)),className:"w-full accent-indigo-600"}),e.jsxs("div",{className:"text-center text-sm font-bold text-slate-700 dark:text-slate-300",children:[s.homeOfficeDays," ",t("jobs.days")]})]}),s.country==="IT"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.hasMealVouchers,onChange:a=>n(s.id,"hasMealVouchers",a.target.checked),className:"w-4 h-4 text-indigo-600 rounded"}),e.jsxs("label",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:[t("jobs.mealVouchers")," (â‚¬",s.mealVoucherValue,"/",t("common.day")||"gg",")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:s.hasParking,onChange:a=>n(s.id,"hasParking",a.target.checked),className:"w-4 h-4 text-indigo-600 rounded"}),e.jsx("label",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:t("jobs.parking")})]})]})]},s.id)),l.length<4&&e.jsxs("button",{onClick:k,className:"rounded-2xl border-2 border-dashed border-slate-300 dark:border-slate-600 p-6 flex flex-col items-center justify-center gap-3 text-slate-400 hover:text-indigo-600 hover:border-indigo-400 transition-all min-h-[200px]",children:[e.jsx(L,{size:32}),e.jsx("span",{className:"font-bold",children:t("jobs.addOffer")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-2xl font-extrabold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[e.jsx(v,{size:24,className:"text-amber-500"}),t("jobs.ranking")]}),m.map((s,r)=>{const a=r===0;return e.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border-2 p-6 transition-all ${a?"border-emerald-500 ring-2 ring-emerald-500/20 shadow-lg":"border-slate-200 dark:border-slate-700"}`,children:[a&&e.jsxs("div",{className:"mb-3 inline-flex items-center gap-1.5 px-3 py-1.5 bg-emerald-500 text-white text-xs font-bold rounded-full",children:[e.jsx(v,{size:14}),t("jobs.bestChoice")]}),e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:s.offer.companyName||`${t("jobs.offer")} ${r+1}`}),e.jsxs("p",{className:"text-sm text-slate-500",children:["RAL CHF ",s.offer.grossSalaryCHF.toLocaleString("it-IT")," â€¢ ",s.offer.distanceKm," km â€¢ ",s.offer.travelTimeMin," min"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase",children:t("jobs.effectiveNet")}),e.jsxs("div",{className:`text-3xl font-extrabold ${a?"text-emerald-600":"text-slate-800 dark:text-slate-100"}`,children:["â‚¬ ",Math.round(s.effectiveNetMonthly).toLocaleString("it-IT")]}),e.jsx("div",{className:"text-xs text-slate-500",children:"/mese"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500 mb-1",children:[e.jsx(E,{size:12}),t("jobs.netTaxes")]}),e.jsxs("div",{className:"font-bold text-slate-800 dark:text-slate-100",children:["â‚¬ ",Math.round(s.netMonthlyIT).toLocaleString("it-IT")]})]}),e.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-red-600 mb-1",children:[e.jsx(D,{size:12}),t("jobs.transport")]}),e.jsxs("div",{className:"font-bold text-red-600",children:["-â‚¬ ",Math.round(s.transportCostMonthly).toLocaleString("it-IT")]})]}),e.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-amber-600 mb-1",children:[e.jsx(K,{size:12}),t("jobs.timeValue")]}),e.jsxs("div",{className:"font-bold text-amber-600",children:["-â‚¬ ",Math.round(s.timeCostMonthly).toLocaleString("it-IT")]})]}),e.jsxs("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-950/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-emerald-600 mb-1",children:[e.jsx(A,{size:12}),t("jobs.benefits")]}),e.jsxs("div",{className:"font-bold text-emerald-600",children:["+â‚¬ ",Math.round(s.totalBenefits).toLocaleString("it-IT")]})]})]}),!a&&c&&e.jsxs("div",{className:"mt-3 p-3 bg-orange-50 dark:bg-orange-950/30 rounded-xl text-sm",children:[e.jsxs("span",{className:"text-orange-600 font-bold",children:[t("jobs.difference"),": -â‚¬ ",Math.round(c.effectiveNetMonthly-s.effectiveNetMonthly).toLocaleString("it-IT"),"/",t("common.monthly").toLowerCase()]}),e.jsxs("span",{className:"text-slate-500 ml-2",children:["(-â‚¬ ",Math.round((c.effectiveNetMonthly-s.effectiveNetMonthly)*12).toLocaleString("it-IT"),"/",t("common.annual").toLowerCase(),")"]})]})]},s.offer.id)})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 rounded-2xl border border-blue-200 dark:border-blue-800 p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(O,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[e.jsx("p",{className:"font-bold mb-1",children:t("jobs.howItWorks")}),e.jsxs("ul",{className:"space-y-1 text-xs list-disc ml-4",children:[e.jsx("li",{children:t("jobs.howItWorks1")}),e.jsx("li",{children:t("jobs.howItWorks2")}),e.jsx("li",{children:t("jobs.howItWorks3")}),e.jsx("li",{children:t("jobs.howItWorks4")})]})]})]})})]})};export{Q as default};
//# sourceMappingURL=JobComparator-CyvziUxz.js.map
